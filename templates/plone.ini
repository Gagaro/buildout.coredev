[DEFAULT]
debug = True

[app:zope2]
paste.app_factory = repoze.obob.publisher:make_obob
repoze.obob.get_root = repoze.zope2.z2bob:get_root
repoze.obob.initializer = repoze.zope2.z2bob:initialize
repoze.obob.helper_factory = repoze.zope2.z2bob:Zope2ObobHelper
zope.conf = ${instance-conf:output}

[filter:errorlog]
use = egg:repoze.errorlog#errorlog
path = /__error_log__
keep = 20
ignore = paste.httpexceptions:HTTPUnauthorized
       paste.httpexceptions:HTTPNotFound
       paste.httpexceptions:HTTPFound

[filter:profile]
use = egg:repoze.profile#profile
log_filename = plone.profile
discard_first_request = true
path = /__profile__
flush_at_shutdown = true

[pipeline:main]
pipeline = egg:Paste#evalerror
           egg:Paste#httpexceptions
           egg:repoze.retry#retry
           egg:repoze.tm#tm
           egg:repoze.vhm#vhm_xheaders
           errorlog
           profile
           zope2

# Note: replace egg:Paste#cgitb with egg:Paste#evalerror above to get
# the browser to display eval'able traceback stacks (unsuitable for
# production).

# The 'pdbpm' middleware, when in the WSGI pipeline, will drop your
# (foregrounded) server process into the pdb post-mortem debugger upon
# any exception; use egg:repoze.debug#pdbpm.

[server:main]
use = egg:repoze.zope2#zserver
host = 127.0.0.1
port = 8080
