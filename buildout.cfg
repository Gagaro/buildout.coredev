[buildout]
extensions = buildout.eggtractor
tractor-target-parts =
    instance
    test
    zopepy
tractor-autoload-zcml = false

extends = src/Zope2/versions-zope2.cfg

unzip = true
versions = versions

parts =
    instance
    test
    zopepy

develop =
    ${buildout:directory}/src/plone.recipe.zope2instance
    ${buildout:directory}/src/Zope2/develop/Acquisition
    ${buildout:directory}/src/Zope2/develop/zope.formlib
    ${buildout:directory}/src/Zope2/develop/zope.sendmail


# Some dependencies aren't declared yet in the packages themselves
# zope.app.content is required by plone.portlets
eggs =
    zope.app.content


[versions]
five.localsitemanager = 0.4
plone.recipe.zope2instance = 2.7


[instance]
recipe = plone.recipe.zope2instance
zope2-location = ${buildout:directory}/src/Zope2
zope2-egg = True
user = admin:admin
debug-mode = on
verbose-security = on
#http-address = 127.0.0.1:8080
eggs = ${buildout:eggs}

environment-vars =
    zope_i18n_compile_mo_files true
    zope_i18n_allowed_languages en


[test-environment]
INSTANCE_HOME = ${instance:location}


[test]
recipe = zc.recipe.testrunner<1.1dev
eggs = ${instance:eggs}
environment = test-environment


[zopepy]
recipe = zc.recipe.egg
eggs = ${instance:eggs}
interpreter = zopepy
scripts = zopepy
