[buildout]
extends = src/Zope2/versions-zope2.cfg

unzip = true
versions = versions

parts =
    instance
    test
    zopepy

develop =
    src/Plone
    src/Products.ATContentTypes
    src/Products.ATReferenceBrowserWidget
    src/Products.Archetypes
    src/Products.CMFActionIcons
    src/Products.CMFCalendar
    src/Products.CMFCore
    src/Products.CMFDefault
    src/Products.CMFDiffTool
    src/Products.CMFDynamicViewFTI
    src/Products.CMFEditions
    src/Products.CMFFormController
    src/Products.CMFPlacefulWorkflow
    src/Products.CMFQuickInstallerTool
    src/Products.CMFTestCase
    src/Products.CMFTopic
    src/Products.CMFUid
    src/Products.DCWorkflow
    src/Products.ExtendedPathIndex
    src/Products.GenericSetup
    src/Products.GroupUserFolder
    src/Products.Marshall
    src/Products.MimetypesRegistry
    src/Products.NuPlone
    src/Products.PasswordResetTool
    src/Products.PlacelessTranslationService
    src/Products.PloneLanguageTool
    src/Products.PlonePAS
    src/Products.PloneTestCase
    src/Products.PluggableAuthService
    src/Products.PluginRegistry
    src/Products.PortalTransforms
    src/Products.ResourceRegistries
    src/Products.SecureMailHost
    src/Products.ZopeVersionControl
    src/Products.kupu
    src/Products.statusmessages
    src/Products.validation
    src/Zope2/develop/Acquisition
    src/Zope2/develop/zope.formlib
    src/Zope2/develop/zope.sendmail
    src/Zope2
    src/archetypes.kss
    src/borg.localrole
    src/five.customerize
    src/kss.core
    src/plone.app.content
    src/plone.app.contentmenu
    src/plone.app.contentrules
    src/plone.app.controlpanel
    src/plone.app.customerize
    src/plone.app.form
    src/plone.app.i18n
    src/plone.app.iterate
    src/plone.app.kss
    src/plone.app.layout
    src/plone.app.linkintegrity
    src/plone.app.locales
    src/plone.app.openid
    src/plone.app.portlets
    src/plone.app.redirector
    src/plone.app.upgrade
    src/plone.app.viewletmanager
    src/plone.app.vocabularies
    src/plone.app.workflow
    src/plone.browserlayer
    src/plone.contentrules
    src/plone.fieldsets
    src/plone.i18n
    src/plone.intelligenttext
    src/plone.keyring
    src/plone.locking
    src/plone.memoize
    src/plone.openid
    src/plone.portlet.collection
    src/plone.portlet.static
    src/plone.portlets
    src/plone.protect
    src/plone.session
    src/plone.theme

eggs =

[versions]
five.localsitemanager = 0.4
plone.recipe.zope2instance = 2.7


[instance]
recipe = plone.recipe.zope2instance
zope2-location = ${buildout:directory}/src/Zope2
zope2-egg = True
user = admin:admin
debug-mode = on
verbose-security = on
#http-address = 127.0.0.1:8080
# Some dependencies aren't declared yet in the packages themselves
# zope.app.content is required by plone.portlets
# Products.ZopeVersionControl is required by Products.CMFEditions
eggs =
    ${buildout:eggs}
    Zope2
    zope.app.content
    Products.ZopeVersionControl
    Plone
zcml =

environment-vars =
    zope_i18n_compile_mo_files true
    zope_i18n_allowed_languages en


[test-environment]
INSTANCE_HOME = ${instance:location}


[test]
recipe = zc.recipe.testrunner<1.1dev
eggs = ${instance:eggs}
environment = test-environment


[zopepy]
recipe = zc.recipe.egg
eggs = ${instance:eggs}
interpreter = zopepy
scripts = zopepy
