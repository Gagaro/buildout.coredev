[buildout]
extends = src/Zope2/versions-zope2.cfg

find-links =
    http://dist.repoze.org/zope2/latest

versions = versions

parts =
    wsgi-conf
    instance-conf
    instance-script
    instance
    test

develop =
    src/Plone
    src/Products.ATContentTypes
    src/Products.ATReferenceBrowserWidget
    src/Products.Archetypes
    src/Products.CMFActionIcons
    src/Products.CMFCalendar
    src/Products.CMFCore
    src/Products.CMFDefault
    src/Products.CMFDiffTool
    src/Products.CMFDynamicViewFTI
    src/Products.CMFEditions
    src/Products.CMFFormController
    src/Products.CMFPlacefulWorkflow
    src/Products.CMFQuickInstallerTool
    src/Products.CMFTestCase
    src/Products.CMFTopic
    src/Products.CMFUid
    src/Products.DCWorkflow
    src/Products.ExtendedPathIndex
    src/Products.GenericSetup
    src/Products.Marshall
    src/Products.MimetypesRegistry
    src/Products.PasswordResetTool
    src/Products.PlacelessTranslationService
    src/Products.PloneLanguageTool
    src/Products.PlonePAS
    src/Products.PloneTestCase
    src/Products.PluggableAuthService
    src/Products.PluginRegistry
    src/Products.PortalTransforms
    src/Products.ResourceRegistries
    src/Products.SecureMailHost
    src/Products.ZopeVersionControl
    src/Products.kupu
    src/Products.statusmessages
    src/Products.validation
    src/Zope2/develop/Acquisition
    src/Zope2/develop/zope.formlib
    src/Zope2/develop/zope.sendmail
    src/Zope2
    src/archetypes.kss
    src/borg.localrole
    src/five.customerize
    src/kss.core
    src/plone.app.content
    src/plone.app.contentmenu
    src/plone.app.contentrules
    src/plone.app.controlpanel
    src/plone.app.customerize
    src/plone.app.form
    src/plone.app.i18n
    src/plone.app.iterate
    src/plone.app.kss
    src/plone.app.layout
    src/plone.app.linkintegrity
    src/plone.app.locales
    src/plone.app.openid
    src/plone.app.portlets
    src/plone.app.redirector
    src/plone.app.upgrade
    src/plone.app.viewletmanager
    src/plone.app.vocabularies
    src/plone.app.workflow
    src/plone.browserlayer
    src/plone.contentrules
    src/plone.fieldsets
    src/plone.i18n
    src/plone.intelligenttext
    src/plone.keyring
    src/plone.locking
    src/plone.memoize
    src/plone.openid
    src/plone.portlet.collection
    src/plone.portlet.static
    src/plone.portlets
    src/plone.protect
    src/plone.session
    src/plone.theme
    src/repoze.zope2

eggs =


[versions]
five.localsitemanager = 0.4
elementtree = 1.2.6-20050316
zope.testing = 3.7.1


[environment]
INSTANCE_HOME = ${buildout:directory}
CLIENT_HOME = ${buildout:directory}/var/instance
ZOPE_CONF = ${buildout:directory}/etc/zope.conf
zope_i18n_compile_mo_files = true
zope_i18n_allowed_languages = en


[wsgi-conf]
recipe = collective.recipe.template
input = templates/plone.ini
output = ${buildout:directory}/etc/plone.ini
instancehome = ${buildout:directory}


[instance-conf]
recipe = collective.recipe.template
input = templates/zope.conf
output = ${buildout:directory}/etc/zope.conf
instancehome = ${buildout:directory}
clienthome = ${buildout:directory}/var/instance
debug-mode = off
filestorage = ${buildout:directory}/var/filestorage


[instance-script]
recipe = zc.recipe.egg
eggs = ${instance:eggs}
scripts = paster=instance
initialization =
    import sys
    args = ['serve', '${buildout:directory}/etc/plone.ini'] + sys.argv[1:]
arguments = args


[instance]
recipe = zc.recipe.egg

# The environment argument is only available for zc.recipe.egg:custom, which
# accepts only one egg and not multiple eggs. It should really be available
# all the time.
initialization =
    import os
    os.environ['ZOPE_CONF'] = '${buildout:directory}/etc/zope.conf'
    os.environ['zope_i18n_compile_mo_files'] = 'true'
    os.environ['zope_i18n_allowed_languages'] = 'en'

# Some dependencies aren't declared yet in the packages themselves
# zope.app.content is required by plone.portlets
# Products.ZopeVersionControl is required by Products.CMFEditions
eggs =
    ${buildout:eggs}
    PasteScript
    WSGIUtils
    repoze.zope2
    zope.server
    repoze.profile
    Zope2
    zope.app.content
    Products.ZopeVersionControl
    Plone [test]
    Products.ATContentTypes
    Products.ATReferenceBrowserWidget
    Products.Archetypes
    Products.CMFActionIcons
    Products.CMFCalendar
    Products.CMFCore
    Products.CMFDefault
    Products.CMFDiffTool
    Products.CMFDynamicViewFTI
    Products.CMFEditions
    Products.CMFFormController
    Products.CMFPlacefulWorkflow
    Products.CMFQuickInstallerTool
    Products.CMFTestCase
    Products.CMFTopic
    Products.CMFUid
    Products.DCWorkflow
    Products.ExtendedPathIndex
    Products.GenericSetup
    Products.Marshall
    Products.MimetypesRegistry
    Products.PasswordResetTool
    Products.PlacelessTranslationService
    Products.PloneLanguageTool
    Products.PlonePAS
    Products.PloneTestCase
    Products.PluggableAuthService
    Products.PluginRegistry
    Products.PortalTransforms
    Products.ResourceRegistries
    Products.SecureMailHost
    Products.ZopeVersionControl
    Products.kupu
    Products.statusmessages
    Products.validation
    archetypes.kss
    borg.localrole
    five.customerize
    kss.core
    plone.app.content
    plone.app.contentmenu
    plone.app.contentrules
    plone.app.controlpanel
    plone.app.customerize
    plone.app.form
    plone.app.i18n
    plone.app.iterate
    plone.app.kss
    plone.app.layout
    plone.app.linkintegrity
    plone.app.locales
    plone.app.openid
    plone.app.portlets
    plone.app.redirector
    plone.app.upgrade
    plone.app.viewletmanager
    plone.app.vocabularies
    plone.app.workflow
    plone.browserlayer
    plone.contentrules
    plone.fieldsets
    plone.i18n
    plone.intelligenttext
    plone.keyring
    plone.locking
    plone.memoize
    plone.openid
    plone.portlet.collection
    plone.portlet.static
    plone.portlets
    plone.protect
    plone.session
    plone.theme


[test]
recipe = zc.recipe.testrunner<1.1dev
eggs = ${instance:eggs}
environment = environment
