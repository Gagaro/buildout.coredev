PLIP 12110: Search ignores accents
==================================

PLIP ticket: https://dev.plone.org/ticket/12110

Review by Giacomo Spettoli (giacomo.spettoli@gmail.com, giacomos on irc)

The PLIP was reviewed on Linux Mint 12 using python 2.6.7 and Firefox
10.

Review steps
------------

- Ran buildout using the plip12110-search-ignores-accents.cfg file.

- Ran tests for Products.CMFPlone before applying the plip
  (Total: 1114 tests, 2 failures, 0 errors)

- Ran tests for plone.app.upgrade before applying the plip
  (Total: 140 tests, 0 failures, 0 errors)

- Ran tests for Products.CMFPlone
  (Total: 1114 tests, 5 failures, 0 errors)

- Ran tests for plone.app.upgrade
  (Total: 140 tests, 12 failures, 2 errors)

- Added pages containing special characters like:
é -> e (ex. économétrie [french])
à -> a (ex. Università [italian])
ò -> o (ex. Pò [italian])
ë -> e (ex. Brontë [english])
ü -> u (ex. sangüíneo [portuguese])
ö -> o (ex. Schön [german])
ß -> ss (ex. Straße [german])
â -> a (ex. château [french])
ñ -> n (ex. niña [spanish])
ç -> c (ex. français [french])
ð -> d (ex. bogið [islandese])
æ -> ae (ex. æs [latin])
 
- Tested search results behavior through the web.

- Examined code.

- Checked code with pep8 and pylint

Notes and observations
----------------------

- the target of the plip has been achieved. Searching for words with and
  without accents/special characters returns all expected results.

- also the search with wildcard (*, ?) is working and it finds all results. 

- In the package Products.CMFPlone there are 3 new failures in tests but they
  seem unrelated with this plip. 

- In the package plone.app.upgrade there are 12 new failures and 2 new errors. 
  There's a new upgradestep (v43) but the corresponding test coverage is missing
  (2 new errors are in plone/app/upgrade/v43/alphas.py)

- the new code is pep8 and pylint friendly

Conclusion
----------

This work is very useful and the search behaves just like it is supposed to do.
When  new test failures will be fixed and when some new test will be added to
cover changes I think that this can be merged.
