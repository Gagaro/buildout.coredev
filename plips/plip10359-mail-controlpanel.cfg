# https://dev.plone.org/ticket/10359
# https://github.com/plone/Products.CMFPlone/issues/214
# Convert mailhost control panel to use z3c.form
# Use registry configuration
# Move it to Products.CMFPlone

[buildout]
extends = plipbase.cfg

auto-checkout +=
    Products.CMFPlone
    plone.app.controlpanel
    plone.app.users

parts +=
    test
    omelette

[omelette]
recipe = collective.recipe.omelette
eggs = ${buildout:eggs}

[test]
recipe = collective.xmltestreport
defaults = ['--auto-color', '--auto-progress']
eggs +=
    plone.app.controlpanel [test]
jenkins-test-eggs =
    Products.CMFPlone
    plone.app.controlpanel
jenkins-test-directories =
    src/plone.app.controlpanel/plone/app/controlpanel

[sources]
plone.app.controlpanel = git ${remotes:plone}/plone.app.controlpanel.git pushurl=${remotes:plone_push}/plone.app.controlpanel.git branch=plip10359-mail-controlpanel
Products.CMFPlone = git ${remotes:plone}/Products.CMFPlone.git pushurl=${remotes:plone_push}/Products.CMFPlone.git branch=plip10359-mail-controlpanel
plone.app.users = git ${remotes:plone}/plone.app.controlpanel.git pushurl=${remotes:plone_push}/plone.app.controlpanel.git branch=plip10359-mail-controlpanel

[versions]
