# http://dev.plone.org/plone/ticket/9302

[buildout]
parts += command
extends = plipbase.cfg ../pil.cfg
#extensions += mrs.developer
auto-checkout +=
    plone.app.event
    plone.event
    Products.DateRecurringIndex
    Products.ATContentTypes
    plone.app.portlets
    plone.app.locales
    plone.app.jquerytools
    collective.calendarwidget
    collective.js.jqueryui

eggs +=
    plone.app.event

[sources]
# THOSE WILL BE PATCHED
plone.app.portlets = svn https://svn.plone.org/svn/plone/plone.app.portlets/trunk

Products.ATContentTypes = svn https://svn.plone.org/svn/collective/Products.ATContentTypes/branches/plip9302-vs-event-integration
plone.app.event = svn https://svn.plone.org/svn/plone/plone.app.event/trunk

## for jquerytools dateinput
plone.app.jquerytools = svn https://svn.plone.org/svn/plone/plone.app.jquerytools/trunk

## git ssh
## USE THIS IF YOU HAVE AN GITHUB ACCOUNT
#Products.DateRecurringIndex = git git@github.com:collective/Products.DateRecurringIndex.git
#plone.event = git git@github.com:collective/plone.event.git

## git read only
## USE THIS IF YOU DON'T HAVE AN GITHUB ACCOUNT
Products.DateRecurringIndex = git git://github.com/collective/Products.DateRecurringIndex.git
plone.event = git git://github.com/collective/plone.event.git

## not yet ready (no egg)
# jquery.recurrenceinput.js = git git://github.com/collective/jquery.recurrenceinput.js.git

## DEPRECATED
collective.calendarwidget = svn https://svn.plone.org/svn/collective/collective.calendarwidget/trunk
collective.js.jqueryui = svn https://svn.plone.org/svn/collective/collective.js.jqueryui/trunk

## BETTER USE TRUNK or RELEASES
# Products.Archetypes = svn https://svn.plone.org/svn/archetypes/Products.Archetypes/branches/plip9302-vs-event-integration
# Plone = svn https://svn.plone.org/svn/plone/Plone/branches/plip9302-vs-event-integration/
# plone.app.portlets = svn https://svn.plone.org/svn/plone/plone.app.portlets/branches/plip9302-vs-event-integration

[instance]
zcml +=
   plone.app.event

[test]
eggs +=
    Products.DateRecurringIndex [test]
    collective.js.jqueryui
    plone.app.event [test]
    plone.event [test]

[command]
recipe = plone.recipe.command
command = 
    git apply --directory=${buildout:directory}/../src/plone.app.portlets ${buildout:directory}/../plips/plip10886-event-improvements-plone.app.portlets.patch
