# http://dev.plone.org/plone/ticket/9302

[buildout]
#parts += patches-plone
extends = plipbase.cfg ../pil.cfg
#extensions += mrs.developer
auto-checkout +=
    Plone
    Products.ATContentTypes
    Products.DateRecurringIndex
    Products.PloneTestCase
    plone.app.event
    plone.app.jquerytools
    plone.app.portlets
    plone.event
    plone.formwidget.recurrence
    archetypes.datetimewidget

eggs +=
    plone.app.event

[sources]
Plone = svn https://svn.plone.org/svn/plone/Plone/branches/plip9302-vs-event-integration
Products.ATContentTypes = svn https://svn.plone.org/svn/collective/Products.ATContentTypes/branches/plip9302-vs-event-integration
Products.PloneTestCase = svn https://svn.plone.org/svn/collective/Products.PloneTestCase/branches/plip9302-vs-event-integration
plone.app.portlets = svn https://svn.plone.org/svn/plone/plone.app.portlets/branches/plip10886-event-improvements

plone.app.event = svn https://svn.plone.org/svn/plone/plone.app.event/trunk

## for jquerytools dateinput
plone.app.jquerytools = svn https://svn.plone.org/svn/plone/plone.app.jquerytools/trunk

## git ssh
## USE THIS IF YOU HAVE AN GITHUB ACCOUNT
#Products.DateRecurringIndex = git git@github.com:collective/Products.DateRecurringIndex.git
#plone.event = git git@github.com:collective/plone.event.git
#plone.formwidget.recurrence = git git@github.com:collective/plone.formwidget.recurrence.git
#archetypes.datetimewidget = git git@github.com:collective/archetypes.datetimewidget.git

## git read only
## USE THIS IF YOU DON'T HAVE AN GITHUB ACCOUNT
Products.DateRecurringIndex = git git://github.com/collective/Products.DateRecurringIndex.git
plone.event = git git://github.com/collective/plone.event.git
plone.formwidget.recurrence = git git://github.com/collective/plone.formwidget.recurrence.git
archetypes.datetimewidget = git git://github.com/collective/archetypes.datetimewidget.git

## for reference: the jquey plugin plone.formwidget.recurrence is based on. it's not an egg!
# jquery.recurrenceinput.js = git git://github.com/collective/jquery.recurrenceinput.js.git

## BETTER USE TRUNK or RELEASES
# Products.Archetypes = svn https://svn.plone.org/svn/archetypes/Products.Archetypes/branches/plip9302-vs-event-integration
# Plone = svn https://svn.plone.org/svn/plone/Plone/branches/plip9302-vs-event-integration/
# plone.app.portlets = svn https://svn.plone.org/svn/plone/plone.app.portlets/branches/plip9302-vs-event-integration

[test]
eggs +=
    Products.DateRecurringIndex [test]
    archetypes.datetimewidget
    plone.app.event [test]
    plone.event [test]
    plone.formwidget.recurrence

[patches-plone]
recipe = plone.recipe.command
command =
    git apply --directory=${buildout:directory}/../src/Plone ${buildout:directory}/../plips/plip10886-event-improvements-Plone.patch
    git apply --directory=${buildout:directory}/../src/Plone ${buildout:directory}/../plips/plip10886-event-improvements-Plone-saveToInt.patch
#    git apply --directory=${buildout:directory}/../src/plone.app.portlets ${buildout:directory}/../plips/plip10886-event-improvements-plone.app.portlets.patch
#update-command = ${patches-plone:command}
