PLIP 8814: Replace SecureMailHost with a standard Zope mailhost
==============================================

This plip is ready for review.

Plip ticket: https://dev.plone.org/plone/ticket/8814

The final acceptance of this PLIP will likely be dependent on whether
changes to Products.MailHost that now live on Zope trunk are merged
for the final 2.12 release.

Summary of changes
------------------

- Added migration of existing SecureMailHost instances to plone.app.upgrade

- Use MailHost instead of SecureMailHost on install

- Remove references to secureSend and other SecureMailHost API calls
  from Products.CMFPlone and plone.app.contentrules

- Add backwards compatibility patches to ensure 3rd party code that
  uses secureSend, validateSingleNormalizedEmailAddress,
  validateSingleEmailAddress, or validateEmailAddresses continues to
  work but produces deprecation warnings.

- Add deprecated import of EMAIL_RE and EMAIL_CUTOFF_RE, since those
  are essentially public APIs of SecureMailHost.

- Committed fixes to Products.MailHost on Zope trunk awaiting review
  for release with Zope 2.12.  The following issues were fixed:

  - Products.MailHost.MailHost makes it difficult to set a charset for
    the message

  - Products.MailHost.MailHost does not handle unicode messages.

  - Products.MailHost.MailHost treats message bodies with a ':' in them
    as headers!!


Needed documentation changes
----------------------------

- Document method deprecations


Backwards compatibility
-----------------------

No known issues.


Credits
-------

Hanno Schlichting
Alec Mitchell
