# https://dev.plone.org/ticket/13350
# ttw users schema editing
[buildout]
extends = plipbase.cfg
auto-checkout +=
    plone.app.users
    plone.schemaeditor
    plone.app.dexterity
    Products.PlonePAS
eggs +=
    plone.app.users
    Plone

parts +=
    coverage
    report

[coverage]
recipe = zc.recipe.egg
eggs = coverage
initialization =
    include = '--source=${buildout:directory}/../src/plone.app.users'
    sys.argv = sys.argv[:] + ['run', include, 'bin/test', '-s', 'plone.app.users']

[report]
recipe = zc.recipe.egg
eggs = coverage
scripts = coverage=report
initialization =
    sys.argv = sys.argv[:] + ['html', '-i']

[sources]
plone.app.users = git ${remotes:plone}/plone.app.users.git branch=plip13350-edit-member-schema-ttw-post-z3cform-merge pushurl=${remotes:plone_push}/plone.app.users.git
Products.CMFPlone = git ${remotes:plone}/Products.CMFPlone.git branch=plip13350-edit-member-schema-ttw pushurl=${remotes:plone_push}/Products.CMFPlone.git
plone.schemaeditor = git ${remotes:plone}/plone.schemaeditor.git pushurl=${remotes:plone_push}/plone.schemaeditor.git branch=ebr-protected-field
plone.app.dexterity = git ${remotes:plone}/plone.app.dexterity.git pushurl=${remotes:plone_push}/plone.app.dexterity.git branch=ebr-ignore-protected-fields-in-test
Products.PlonePAS = git ${remotes:plone}/Products.PlonePAS.git pushurl=${remotes:plone_push}/Products.PlonePAS.git
