[buildout]
extends =
    plipbase.cfg
    plip13476/widgets.cfg
#    plip13476/toolbar.cfg
    https://raw.github.com/plone/buildout.jenkins/master/jenkins.cfg

auto-checkout +=
    Products.ATContentTypes
    Products.CMFPlone
    plone.app.collection
    plone.app.collection
    plone.app.contenttypes
    plone.app.dexterity
    plone.app.relationfield
    plone.app.relationfield
    plone.app.widgets
    plone.app.z3cform
    mockup
auto-checkout -=
    archetypes.querywidget
    archetypes.referencebrowserwidget
    plone.formwidget.datetime

test-eggs +=
    plone.app.widgets
test-eggs -=
    archetypes.querywidget
    archetypes.referencebrowserwidget
    plone.formwidget.datetime [archetypes,z3cform,test]

jenkins-test-eggs = ${buildout:test-eggs}

parts += omelette

[test]
eggs +=
    plone.app.widgets[test]

[test-groups]
Plone +=  
    plone.app.widgets
PloneTestCase -=
    archetypes.referencebrowserwidget
plone_app_testing -=
    archetypes.querywidget

[jenkins-alltests]
recipe = plone.recipe.alltests
package-map = ${alltests:package-map}
groups = ${alltests:groups}
exclude = ${alltests:exclude}
test-script = ${buildout:bin-directory}/jenkins-test

[sources]
mockup = git ${remotes:plone}/mockup.git pushurl=${remotes:plone_push}/mockup.git branch=next
plone.app.widgets = git ${remotes:plone}/plone.app.widgets.git pushurl=${remotes:plone_push}/plone.app.widgets.git branch=next
plone.app.toolbar = git ${remotes:plone}/plone.app.toolbar.git pushurl=${remotes:plone_push}/plone.app.toolbar.git branch=next

plone.app.z3cform = git ${remotes:plone}/plone.app.z3cform.git pushurl=${remotes:plone_push}/plone.app.z3cform.git branch=plip13476-mockup
Products.CMFPlone = git ${remotes:plone}/Products.CMFPlone.git pushurl=${remotes:plone_push}/Products.CMFPlone.git branch=plip13476-mockup

plone.app.dexterity = git ${remotes:plone}/plone.app.dexterity.git pushurl=${remotes:plone_push}/plone.app.dexterity.git branch=plip13476-mockup
Products.ATContentTypes = git ${remotes:plone}/Products.ATContentTypes.git pushurl=${remotes:plone_push}/Products.ATContentTypes.git branch=mockup-issue-220
plone.app.collection = git ${remotes:plone}/plone.app.collection.git pushurl=${remotes:plone_push}/plone.app.collection.git branch=mockup-issue-220
plone.app.contenttypes = git ${remotes:plone}/plone.app.contenttypes.git pushurl=${remotes:plone_push}/plone.app.contenttypes.git branch=mockup-issue-220
plone.app.dexterity = git ${remotes:plone}/plone.app.dexterity.git pushurl=${remotes:plone_push}/plone.app.dexterity.git branch=plip13476-mockup
plone.app.relationfield = git ${remotes:plone}/plone.app.relationfield.git pushurl=${remotes:plone_push}/plone.app.relationfield.git branch=mockup-issue-220

[versions]

[omelette]
recipe = collective.recipe.omelette
eggs = ${buildout:eggs}
