Repository: plone.app.workflow


Branch: refs/heads/master
Date: 2015-09-16T17:09:11+02:00
Author: Philip Bauer (pbauer) <bauer@starzel.de>
Commit: https://github.com/plone/plone.app.workflow/commit/24d47b45e8a80b670796d35e9b07dd3c5780bcf4

allow unicode for search in @@sharing

Files changed:
M plone/app/workflow/browser/sharing.py

diff --git a/plone/app/workflow/browser/sharing.py b/plone/app/workflow/browser/sharing.py
index 0783062..9bca505 100644
--- a/plone/app/workflow/browser/sharing.py
+++ b/plone/app/workflow/browser/sharing.py
@@ -360,7 +360,7 @@ def _principal_search_results(self,
 
         translated_message = translate(_(u"Search for user or group"),
                 context=self.request)
-        search_term = self.request.form.get('search_term', None)
+        search_term = safe_unicode(self.request.form.get('search_term', None))
         if not search_term or search_term == translated_message:
             return []
 


