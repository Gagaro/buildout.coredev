Repository: plone.app.querystring


Branch: refs/heads/master
Date: 2015-10-25T00:06:35+02:00
Author: Maurits van Rees (mauritsvanrees) <maurits@vanrees.org>
Commit: https://github.com/plone/plone.app.querystring/commit/237c7999dba40e26f3494aafcc6893d97749913e

Allowed union merge strategy in CHANGES.rst.

[ci skip]

Files changed:
A .gitattributes

diff --git a/.gitattributes b/.gitattributes
new file mode 100644
index 0000000..6f9ff67
--- /dev/null
+++ b/.gitattributes
@@ -0,0 +1 @@
+CHANGES.rst merge=union


Repository: plone.app.querystring


Branch: refs/heads/master
Date: 2015-10-25T15:22:09+01:00
Author: Franz Gerhard Reinisch (fgrcon) <franz@fgrcon.net>
Commit: https://github.com/plone/plone.app.querystring/commit/801e48cabeaa31d2ab2e9f5f0a2853db5c068b10

unified: thumb-&gt;geticon (Products.CMFPlone#1151)

Files changed:
M plone/app/querystring/results.pt

diff --git a/plone/app/querystring/results.pt b/plone/app/querystring/results.pt
index 8f5e7ed..0e633dc 100644
--- a/plone/app/querystring/results.pt
+++ b/plone/app/querystring/results.pt
@@ -32,10 +32,10 @@
                     <dt>
                       
                        <img
-                         tal:define="thumb python:item.getURL()+'/@@images/image/icon'"
-                         tal:condition="python:  item.getIcon()"                          
+                         tal:define="getIcon python:item.getURL()+'/@@images/image/icon'"
+                         tal:condition="python:  item.getIcon"                          
                          tal:attributes="href item/getURL;
-                                         src  string:$thumb"
+                                         src  string:$getIcon"
                           />
                        <a
                          href="#"                                               


Repository: plone.app.querystring


Branch: refs/heads/master
Date: 2015-10-30T01:14:37+01:00
Author: Maurits van Rees (mauritsvanrees) <maurits@vanrees.org>
Commit: https://github.com/plone/plone.app.querystring/commit/07327b09a72d37a44c2516363cb6144f8bf55baf

Updated version compatibility information in README.

Files changed:
M README.rst
M setup.py

diff --git a/README.rst b/README.rst
index c03792b..4d6474d 100644
--- a/README.rst
+++ b/README.rst
@@ -1,19 +1,32 @@
 Overview
 ========
 
-This package provides an queryparser, querybuilder and extra helper tools,
+This package provides a queryparser, querybuilder and extra helper tools,
 to parse stored queries to actual results, used in new style collections.
 It includes a registry reader which reads operators, values and criteria
 from the Plone registry.
 
+
 Compatibility with Plone versions
 ---------------------------------
 
-The 1.1.x series is intended for usage with Plone 4.3 and up. It depends on
-plone.batching, which ships with Plone 4.3 but may cause problems_ with Plone
-4.2.
+For each Plone release, its versions.cfg file at
+http://dist.plone.org/release/ pins a version of plone.app.querystring
+that works well with that Plone version.  It is wise not to pick
+another version.
+
+But for clarity, these are the correct relationships between the two
+versions:
+
+- On Plone 4.2 use 1.0.x.
+
+- On Plone 4.3 use 1.2.x.
 
-For use with Plone 4.2.x, use versions < 1.1.0.
+- On Plone 5.0 use 1.3.x.
 
+Too new versions can cause problems.  For example, the 1.1.x and 1.2.x
+series are intended for usage with Plone 4.3.  They depend on
+plone.batching, which ships with Plone 4.3 but may cause problems_
+with Plone 4.2.
 
 .. _problems: https://dev.plone.org/ticket/12875
diff --git a/setup.py b/setup.py
index 92f560b..988c342 100644
--- a/setup.py
+++ b/setup.py
@@ -8,8 +8,10 @@
 setup(
     name='plone.app.querystring',
     version=version,
-    description=("A queryparser, querybuilder and extra helper tools, to "
-                 "parse stored queries to actual results, used in new style Plone collections"),
+    description=(
+        "A queryparser, querybuilder and extra helper tools, to "
+        "parse stored queries to actual results, used in "
+        "new style Plone collections"),
     long_description=long_description,
     classifiers=[
         "Framework :: Plone",


Repository: plone.app.querystring


Branch: refs/heads/master
Date: 2015-10-30T01:24:08+01:00
Author: Maurits van Rees (mauritsvanrees) <maurits@vanrees.org>
Commit: https://github.com/plone/plone.app.querystring/commit/3ba6bb4a0738dab4568d2ad60a20d1fb2b2df838

Fixed flake8 warnings.

Files changed:
M CHANGES.rst
M plone/app/querystring/testing.py
M plone/app/querystring/tests/testQueryBuilder.py
M plone/app/querystring/tests/testQueryBuilderModifiers.py
M plone/app/querystring/tests/testQueryParser.py
M plone/app/querystring/tests/testRegistryIntegration.py
M plone/app/querystring/tests/testRegistryReader.py

diff --git a/CHANGES.rst b/CHANGES.rst
index 9c0e8a6..d86ff79 100644
--- a/CHANGES.rst
+++ b/CHANGES.rst
@@ -4,11 +4,19 @@ Changelog
 1.3.9 (unreleased)
 ------------------
 
-- fix resultview icons
+Fixes:
+
+- Fixed flake8 warnings.
+  [maurits]
+
+- Updated compatibility information in README.
+  [maurits]
+
+- Fixed resultview icons.
   https://github.com/plone/Products.CMFPlone/issues/1151
   [fgrcon]
 
-- Add upgrade step to fix Subject index for existing collections
+- Added upgrade step to fix Subject index for existing collections.
   [ezvirtual]
 
 
diff --git a/plone/app/querystring/testing.py b/plone/app/querystring/testing.py
index ce41a32..44c37ef 100644
--- a/plone/app/querystring/testing.py
+++ b/plone/app/querystring/testing.py
@@ -44,13 +44,15 @@ def setUpPloneSite(self, portal):
         )
 
 
-TEST_PROFILE_PLONEAPPQUERYSTRING_FIXTURE = PloneAppQuerystringTestProfileLayer()
+TEST_PROFILE_PLONEAPPQUERYSTRING_FIXTURE = \
+    PloneAppQuerystringTestProfileLayer()
 
 
 class PloneAppQuerystringLayer(PloneAppQuerystringTestProfileLayer):
 
     def setUpZope(self, app, configurationContext):
-        super(PloneAppQuerystringLayer, self).setUpZope(app, configurationContext)
+        super(PloneAppQuerystringLayer, self).setUpZope(
+            app, configurationContext)
         import plone.app.querystring
         xmlconfig.file(
             'configure.zcml',
diff --git a/plone/app/querystring/tests/testQueryBuilder.py b/plone/app/querystring/tests/testQueryBuilder.py
index 6d5f762..c47c0d4 100644
--- a/plone/app/querystring/tests/testQueryBuilder.py
+++ b/plone/app/querystring/tests/testQueryBuilder.py
@@ -1,6 +1,7 @@
- # -*- coding: utf-8 -*-
+# -*- coding: utf-8 -*-
 
-from plone.app.querystring.testing import TEST_PROFILE_PLONEAPPQUERYSTRING_INTEGRATION_TESTING
+from plone.app.querystring.testing import \
+    TEST_PROFILE_PLONEAPPQUERYSTRING_INTEGRATION_TESTING
 
 from zope.component import getMultiAdapter
 from zope.publisher.browser import TestRequest
diff --git a/plone/app/querystring/tests/testQueryBuilderModifiers.py b/plone/app/querystring/tests/testQueryBuilderModifiers.py
index 5add7a5..3ea05f1 100644
--- a/plone/app/querystring/tests/testQueryBuilderModifiers.py
+++ b/plone/app/querystring/tests/testQueryBuilderModifiers.py
@@ -1,7 +1,8 @@
-# -*- coding: utf8 -*-
+# -*- coding: utf-8 -*-
 
 from plone.app.querystring.interfaces import IParsedQueryIndexModifier
-from plone.app.querystring.testing import PLONEAPPQUERYSTRING_INTEGRATION_TESTING
+from plone.app.querystring.testing import \
+    PLONEAPPQUERYSTRING_INTEGRATION_TESTING
 
 from zope.publisher.browser import TestRequest
 from zope.component import getGlobalSiteManager
diff --git a/plone/app/querystring/tests/testQueryParser.py b/plone/app/querystring/tests/testQueryParser.py
index 8fd0663..809bf49 100644
--- a/plone/app/querystring/tests/testQueryParser.py
+++ b/plone/app/querystring/tests/testQueryParser.py
@@ -8,7 +8,8 @@
 from plone.registry.interfaces import IRegistry
 
 from plone.app.querystring.queryparser import Row
-from plone.app.querystring.testing import NOT_INSTALLED_PLONEAPPQUERYSTRING_INTEGRATION_TESTING
+from plone.app.querystring.testing import \
+    NOT_INSTALLED_PLONEAPPQUERYSTRING_INTEGRATION_TESTING
 
 from zope.component import getGlobalSiteManager
 from zope.interface.declarations import implements
diff --git a/plone/app/querystring/tests/testRegistryIntegration.py b/plone/app/querystring/tests/testRegistryIntegration.py
index efd788e..11cc5a4 100644
--- a/plone/app/querystring/tests/testRegistryIntegration.py
+++ b/plone/app/querystring/tests/testRegistryIntegration.py
@@ -1,4 +1,5 @@
-from plone.app.querystring.testing import PLONEAPPQUERYSTRING_INTEGRATION_TESTING
+from plone.app.querystring.testing import \
+    PLONEAPPQUERYSTRING_INTEGRATION_TESTING
 
 import unittest2 as unittest
 
diff --git a/plone/app/querystring/tests/testRegistryReader.py b/plone/app/querystring/tests/testRegistryReader.py
index 9d62c92..6db9597 100644
--- a/plone/app/querystring/tests/testRegistryReader.py
+++ b/plone/app/querystring/tests/testRegistryReader.py
@@ -7,7 +7,8 @@
 
 from plone.app.querystring.interfaces import IQuerystringRegistryReader
 from plone.app.querystring.registryreader import DottedDict
-from plone.app.querystring.testing import PLONEAPPQUERYSTRING_INTEGRATION_TESTING
+from plone.app.querystring.testing import \
+    PLONEAPPQUERYSTRING_INTEGRATION_TESTING
 from plone.app.querystring.tests import registry_testdata as td
 
 import unittest2 as unittest


Repository: plone.app.querystring


Branch: refs/heads/master
Date: 2015-10-30T01:45:06+01:00
Author: Maurits van Rees (mauritsvanrees) <maurits@vanrees.org>
Commit: https://github.com/plone/plone.app.querystring/commit/fb19924937a1bb6e92a5b1feeab91d0cde58e77d

Preparing release 1.3.9

[ci skip]

Files changed:
M CHANGES.rst
M setup.py

diff --git a/CHANGES.rst b/CHANGES.rst
index d86ff79..d81bdfd 100644
--- a/CHANGES.rst
+++ b/CHANGES.rst
@@ -1,7 +1,7 @@
 Changelog
 =========
 
-1.3.9 (unreleased)
+1.3.9 (2015-10-30)
 ------------------
 
 Fixes:
diff --git a/setup.py b/setup.py
index 988c342..7f8be34 100644
--- a/setup.py
+++ b/setup.py
@@ -1,6 +1,6 @@
 from setuptools import setup, find_packages
 
-version = '1.3.9.dev0'
+version = '1.3.9'
 
 long_description = open("README.rst").read() + "\n"
 long_description += open("CHANGES.rst").read()


Repository: plone.app.querystring


Branch: refs/heads/master
Date: 2015-10-30T16:18:51+01:00
Author: Maurits van Rees (mauritsvanrees) <maurits@vanrees.org>
Commit: https://github.com/plone/plone.app.querystring/commit/c9813260ad6378373c9626a62f5fbbd8856f5036

Restored commits from tag '1.3.9'.

A forced push was done.  Don't do that.

Files changed:
M CHANGES.rst
M README.rst
M plone/app/querystring/results.pt
M plone/app/querystring/testing.py
M plone/app/querystring/tests/testQueryBuilder.py
M plone/app/querystring/tests/testQueryBuilderModifiers.py
M plone/app/querystring/tests/testQueryParser.py
M plone/app/querystring/tests/testRegistryIntegration.py
M plone/app/querystring/tests/testRegistryReader.py
M plone/app/querystring/upgrades.py
M setup.py

diff --git a/CHANGES.rst b/CHANGES.rst
index 9c0e8a6..d81bdfd 100644
--- a/CHANGES.rst
+++ b/CHANGES.rst
@@ -1,14 +1,22 @@
 Changelog
 =========
 
-1.3.9 (unreleased)
+1.3.9 (2015-10-30)
 ------------------
 
-- fix resultview icons
+Fixes:
+
+- Fixed flake8 warnings.
+  [maurits]
+
+- Updated compatibility information in README.
+  [maurits]
+
+- Fixed resultview icons.
   https://github.com/plone/Products.CMFPlone/issues/1151
   [fgrcon]
 
-- Add upgrade step to fix Subject index for existing collections
+- Added upgrade step to fix Subject index for existing collections.
   [ezvirtual]
 
 
diff --git a/README.rst b/README.rst
index c03792b..4d6474d 100644
--- a/README.rst
+++ b/README.rst
@@ -1,19 +1,32 @@
 Overview
 ========
 
-This package provides an queryparser, querybuilder and extra helper tools,
+This package provides a queryparser, querybuilder and extra helper tools,
 to parse stored queries to actual results, used in new style collections.
 It includes a registry reader which reads operators, values and criteria
 from the Plone registry.
 
+
 Compatibility with Plone versions
 ---------------------------------
 
-The 1.1.x series is intended for usage with Plone 4.3 and up. It depends on
-plone.batching, which ships with Plone 4.3 but may cause problems_ with Plone
-4.2.
+For each Plone release, its versions.cfg file at
+http://dist.plone.org/release/ pins a version of plone.app.querystring
+that works well with that Plone version.  It is wise not to pick
+another version.
+
+But for clarity, these are the correct relationships between the two
+versions:
+
+- On Plone 4.2 use 1.0.x.
+
+- On Plone 4.3 use 1.2.x.
 
-For use with Plone 4.2.x, use versions < 1.1.0.
+- On Plone 5.0 use 1.3.x.
 
+Too new versions can cause problems.  For example, the 1.1.x and 1.2.x
+series are intended for usage with Plone 4.3.  They depend on
+plone.batching, which ships with Plone 4.3 but may cause problems_
+with Plone 4.2.
 
 .. _problems: https://dev.plone.org/ticket/12875
diff --git a/plone/app/querystring/results.pt b/plone/app/querystring/results.pt
index 439996a..0e633dc 100644
--- a/plone/app/querystring/results.pt
+++ b/plone/app/querystring/results.pt
@@ -33,9 +33,10 @@
                       
                        <img
                          tal:define="getIcon python:item.getURL()+'/@@images/image/icon'"
-                         tal:condition="item/getIcon"
+                         tal:condition="python:  item.getIcon"                          
                          tal:attributes="href item/getURL;
-                                         src  string:$getIcon">
+                                         src  string:$getIcon"
+                          />
                        <a
                          href="#"                                               
                          tal:attributes="href item/getURL;
diff --git a/plone/app/querystring/testing.py b/plone/app/querystring/testing.py
index ce41a32..44c37ef 100644
--- a/plone/app/querystring/testing.py
+++ b/plone/app/querystring/testing.py
@@ -44,13 +44,15 @@ def setUpPloneSite(self, portal):
         )
 
 
-TEST_PROFILE_PLONEAPPQUERYSTRING_FIXTURE = PloneAppQuerystringTestProfileLayer()
+TEST_PROFILE_PLONEAPPQUERYSTRING_FIXTURE = \
+    PloneAppQuerystringTestProfileLayer()
 
 
 class PloneAppQuerystringLayer(PloneAppQuerystringTestProfileLayer):
 
     def setUpZope(self, app, configurationContext):
-        super(PloneAppQuerystringLayer, self).setUpZope(app, configurationContext)
+        super(PloneAppQuerystringLayer, self).setUpZope(
+            app, configurationContext)
         import plone.app.querystring
         xmlconfig.file(
             'configure.zcml',
diff --git a/plone/app/querystring/tests/testQueryBuilder.py b/plone/app/querystring/tests/testQueryBuilder.py
index 6d5f762..c47c0d4 100644
--- a/plone/app/querystring/tests/testQueryBuilder.py
+++ b/plone/app/querystring/tests/testQueryBuilder.py
@@ -1,6 +1,7 @@
- # -*- coding: utf-8 -*-
+# -*- coding: utf-8 -*-
 
-from plone.app.querystring.testing import TEST_PROFILE_PLONEAPPQUERYSTRING_INTEGRATION_TESTING
+from plone.app.querystring.testing import \
+    TEST_PROFILE_PLONEAPPQUERYSTRING_INTEGRATION_TESTING
 
 from zope.component import getMultiAdapter
 from zope.publisher.browser import TestRequest
diff --git a/plone/app/querystring/tests/testQueryBuilderModifiers.py b/plone/app/querystring/tests/testQueryBuilderModifiers.py
index 5add7a5..3ea05f1 100644
--- a/plone/app/querystring/tests/testQueryBuilderModifiers.py
+++ b/plone/app/querystring/tests/testQueryBuilderModifiers.py
@@ -1,7 +1,8 @@
-# -*- coding: utf8 -*-
+# -*- coding: utf-8 -*-
 
 from plone.app.querystring.interfaces import IParsedQueryIndexModifier
-from plone.app.querystring.testing import PLONEAPPQUERYSTRING_INTEGRATION_TESTING
+from plone.app.querystring.testing import \
+    PLONEAPPQUERYSTRING_INTEGRATION_TESTING
 
 from zope.publisher.browser import TestRequest
 from zope.component import getGlobalSiteManager
diff --git a/plone/app/querystring/tests/testQueryParser.py b/plone/app/querystring/tests/testQueryParser.py
index 8fd0663..809bf49 100644
--- a/plone/app/querystring/tests/testQueryParser.py
+++ b/plone/app/querystring/tests/testQueryParser.py
@@ -8,7 +8,8 @@
 from plone.registry.interfaces import IRegistry
 
 from plone.app.querystring.queryparser import Row
-from plone.app.querystring.testing import NOT_INSTALLED_PLONEAPPQUERYSTRING_INTEGRATION_TESTING
+from plone.app.querystring.testing import \
+    NOT_INSTALLED_PLONEAPPQUERYSTRING_INTEGRATION_TESTING
 
 from zope.component import getGlobalSiteManager
 from zope.interface.declarations import implements
diff --git a/plone/app/querystring/tests/testRegistryIntegration.py b/plone/app/querystring/tests/testRegistryIntegration.py
index efd788e..11cc5a4 100644
--- a/plone/app/querystring/tests/testRegistryIntegration.py
+++ b/plone/app/querystring/tests/testRegistryIntegration.py
@@ -1,4 +1,5 @@
-from plone.app.querystring.testing import PLONEAPPQUERYSTRING_INTEGRATION_TESTING
+from plone.app.querystring.testing import \
+    PLONEAPPQUERYSTRING_INTEGRATION_TESTING
 
 import unittest2 as unittest
 
diff --git a/plone/app/querystring/tests/testRegistryReader.py b/plone/app/querystring/tests/testRegistryReader.py
index 9d62c92..6db9597 100644
--- a/plone/app/querystring/tests/testRegistryReader.py
+++ b/plone/app/querystring/tests/testRegistryReader.py
@@ -7,7 +7,8 @@
 
 from plone.app.querystring.interfaces import IQuerystringRegistryReader
 from plone.app.querystring.registryreader import DottedDict
-from plone.app.querystring.testing import PLONEAPPQUERYSTRING_INTEGRATION_TESTING
+from plone.app.querystring.testing import \
+    PLONEAPPQUERYSTRING_INTEGRATION_TESTING
 from plone.app.querystring.tests import registry_testdata as td
 
 import unittest2 as unittest
diff --git a/plone/app/querystring/upgrades.py b/plone/app/querystring/upgrades.py
index 750f521..425073d 100644
--- a/plone/app/querystring/upgrades.py
+++ b/plone/app/querystring/upgrades.py
@@ -23,7 +23,7 @@ def fix_select_all_existing_collections(context):
     indexes_to_fix = [
         u'portal_type',
         u'review_state',
-        u'Creator',
+        u'Creator'
         u'Subject'
     ]
     operator_mapping = {
diff --git a/setup.py b/setup.py
index 92f560b..7f8be34 100644
--- a/setup.py
+++ b/setup.py
@@ -1,6 +1,6 @@
 from setuptools import setup, find_packages
 
-version = '1.3.9.dev0'
+version = '1.3.9'
 
 long_description = open("README.rst").read() + "\n"
 long_description += open("CHANGES.rst").read()
@@ -8,8 +8,10 @@
 setup(
     name='plone.app.querystring',
     version=version,
-    description=("A queryparser, querybuilder and extra helper tools, to "
-                 "parse stored queries to actual results, used in new style Plone collections"),
+    description=(
+        "A queryparser, querybuilder and extra helper tools, to "
+        "parse stored queries to actual results, used in "
+        "new style Plone collections"),
     long_description=long_description,
     classifiers=[
         "Framework :: Plone",


Repository: plone.app.querystring


Branch: refs/heads/master
Date: 2015-10-30T16:19:08+01:00
Author: Maurits van Rees (mauritsvanrees) <maurits@vanrees.org>
Commit: https://github.com/plone/plone.app.querystring/commit/3467e57a072af770d3b0063ac269d0efc47b9a7e

Back to development: 1.3.10

[ci skip]

Files changed:
M CHANGES.rst
M setup.py

diff --git a/CHANGES.rst b/CHANGES.rst
index d81bdfd..d8b5cba 100644
--- a/CHANGES.rst
+++ b/CHANGES.rst
@@ -1,6 +1,12 @@
 Changelog
 =========
 
+1.3.10 (unreleased)
+-------------------
+
+- Nothing changed yet.
+
+
 1.3.9 (2015-10-30)
 ------------------
 
diff --git a/setup.py b/setup.py
index 7f8be34..8fe5776 100644
--- a/setup.py
+++ b/setup.py
@@ -1,6 +1,6 @@
 from setuptools import setup, find_packages
 
-version = '1.3.9'
+version = '1.3.10.dev0'
 
 long_description = open("README.rst").read() + "\n"
 long_description += open("CHANGES.rst").read()


Repository: plone.app.querystring


Branch: refs/heads/master
Date: 2015-10-30T16:26:22+01:00
Author: Maurits van Rees (mauritsvanrees) <maurits@vanrees.org>
Commit: https://github.com/plone/plone.app.querystring/commit/eb356f9dde1b546aec853bccf18203c53803e7f4

Made getIcon use in results.pt a bit clearer.

Originally committed by @fgrcon.

Files changed:
M plone/app/querystring/results.pt

diff --git a/plone/app/querystring/results.pt b/plone/app/querystring/results.pt
index 0e633dc..c96711a 100644
--- a/plone/app/querystring/results.pt
+++ b/plone/app/querystring/results.pt
@@ -30,21 +30,17 @@
                 	                   item_state python:'state-'+item.review_state();
                 	                   item_type python:'contenttype-'+normalize(item.portal_type)">
                     <dt>
-                      
-                       <img
-                         tal:define="getIcon python:item.getURL()+'/@@images/image/icon'"
-                         tal:condition="python:  item.getIcon"                          
-                         tal:attributes="href item/getURL;
-                                         src  string:$getIcon"
-                          />
+
+                      <img tal:define="getIcon python:item.getURL()+'/@@images/image/icon'"
+                           tal:condition="item/getIcon"
+                           tal:attributes="href item/getURL;
+                                           src  string:$getIcon" />
                        <a
-                         href="#"                                               
+                         href="#"
                          tal:attributes="href item/getURL;
                                          class  string:$item_state $item_type"
                          tal:content="item/Title" />
-                         
 
-                                                  
                         <span class="documentByLine">
                             <span class="documentAuthor"
                                 i18n:translate="label_by_author" tal:condition="author/fullname">


Repository: plone.app.querystring


Branch: refs/heads/master
Date: 2015-10-30T16:26:28+01:00
Author: Maurits van Rees (mauritsvanrees) <maurits@vanrees.org>
Commit: https://github.com/plone/plone.app.querystring/commit/83d67a56dc8decb13d09dfabed9f99846cf93c05

Added missing ',' for subject upgrade.

Originally committed by @ezvirtual.

Files changed:
M CHANGES.rst
M plone/app/querystring/upgrades.py

diff --git a/CHANGES.rst b/CHANGES.rst
index d8b5cba..d18e9b2 100644
--- a/CHANGES.rst
+++ b/CHANGES.rst
@@ -4,7 +4,10 @@ Changelog
 1.3.10 (unreleased)
 -------------------
 
-- Nothing changed yet.
+Fixes:
+
+- Added missing ',' for subject upgrade.
+  [ezvirtual]
 
 
 1.3.9 (2015-10-30)
diff --git a/plone/app/querystring/upgrades.py b/plone/app/querystring/upgrades.py
index 425073d..750f521 100644
--- a/plone/app/querystring/upgrades.py
+++ b/plone/app/querystring/upgrades.py
@@ -23,7 +23,7 @@ def fix_select_all_existing_collections(context):
     indexes_to_fix = [
         u'portal_type',
         u'review_state',
-        u'Creator'
+        u'Creator',
         u'Subject'
     ]
     operator_mapping = {


