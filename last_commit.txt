Repository: plone.app.event
Branch: refs/heads/master
Date: 2015-05-23T10:48:15+02:00
Author: Johannes Raggam (thet) <raggam-nl@adm.at>
Commit: https://github.com/plone/plone.app.event/commit/43099c872f8cffe1b434273224dc009d411934f4

fix franco's fix for plone.app.portlets &lt;/&gt; 3.0

Files changed:
M plone/app/event/bbb/portlets/portlet_calendar.py
M plone/app/event/bbb/portlets/portlet_events.py

diff --git a/plone/app/event/bbb/portlets/portlet_calendar.py b/plone/app/event/bbb/portlets/portlet_calendar.py
index 6eefcae..b44845a 100644
--- a/plone/app/event/bbb/portlets/portlet_calendar.py
+++ b/plone/app/event/bbb/portlets/portlet_calendar.py
@@ -4,7 +4,6 @@
 from Products.Five.browser.pagetemplatefile import ViewPageTemplateFile
 from plone.app.portlets import PloneMessageFactory as _
 
-from plone.app.portlets.portlets import base
 from plone.app.event.portlets.portlet_calendar import Renderer as RendererBase
 from plone.app.event.portlets.portlet_calendar import ICalendarPortlet
 from plone.app.event.portlets.portlet_calendar import Assignment
@@ -15,10 +14,11 @@
 
 if version >= wanted:
     P_A_PORTLETS_PRE_3 = False
-    from z3c.form import field
+    from plone.app.portlets.portlets import base
 else:
     P_A_PORTLETS_PRE_3 = True
-    from plone.app.portlets.browser import z3cformhelper
+    from z3c.form import field
+    from plone.app.portlets.browser import z3cformhelper as base
 
 
 class Renderer(RendererBase):
diff --git a/plone/app/event/bbb/portlets/portlet_events.py b/plone/app/event/bbb/portlets/portlet_events.py
index 8ebfd9e..7eb6896 100644
--- a/plone/app/event/bbb/portlets/portlet_events.py
+++ b/plone/app/event/bbb/portlets/portlet_events.py
@@ -4,7 +4,6 @@
 from Products.Five.browser.pagetemplatefile import ViewPageTemplateFile
 from plone.app.portlets import PloneMessageFactory as _
 
-from plone.app.portlets.portlets import base
 from plone.app.event.portlets.portlet_events import Renderer as RendererBase
 from plone.app.event.portlets.portlet_events import Assignment
 from plone.app.event.portlets.portlet_events import IEventsPortlet
@@ -15,10 +14,11 @@
 
 if version >= wanted:
     P_A_PORTLETS_PRE_3 = False
-    from z3c.form import field
+    from plone.app.portlets.portlets import base
 else:
     P_A_PORTLETS_PRE_3 = True
-    from plone.app.portlets.browser import z3cformhelper
+    from z3c.form import field
+    from plone.app.portlets.browser import z3cformhelper as base
 
 
 class Renderer(RendererBase):


