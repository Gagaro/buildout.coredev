Repository: plone.app.layout
Branch: refs/heads/master
Date: 2015-04-17T18:14:43+02:00
Author: JC Brand (jcbrand) <jc@opkode.com>
Commit: https://github.com/plone/plone.app.layout/commit/f978146adeb2d089981d84fbbc701ef5fd2ed9e3

Rename pat-modal to pat-plone-modal. updates https://github.com/plone/mockup/issues/483

Files changed:
M plone/app/layout/viewlets/common.py
M plone/app/layout/viewlets/document_byline.pt

diff --git a/plone/app/layout/viewlets/common.py b/plone/app/layout/viewlets/common.py
index 4a05b72..3bb3aa5 100644
--- a/plone/app/layout/viewlets/common.py
+++ b/plone/app/layout/viewlets/common.py
@@ -286,8 +286,8 @@ def update(self):
                 }
             modal = action.get('modal')
             if modal:
-                info['class'] = 'pat-modal'
-                info['data-pat-modal'] = modal
+                info['class'] = 'pat-plone-modal'
+                info['data-pat-plone-modal'] = modal
             self.user_actions.append(info)
 
         self.anonymous = self.portal_state.anonymous()
@@ -383,7 +383,7 @@ def prepareObjectTabs(self, default_tab='view',
             modal = item.get('modal', None)
             item['cssClass'] = ''
             if modal:
-                item['cssClass'] += ' pat-modal'
+                item['cssClass'] += ' pat-plone-modal'
                 item['url'] += '?ajax_load=1'
 
             tabs.append(item)
diff --git a/plone/app/layout/viewlets/document_byline.pt b/plone/app/layout/viewlets/document_byline.pt
index 0086c44..d649368 100644
--- a/plone/app/layout/viewlets/document_byline.pt
+++ b/plone/app/layout/viewlets/document_byline.pt
@@ -66,7 +66,7 @@
       </tal:expired>
     </li>
     <li>
-      <a href="#" class="pat-modal contentHistory" id="content-history"
+      <a href="#" class="pat-plone-modal contentHistory" id="content-history"
          tal:condition="view/show_history"
          tal:attributes="href string:${here/absolute_url}/@@historyview"
          i18n:translate="label_history">History</a>


Repository: plone.app.layout
Branch: refs/heads/master
Date: 2015-04-18T19:29:43+02:00
Author: JC Brand (jcbrand) <jc@opkode.com>
Commit: https://github.com/plone/plone.app.layout/commit/cca61ab5ecc6551572c313a1811c9553b64438fb

Add changelog entry

Files changed:
M CHANGES.rst

diff --git a/CHANGES.rst b/CHANGES.rst
index a0efa84..03f20d4 100644
--- a/CHANGES.rst
+++ b/CHANGES.rst
@@ -10,6 +10,9 @@ Changelog
 - Add row class to constrain width of footer.
   [davisagli]
 
+- pat-modal pattern has been renamed to pat-plone-modal
+  [jcbrand]
+
 
 2.5.4 (2015-03-13)
 ------------------


Repository: plone.app.layout
Branch: refs/heads/master
Date: 2015-04-22T15:01:36-05:00
Author: Nathan Van Gheem (vangheem) <vangheem@gmail.com>
Commit: https://github.com/plone/plone.app.layout/commit/c9c1eb53ff93d7b8f49444e4f42c2765ddf9f6e7

Merge pull request #42 from plone/pat-modal-rename

Rename pat-modal to pat-plone-modal.

Files changed:
M CHANGES.rst
M plone/app/layout/viewlets/common.py
M plone/app/layout/viewlets/document_byline.pt

diff --git a/CHANGES.rst b/CHANGES.rst
index a0efa84..03f20d4 100644
--- a/CHANGES.rst
+++ b/CHANGES.rst
@@ -10,6 +10,9 @@ Changelog
 - Add row class to constrain width of footer.
   [davisagli]
 
+- pat-modal pattern has been renamed to pat-plone-modal
+  [jcbrand]
+
 
 2.5.4 (2015-03-13)
 ------------------
diff --git a/plone/app/layout/viewlets/common.py b/plone/app/layout/viewlets/common.py
index 4a05b72..3bb3aa5 100644
--- a/plone/app/layout/viewlets/common.py
+++ b/plone/app/layout/viewlets/common.py
@@ -286,8 +286,8 @@ def update(self):
                 }
             modal = action.get('modal')
             if modal:
-                info['class'] = 'pat-modal'
-                info['data-pat-modal'] = modal
+                info['class'] = 'pat-plone-modal'
+                info['data-pat-plone-modal'] = modal
             self.user_actions.append(info)
 
         self.anonymous = self.portal_state.anonymous()
@@ -383,7 +383,7 @@ def prepareObjectTabs(self, default_tab='view',
             modal = item.get('modal', None)
             item['cssClass'] = ''
             if modal:
-                item['cssClass'] += ' pat-modal'
+                item['cssClass'] += ' pat-plone-modal'
                 item['url'] += '?ajax_load=1'
 
             tabs.append(item)
diff --git a/plone/app/layout/viewlets/document_byline.pt b/plone/app/layout/viewlets/document_byline.pt
index 0086c44..d649368 100644
--- a/plone/app/layout/viewlets/document_byline.pt
+++ b/plone/app/layout/viewlets/document_byline.pt
@@ -66,7 +66,7 @@
       </tal:expired>
     </li>
     <li>
-      <a href="#" class="pat-modal contentHistory" id="content-history"
+      <a href="#" class="pat-plone-modal contentHistory" id="content-history"
          tal:condition="view/show_history"
          tal:attributes="href string:${here/absolute_url}/@@historyview"
          i18n:translate="label_history">History</a>


