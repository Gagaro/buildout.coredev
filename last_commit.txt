Repository: mockup
Branch: refs/heads/master
Date: 2015-04-11T01:01:25+02:00
Author: vangheem (vangheem) <vangheem@gmail.com>
Commit: https://github.com/plone/mockup/commit/afb1586cab46c4eeaf8e121f846aeae78ad8147b

fix jshint errorg

Files changed:
M mockup/Gruntfile.js

diff --git a/mockup/Gruntfile.js b/mockup/Gruntfile.js
index abd51dc..e2419fd 100644
--- a/mockup/Gruntfile.js
+++ b/mockup/Gruntfile.js
@@ -113,8 +113,8 @@ module.exports = function(grunt) {
       console.log('reading file: ' + filepath);
       var file = fs.readFileSync(filepath, {encoding: 'utf-8'});
       var re = /_t\(('|")([\s\d\wâ€¦\.\,\!\+\\\/]+)('|")(,\W{.*})?\)/g;
-      var m;
-      while (m = re.exec(file)) {
+      var m = re.exec(file);
+      while (m) {
         if (m) {
           re.lastIndex = Math.max(m.index+1, re.lastIndex + 1);
           if(found.indexOf(m[2]) === -1){
@@ -123,6 +123,7 @@ module.exports = function(grunt) {
                       'msgstr ""\n\n';
             found.push(m[2]);
           }
+          m = re.exec(file);
         }
       }
     };


