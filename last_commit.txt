Repository: Products.CMFPlone
Branch: refs/heads/master
Date: 2015-04-09T00:15:23-04:00
Author: David Glick (davisagli) <david@glicksoftware.com>
Commit: https://github.com/plone/Products.CMFPlone/commit/1a706ddbe2cbd5cf789c70af4d9521857f83b78d

Don't show tinymce pattern settings on the tinymce control panel

These are advanced settings that rarely need to be customized and aren't clearly explained here. If necessary they can be found in portal_registry.

Also this fixes #422 where the tinymce control panel can't be saved because there are two content_css fields

Files changed:
M Products/CMFPlone/controlpanel/browser/tinymce.py

diff --git a/Products/CMFPlone/controlpanel/browser/tinymce.py b/Products/CMFPlone/controlpanel/browser/tinymce.py
index f6bc360..193ab11 100644
--- a/Products/CMFPlone/controlpanel/browser/tinymce.py
+++ b/Products/CMFPlone/controlpanel/browser/tinymce.py
@@ -1,7 +1,6 @@
 from Products.CMFPlone import PloneMessageFactory as _
 from Products.CMFPlone.interfaces import ITinyMCELayoutSchema
 from Products.CMFPlone.interfaces import ITinyMCELibrariesSchema
-from Products.CMFPlone.interfaces import ITinyMCEPatternSchema
 from Products.CMFPlone.interfaces import ITinyMCEResourceTypesSchema
 from Products.CMFPlone.interfaces import ITinyMCESchema
 from Products.CMFPlone.interfaces import ITinyMCEToolbarSchema
@@ -10,11 +9,6 @@
 from z3c.form import group
 
 
-class TinyMCEPatternForm(group.GroupForm):
-    label = _(u"Pattern")
-    fields = field.Fields(ITinyMCEPatternSchema)
-
-
 class TinyMCEToolbarForm(group.GroupForm):
     label = _(u"Toolbar")
     fields = field.Fields(ITinyMCEToolbarSchema)
@@ -38,7 +32,7 @@ class TinyMCEControlPanelForm(controlpanel.RegistryEditForm):
     schema_prefix = "plone"
     fields = field.Fields(ITinyMCELayoutSchema)
     groups = (TinyMCEToolbarForm, TinyMCELibrariesForm,
-              TinyMCEResourceTypesForm, TinyMCEPatternForm)
+              TinyMCEResourceTypesForm)
 
 
 class TinyMCEControlPanel(controlpanel.ControlPanelFormWrapper):


