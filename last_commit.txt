Repository: plone.app.registry


Branch: refs/heads/master
Date: 2015-07-26T17:32:27Z
Author: David Bain (pigeonflight) <pigeonflight@gmail.com>
Commit: https://github.com/plone/plone.app.registry/commit/ac82584da58573af8b6c4366647511cc2698ad87

ensure that descriptions are properly escaped and HTML entities don't show up in descriptions

Files changed:
M CHANGES.rst
M plone/app/registry/browser/records.pt

diff --git a/CHANGES.rst b/CHANGES.rst
index 6c48484..f778067 100644
--- a/CHANGES.rst
+++ b/CHANGES.rst
@@ -4,7 +4,9 @@ Changelog
 1.3.2 (unreleased)
 ------------------
 
-- Nothing changed yet.
+- Added the `structure` keyword to the TALES expression that returns the description for registry entries.
+  This ensures that descriptions are properly escaped and HTML entities don't show up in descriptions.
+  [pigeonflight]
 
 
 1.3.1 (2015-07-18)
diff --git a/plone/app/registry/browser/records.pt b/plone/app/registry/browser/records.pt
index 5790928..87fcf4f 100644
--- a/plone/app/registry/browser/records.pt
+++ b/plone/app/registry/browser/records.pt
@@ -82,7 +82,7 @@
                                    />
                             </td>
                             <td tal:content="field/title" />
-                            <td tal:content="field/description" />
+                            <td tal:content="structure field/description" />
                             <td tal:content="field/__class__/__name__" />
                             <td tal:content="python: unicode(record.value)"
                                 tal:on-error="string:?" />


