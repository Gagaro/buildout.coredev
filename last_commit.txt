Repository: mockup


Branch: refs/heads/master
Date: 2015-07-14T23:44:07+02:00
Author: MrTango (MrTango) <md@derico.de>
Commit: https://github.com/plone/mockup/commit/7864bf1de096b47a2b93e0a9b237ba94388d525e

fix mockup patter querystring, to work with multible items in multiselections like types and tags

Files changed:
M mockup/patterns/querystring/pattern.js

diff --git a/mockup/patterns/querystring/pattern.js b/mockup/patterns/querystring/pattern.js
index e8ba926..b8176f9 100644
--- a/mockup/patterns/querystring/pattern.js
+++ b/mockup/patterns/querystring/pattern.js
@@ -355,6 +355,11 @@ define([
           vstr.push(vstrlistbase + $(this).parent().find('.picker__input').val());
         });
       }
+      else if ($.isArray(self.$value.val())) { // handles multible values
+        $.each(self.$value.val(), function(i, v) {
+          vstr.push(vstrlistbase + v);
+        });
+      }
       else {
         vstr.push(vstrbase + self.$value.val());
       }


Repository: mockup


Branch: refs/heads/master
Date: 2015-07-15T08:37:47+02:00
Author: Nathan Van Gheem (vangheem) <vangheem@gmail.com>
Commit: https://github.com/plone/mockup/commit/e8aa3196099054df2635be0fad203ee7844bf1d9

Merge pull request #524 from plone/mrtango-querystring-multipleitems

fix mockup pattern querystring, for multible items in multiselects

Files changed:
M mockup/patterns/querystring/pattern.js

diff --git a/mockup/patterns/querystring/pattern.js b/mockup/patterns/querystring/pattern.js
index e8ba926..b8176f9 100644
--- a/mockup/patterns/querystring/pattern.js
+++ b/mockup/patterns/querystring/pattern.js
@@ -355,6 +355,11 @@ define([
           vstr.push(vstrlistbase + $(this).parent().find('.picker__input').val());
         });
       }
+      else if ($.isArray(self.$value.val())) { // handles multible values
+        $.each(self.$value.val(), function(i, v) {
+          vstr.push(vstrlistbase + v);
+        });
+      }
       else {
         vstr.push(vstrbase + self.$value.val());
       }


