Repository: Products.Archetypes


Branch: refs/heads/master
Date: 2015-08-14T09:46:40-04:00
Author: Paul Rentschler () <paul@rentscher.ws>
Commit: https://github.com/plone/Products.Archetypes/commit/90ed832fe2a631d399fc42b95db4ffdb9cf1030d

compare picklist entry value not text

Files changed:
M Products/Archetypes/skins/archetypes/widgets/js/picklist.js

diff --git a/Products/Archetypes/skins/archetypes/widgets/js/picklist.js b/Products/Archetypes/skins/archetypes/widgets/js/picklist.js
index fff1055..a76f72c 100644
--- a/Products/Archetypes/skins/archetypes/widgets/js/picklist.js
+++ b/Products/Archetypes/skins/archetypes/widgets/js/picklist.js
@@ -8,7 +8,7 @@ function pick_selectAllWords(theList) {
 function pick_addNewKeyword(toList,newText,newValue) {
   theToList=document.getElementById(toList);
   for (var x=0; x < theToList.length; x++) {
-    if (theToList[x].text == newText) {
+    if (theToList[x].value == newValue) {
       return false;
     }
   }


Repository: Products.Archetypes


Branch: refs/heads/master
Date: 2015-08-21T12:21:57+02:00
Author: Philip Bauer (pbauer) <bauer@starzel.de>
Commit: https://github.com/plone/Products.Archetypes/commit/04d139e10108eca57013e67d42123461d2d842b5

Merge pull request #48 from paulrentschler/master

compare picklist entry value not text

Files changed:
M Products/Archetypes/skins/archetypes/widgets/js/picklist.js

diff --git a/Products/Archetypes/skins/archetypes/widgets/js/picklist.js b/Products/Archetypes/skins/archetypes/widgets/js/picklist.js
index fff1055..a76f72c 100644
--- a/Products/Archetypes/skins/archetypes/widgets/js/picklist.js
+++ b/Products/Archetypes/skins/archetypes/widgets/js/picklist.js
@@ -8,7 +8,7 @@ function pick_selectAllWords(theList) {
 function pick_addNewKeyword(toList,newText,newValue) {
   theToList=document.getElementById(toList);
   for (var x=0; x < theToList.length; x++) {
-    if (theToList[x].text == newText) {
+    if (theToList[x].value == newValue) {
       return false;
     }
   }


