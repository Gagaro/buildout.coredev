Repository: plone.app.upgrade


Branch: refs/heads/master
Date: 2015-07-14T12:40:02+02:00
Author: vangheem (vangheem) <vangheem@gmail.com>
Commit: https://github.com/plone/plone.app.upgrade/commit/b0fc78c33c434684de1840505017ba471a9d53a4

add site schema upgrade

Files changed:
M plone/app/upgrade/v50/profiles/to_beta3/registry.xml

diff --git a/plone/app/upgrade/v50/profiles/to_beta3/registry.xml b/plone/app/upgrade/v50/profiles/to_beta3/registry.xml
index bd38875..6ba3cfe 100644
--- a/plone/app/upgrade/v50/profiles/to_beta3/registry.xml
+++ b/plone/app/upgrade/v50/profiles/to_beta3/registry.xml
@@ -4,6 +4,8 @@
            prefix="plone" />
   <records interface="Products.CMFPlone.interfaces.ISocialMediaSchema"
            prefix="plone" />
+  <records interface="Products.CMFPlone.interfaces.ISiteSchema"
+           prefix="plone" />
   <records prefix="plone.resources/plone-patterns-portletmanager"
             interface='Products.CMFPlone.interfaces.IResourceRegistry'>
     <value key="js">++resource++manage-portlets.js</value>


Repository: plone.app.upgrade


Branch: refs/heads/master
Date: 2015-07-15T17:00:18+02:00
Author: Victor Fernandez de Alba (sneridagh) <sneridagh@gmail.com>
Commit: https://github.com/plone/plone.app.upgrade/commit/7d54bfc0cfb75f625143e37dff524554a06c9a5c

Update the category configlet of all the configlets in order to provide a way to categorize properly each configlet.

Files changed:
M CHANGES.rst
M plone/app/upgrade/v50/profiles/to_beta3/controlpanel.xml

diff --git a/CHANGES.rst b/CHANGES.rst
index 9b15d25..1e5ae73 100644
--- a/CHANGES.rst
+++ b/CHANGES.rst
@@ -31,6 +31,10 @@ Changelog
 - Remove hard dependency on CMFDefault
   [tomgross]
 
+- Update the category configlet of all the configlets in order to provide a way
+  to categorize properly each configlet [sneridagh]
+
+
 1.3.10 (2015-05-13)
 -------------------
 
@@ -56,7 +60,7 @@ Changelog
   ``validate_email`` properties in CMFPlone.
   [jcerjak]
 
-- Do not run tests not suited for the current Plone version 
+- Do not run tests not suited for the current Plone version
   (implemented for 4.0 and below)
   [jensens]
 
diff --git a/plone/app/upgrade/v50/profiles/to_beta3/controlpanel.xml b/plone/app/upgrade/v50/profiles/to_beta3/controlpanel.xml
index c6f397c..3314c65 100644
--- a/plone/app/upgrade/v50/profiles/to_beta3/controlpanel.xml
+++ b/plone/app/upgrade/v50/profiles/to_beta3/controlpanel.xml
@@ -2,23 +2,100 @@
 <object name="portal_controlpanel" meta_type="Plone Control Panel Tool"
   i18n:domain="plone" xmlns:i18n="http://xml.zope.org/namespaces/i18n">
  <configlet title="Social Media" action_id="socialmedia" appId="Plone"
-    category="Plone" condition_expr=""
+    category="plone-general" condition_expr=""
     url_expr="string:${portal_url}/@@social-controlpanel" visible="True"
     i18n:attributes="title">
   <permission>Plone Site Setup: Site</permission>
  </configlet>
  <configlet title="Resource Registries" action_id="resourceregistries" appId="Plone"
-    category="Plone" condition_expr=""
+    category="plone-advanced" condition_expr=""
     icon_expr=""
     url_expr="string:${portal_url}/@@resourceregistry-controlpanel" visible="True"
     i18n:attributes="title">
   <permission>Plone Site Setup: Site</permission>
  </configlet>
  <configlet title="TinyMCE" action_id="tinymce" appId="Plone"
-    category="Plone" condition_expr=""
+    category="plone-content" condition_expr=""
     icon_expr="string:$portal_url/tinymce.png"
     url_expr="string:${portal_url}/@@tinymce-controlpanel" visible="True"
     i18n:attributes="title">
   <permission>Plone Site Setup: TinyMCE</permission>
  </configlet>
+
+ <configlet title="Content Rules" action_id="ContentRules" appId="Plone"
+    category="plone-content">
+ </configlet>
+ <configlet title="Date and Time" action_id="DateAndTime" appId="DateAndTime"
+    category="plone-general">
+ </configlet>
+ <configlet title="Editing" action_id="EditingSettings" appId="Plone"
+    category="plone-content">
+ </configlet>
+ <configlet title="HTML Filtering" action_id="FilterSettings" appId="FilterSettings"
+    category="plone-security">
+ </configlet>
+ <configlet title="Image Handling" action_id="ImagingSettings" appId="ImagingSettings"
+    category="plone-content">
+ </configlet>
+ <configlet title="Language" action_id="LanguageSettings" appId="Plone"
+    category="plone-general">
+ </configlet>
+ <configlet title="Mail" action_id="MailHost" appId="MailHost"
+    category="plone-general">
+ </configlet>
+ <configlet title="Maintenance" action_id="Maintenance" appId="Plone"
+    category="plone-advanced">
+ </configlet>
+ <configlet title="Markup" action_id="MarkupSettings" appId="MarkupSettings"
+    category="plone-security">
+ </configlet>
+ <configlet title="Navigation" action_id="NavigationSettings" appId="Plone"
+    category="plone-general">
+ </configlet>
+ <configlet title="Site" action_id="PloneReconfig" appId="Plone"
+    category="plone-general">
+ </configlet>
+ <configlet title="Themes" action_id="PortalSkin" appId="PortalSkin"
+    category="plone-general">
+ </configlet>
+ <configlet title="Add-ons" action_id="QuickInstaller" appId="QuickInstaller"
+    category="plone-general">
+ </configlet>
+ <configlet title="Search" action_id="SearchSettings" appId="Plone"
+    category="plone-general">
+ </configlet>
+ <configlet title="Security" action_id="SecuritySettings" appId="SecuritySettings"
+    category="plone-security">
+ </configlet>
+ <configlet title="Types" action_id="TypesSettings" appId="TypesSettings"
+    category="plone-content">
+ </configlet>
+ <configlet title="Users and Groups" action_id="UsersGroups" appId="UsersGroups"
+    category="plone-users">
+ </configlet>
+ <configlet title="Zope Management Interface" action_id="ZMI" appId="ZMI"
+    category="plone-advanced">
+ </configlet>
+ <configlet title="Dexterity Content Types" action_id="dexterity-types" appId="Plone"
+    category="plone-content">
+ </configlet>
+ <configlet title="Discussion" action_id="discussion" appId="plone.app.discussion"
+    category="plone-content">
+ </configlet>
+ <configlet title="Errors" action_id="errorLog" appId="ErrorLog"
+    category="plone-security">
+ </configlet>
+ <configlet title="Caching" action_id="plone.app.caching" appId="plone.app.caching"
+    category="plone-general">
+ </configlet>
+ <configlet title="Configuration Registry" action_id="plone.app.registry" appId="plone.app.registry"
+    category="plone-advanced">
+ </configlet>
+ <configlet title="Theming" action_id="plone.app.theming" appId="plone.app.theming"
+    category="plone-general">
+ </configlet>
+ <configlet title="Syndication" action_id="syndication" appId="Plone"
+    category="plone-general">
+ </configlet>
+
 </object>


Repository: plone.app.upgrade


Branch: refs/heads/master
Date: 2015-07-16T11:18:40+02:00
Author: vangheem (vangheem) <vangheem@gmail.com>
Commit: https://github.com/plone/plone.app.upgrade/commit/88271b91622041a67b9e4fa8c4a9110b48b76a7c

add upgrade for buttons not opening in modal anymore

Files changed:
A plone/app/upgrade/v50/profiles/to_beta3/actions.xml

diff --git a/plone/app/upgrade/v50/profiles/to_beta3/actions.xml b/plone/app/upgrade/v50/profiles/to_beta3/actions.xml
new file mode 100644
index 0000000..90af6a7
--- /dev/null
+++ b/plone/app/upgrade/v50/profiles/to_beta3/actions.xml
@@ -0,0 +1,15 @@
+<?xml version="1.0"?>
+<object name="portal_actions" meta_type="Plone Actions Tool"
+   xmlns:i18n="http://xml.zope.org/namespaces/i18n">
+  <object name="object" meta_type="CMF Action Category">
+   <object name="folderContents" meta_type="CMF Action" i18n:domain="plone">
+    <property name="modal" type="text"></property>
+   </object>
+   <object name="history" meta_type="CMF Action" i18n:domain="plone">
+    <property name="modal" type="text"></property>
+   </object>
+   <object name="contentrules" meta_type="CMF Action" i18n:domain="plone">
+    <property name="modal" type="text"></property>
+   </object>
+  </object>
+</object>


Repository: plone.app.upgrade


Branch: refs/heads/master
Date: 2015-07-16T12:21:06+02:00
Author: Victor Fernandez de Alba (sneridagh) <sneridagh@gmail.com>
Commit: https://github.com/plone/plone.app.upgrade/commit/86b83024ae0120a90d2bfe7ebeb6c4e17ca6e009

Updated links for the renamed 'Types' control panel

Files changed:
M CHANGES.rst
M plone/app/upgrade/v50/profiles/to_beta3/controlpanel.xml

diff --git a/CHANGES.rst b/CHANGES.rst
index 1e5ae73..330a9cb 100644
--- a/CHANGES.rst
+++ b/CHANGES.rst
@@ -34,6 +34,8 @@ Changelog
 - Update the category configlet of all the configlets in order to provide a way
   to categorize properly each configlet [sneridagh]
 
+- Updated links for the renamed 'Types' control panel [sneridagh]
+
 
 1.3.10 (2015-05-13)
 -------------------
diff --git a/plone/app/upgrade/v50/profiles/to_beta3/controlpanel.xml b/plone/app/upgrade/v50/profiles/to_beta3/controlpanel.xml
index 3314c65..b7792db 100644
--- a/plone/app/upgrade/v50/profiles/to_beta3/controlpanel.xml
+++ b/plone/app/upgrade/v50/profiles/to_beta3/controlpanel.xml
@@ -67,8 +67,9 @@
  <configlet title="Security" action_id="SecuritySettings" appId="SecuritySettings"
     category="plone-security">
  </configlet>
- <configlet title="Types" action_id="TypesSettings" appId="TypesSettings"
-    category="plone-content">
+ <configlet title="Content Settings" action_id="TypesSettings" appId="TypesSettings"
+    category="plone-content"
+    url_expr="string:${portal_url}/@@content-controlpanel">
  </configlet>
  <configlet title="Users and Groups" action_id="UsersGroups" appId="UsersGroups"
     category="plone-users">


Repository: plone.app.upgrade


Branch: refs/heads/master
Date: 2015-07-16T13:30:05+02:00
Author: Victor Fernandez de Alba (sneridagh) <sneridagh@gmail.com>
Commit: https://github.com/plone/plone.app.upgrade/commit/3ecb8f2cf44dfd8bcc15f40383de50f6ce16d756

Change Tiny to the 'General' group

Files changed:
M plone/app/upgrade/v50/profiles/to_beta3/controlpanel.xml

diff --git a/plone/app/upgrade/v50/profiles/to_beta3/controlpanel.xml b/plone/app/upgrade/v50/profiles/to_beta3/controlpanel.xml
index b7792db..90c6930 100644
--- a/plone/app/upgrade/v50/profiles/to_beta3/controlpanel.xml
+++ b/plone/app/upgrade/v50/profiles/to_beta3/controlpanel.xml
@@ -15,7 +15,7 @@
   <permission>Plone Site Setup: Site</permission>
  </configlet>
  <configlet title="TinyMCE" action_id="tinymce" appId="Plone"
-    category="plone-content" condition_expr=""
+    category="plone-general" condition_expr=""
     icon_expr="string:$portal_url/tinymce.png"
     url_expr="string:${portal_url}/@@tinymce-controlpanel" visible="True"
     i18n:attributes="title">


Repository: plone.app.upgrade


Branch: refs/heads/master
Date: 2015-07-16T18:32:28+02:00
Author: Ramon Navarro Bosch (bloodbare) <ramon.nb@gmail.com>
Commit: https://github.com/plone/plone.app.upgrade/commit/09c0a29d844a91d33be567394b67bf082c248325

Merge pull request #37 from plone/toolbar-fixup

Toolbar fixup

Files changed:
A plone/app/upgrade/v50/profiles/to_beta3/actions.xml
M CHANGES.rst
M plone/app/upgrade/v50/profiles/to_beta3/controlpanel.xml
M plone/app/upgrade/v50/profiles/to_beta3/registry.xml

diff --git a/CHANGES.rst b/CHANGES.rst
index 9b15d25..330a9cb 100644
--- a/CHANGES.rst
+++ b/CHANGES.rst
@@ -31,6 +31,12 @@ Changelog
 - Remove hard dependency on CMFDefault
   [tomgross]
 
+- Update the category configlet of all the configlets in order to provide a way
+  to categorize properly each configlet [sneridagh]
+
+- Updated links for the renamed 'Types' control panel [sneridagh]
+
+
 1.3.10 (2015-05-13)
 -------------------
 
@@ -56,7 +62,7 @@ Changelog
   ``validate_email`` properties in CMFPlone.
   [jcerjak]
 
-- Do not run tests not suited for the current Plone version 
+- Do not run tests not suited for the current Plone version
   (implemented for 4.0 and below)
   [jensens]
 
diff --git a/plone/app/upgrade/v50/profiles/to_beta3/actions.xml b/plone/app/upgrade/v50/profiles/to_beta3/actions.xml
new file mode 100644
index 0000000..90af6a7
--- /dev/null
+++ b/plone/app/upgrade/v50/profiles/to_beta3/actions.xml
@@ -0,0 +1,15 @@
+<?xml version="1.0"?>
+<object name="portal_actions" meta_type="Plone Actions Tool"
+   xmlns:i18n="http://xml.zope.org/namespaces/i18n">
+  <object name="object" meta_type="CMF Action Category">
+   <object name="folderContents" meta_type="CMF Action" i18n:domain="plone">
+    <property name="modal" type="text"></property>
+   </object>
+   <object name="history" meta_type="CMF Action" i18n:domain="plone">
+    <property name="modal" type="text"></property>
+   </object>
+   <object name="contentrules" meta_type="CMF Action" i18n:domain="plone">
+    <property name="modal" type="text"></property>
+   </object>
+  </object>
+</object>
diff --git a/plone/app/upgrade/v50/profiles/to_beta3/controlpanel.xml b/plone/app/upgrade/v50/profiles/to_beta3/controlpanel.xml
index c6f397c..90c6930 100644
--- a/plone/app/upgrade/v50/profiles/to_beta3/controlpanel.xml
+++ b/plone/app/upgrade/v50/profiles/to_beta3/controlpanel.xml
@@ -2,23 +2,101 @@
 <object name="portal_controlpanel" meta_type="Plone Control Panel Tool"
   i18n:domain="plone" xmlns:i18n="http://xml.zope.org/namespaces/i18n">
  <configlet title="Social Media" action_id="socialmedia" appId="Plone"
-    category="Plone" condition_expr=""
+    category="plone-general" condition_expr=""
     url_expr="string:${portal_url}/@@social-controlpanel" visible="True"
     i18n:attributes="title">
   <permission>Plone Site Setup: Site</permission>
  </configlet>
  <configlet title="Resource Registries" action_id="resourceregistries" appId="Plone"
-    category="Plone" condition_expr=""
+    category="plone-advanced" condition_expr=""
     icon_expr=""
     url_expr="string:${portal_url}/@@resourceregistry-controlpanel" visible="True"
     i18n:attributes="title">
   <permission>Plone Site Setup: Site</permission>
  </configlet>
  <configlet title="TinyMCE" action_id="tinymce" appId="Plone"
-    category="Plone" condition_expr=""
+    category="plone-general" condition_expr=""
     icon_expr="string:$portal_url/tinymce.png"
     url_expr="string:${portal_url}/@@tinymce-controlpanel" visible="True"
     i18n:attributes="title">
   <permission>Plone Site Setup: TinyMCE</permission>
  </configlet>
+
+ <configlet title="Content Rules" action_id="ContentRules" appId="Plone"
+    category="plone-content">
+ </configlet>
+ <configlet title="Date and Time" action_id="DateAndTime" appId="DateAndTime"
+    category="plone-general">
+ </configlet>
+ <configlet title="Editing" action_id="EditingSettings" appId="Plone"
+    category="plone-content">
+ </configlet>
+ <configlet title="HTML Filtering" action_id="FilterSettings" appId="FilterSettings"
+    category="plone-security">
+ </configlet>
+ <configlet title="Image Handling" action_id="ImagingSettings" appId="ImagingSettings"
+    category="plone-content">
+ </configlet>
+ <configlet title="Language" action_id="LanguageSettings" appId="Plone"
+    category="plone-general">
+ </configlet>
+ <configlet title="Mail" action_id="MailHost" appId="MailHost"
+    category="plone-general">
+ </configlet>
+ <configlet title="Maintenance" action_id="Maintenance" appId="Plone"
+    category="plone-advanced">
+ </configlet>
+ <configlet title="Markup" action_id="MarkupSettings" appId="MarkupSettings"
+    category="plone-security">
+ </configlet>
+ <configlet title="Navigation" action_id="NavigationSettings" appId="Plone"
+    category="plone-general">
+ </configlet>
+ <configlet title="Site" action_id="PloneReconfig" appId="Plone"
+    category="plone-general">
+ </configlet>
+ <configlet title="Themes" action_id="PortalSkin" appId="PortalSkin"
+    category="plone-general">
+ </configlet>
+ <configlet title="Add-ons" action_id="QuickInstaller" appId="QuickInstaller"
+    category="plone-general">
+ </configlet>
+ <configlet title="Search" action_id="SearchSettings" appId="Plone"
+    category="plone-general">
+ </configlet>
+ <configlet title="Security" action_id="SecuritySettings" appId="SecuritySettings"
+    category="plone-security">
+ </configlet>
+ <configlet title="Content Settings" action_id="TypesSettings" appId="TypesSettings"
+    category="plone-content"
+    url_expr="string:${portal_url}/@@content-controlpanel">
+ </configlet>
+ <configlet title="Users and Groups" action_id="UsersGroups" appId="UsersGroups"
+    category="plone-users">
+ </configlet>
+ <configlet title="Zope Management Interface" action_id="ZMI" appId="ZMI"
+    category="plone-advanced">
+ </configlet>
+ <configlet title="Dexterity Content Types" action_id="dexterity-types" appId="Plone"
+    category="plone-content">
+ </configlet>
+ <configlet title="Discussion" action_id="discussion" appId="plone.app.discussion"
+    category="plone-content">
+ </configlet>
+ <configlet title="Errors" action_id="errorLog" appId="ErrorLog"
+    category="plone-security">
+ </configlet>
+ <configlet title="Caching" action_id="plone.app.caching" appId="plone.app.caching"
+    category="plone-general">
+ </configlet>
+ <configlet title="Configuration Registry" action_id="plone.app.registry" appId="plone.app.registry"
+    category="plone-advanced">
+ </configlet>
+ <configlet title="Theming" action_id="plone.app.theming" appId="plone.app.theming"
+    category="plone-general">
+ </configlet>
+ <configlet title="Syndication" action_id="syndication" appId="Plone"
+    category="plone-general">
+ </configlet>
+
 </object>
diff --git a/plone/app/upgrade/v50/profiles/to_beta3/registry.xml b/plone/app/upgrade/v50/profiles/to_beta3/registry.xml
index bd38875..6ba3cfe 100644
--- a/plone/app/upgrade/v50/profiles/to_beta3/registry.xml
+++ b/plone/app/upgrade/v50/profiles/to_beta3/registry.xml
@@ -4,6 +4,8 @@
            prefix="plone" />
   <records interface="Products.CMFPlone.interfaces.ISocialMediaSchema"
            prefix="plone" />
+  <records interface="Products.CMFPlone.interfaces.ISiteSchema"
+           prefix="plone" />
   <records prefix="plone.resources/plone-patterns-portletmanager"
             interface='Products.CMFPlone.interfaces.IResourceRegistry'>
     <value key="js">++resource++manage-portlets.js</value>


