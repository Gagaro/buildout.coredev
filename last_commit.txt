Repository: plone.app.dexterity


Branch: refs/heads/master
Date: 2015-11-17T12:00:50+01:00
Author: Rene Jochum (pcdummy) <rene@jochums.at>
Commit: https://github.com/plone/plone.app.dexterity/commit/1e4c9fe960a7f68e63e262225a1e9b854d72b75d

Fix non existing self._request with schema.Choice value_type.

Signed-off-by: Rene Jochum &lt;rene@jochums.at&gt;

Files changed:
M plone/app/dexterity/permissions.py

diff --git a/plone/app/dexterity/permissions.py b/plone/app/dexterity/permissions.py
index b40a2ac..2e582e5 100644
--- a/plone/app/dexterity/permissions.py
+++ b/plone/app/dexterity/permissions.py
@@ -90,3 +90,4 @@ def __init__(self, view):
             view = view.form_instance
         content = view.create({})
         self.context = content.__of__(view.context)
+        self._request = MockRequest()


Repository: plone.app.dexterity


Branch: refs/heads/master
Date: 2015-11-23T09:14:23+01:00
Author: Jens W. Klein (jensens) <jk@kleinundpartner.at>
Commit: https://github.com/plone/plone.app.dexterity/commit/442f4f81172ad3f40ed778c07796e95fec8045ef

Merge pull request #197 from plone/fix_attributeerror

Fix non existing self._request with schema.Choice value_type.

Files changed:
M plone/app/dexterity/permissions.py

diff --git a/plone/app/dexterity/permissions.py b/plone/app/dexterity/permissions.py
index b40a2ac..2e582e5 100644
--- a/plone/app/dexterity/permissions.py
+++ b/plone/app/dexterity/permissions.py
@@ -90,3 +90,4 @@ def __init__(self, view):
             view = view.form_instance
         content = view.create({})
         self.context = content.__of__(view.context)
+        self._request = MockRequest()


