Repository: plone.formwidget.namedfile
Branch: refs/heads/master
Date: 2015-02-28T06:32:12+01:00
Author: Timo Stollenwerk (tisto) <tisto@plone.org>
Commit: https://github.com/plone/plone.formwidget.namedfile/commit/ba3e1fa4dbb786f11b0eea390bf7da4bb843b750

Do not use format() since it will break for Python 2.6.

Files changed:
M plone/formwidget/namedfile/converter.py

diff --git a/plone/formwidget/namedfile/converter.py b/plone/formwidget/namedfile/converter.py
index 71395ca..7070eb1 100644
--- a/plone/formwidget/namedfile/converter.py
+++ b/plone/formwidget/namedfile/converter.py
@@ -54,9 +54,10 @@ def b64encode_file(filename, data):
         filename = filename.encode('utf-8')
     filenameb64 = base64.standard_b64encode(filename or '')
     datab64 = base64.standard_b64encode(data)
-    return "filenameb64:{};datab64:{}".format(
+    filename = "filenameb64:%s;datab64:%s" % (
         filenameb64, datab64
-    ).encode('ascii')
+    )
+    return filename.encode('ascii')
 
 
 def b64decode_file(value):


