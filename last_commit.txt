Repository: plone.app.event


Branch: refs/heads/master
Date: 2015-09-17T10:19:17+02:00
Author: Philip Bauer (pbauer) <bauer@starzel.de>
Commit: https://github.com/plone/plone.app.event/commit/717455aa879f0785c0106bf9547120b4c1634135

Prevent negative number of items in event-portlet

Files changed:
M CHANGES.rst
M plone/app/event/portlets/portlet_events.py

diff --git a/CHANGES.rst b/CHANGES.rst
index 4131604..8cef4f3 100644
--- a/CHANGES.rst
+++ b/CHANGES.rst
@@ -4,9 +4,13 @@ Changelog
 2.0.1 (unreleased)
 ------------------
 
+- Prevent negative number of items in event-portlet.
+  [pbauer]
+
 - Remove unittest2 dependency.
   [gforcada]
 
+
 2.0 (2015-09-11)
 ----------------
 
diff --git a/plone/app/event/portlets/portlet_events.py b/plone/app/event/portlets/portlet_events.py
index 7e339cb..6dff86b 100644
--- a/plone/app/event/portlets/portlet_events.py
+++ b/plone/app/event/portlets/portlet_events.py
@@ -31,7 +31,8 @@ class IEventsPortlet(IPortletDataProvider):
         title=_(u'Number of items to display'),
         description=_(u'How many items to list.'),
         required=True,
-        default=5
+        default=5,
+        min=1,
     )
 
     state = schema.Tuple(


