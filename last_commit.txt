Repository: plone.app.linkintegrity


Branch: refs/heads/master
Date: 2015-08-26T11:34:16+02:00
Author: Philip Bauer (pbauer) <bauer@starzel.de>
Commit: https://github.com/plone/plone.app.linkintegrity/commit/6bf8cc40695aa1925f2f04ebceb4511d573c90db

reintroduce the the good old LinkIntegrityNotificationException (for consumption by plone.api)

Files changed:
A plone/app/linkintegrity/exceptions.py

diff --git a/plone/app/linkintegrity/exceptions.py b/plone/app/linkintegrity/exceptions.py
new file mode 100644
index 0000000..2f71347
--- /dev/null
+++ b/plone/app/linkintegrity/exceptions.py
@@ -0,0 +1,19 @@
+# -*- coding: utf-8 -*-
+from OFS.ObjectManager import BeforeDeleteException
+from zope.interface import Interface
+from zope.interface import implements
+
+
+class ILinkIntegrityNotificationException(Interface):
+    """ an exception indicating a prevented link integrity breach """
+
+
+class LinkIntegrityNotificationException(BeforeDeleteException):
+    """ an exception indicating a prevented link integrity breach """
+    implements(ILinkIntegrityNotificationException)
+
+    def __str__(self):
+        args = self.args
+        if args and isinstance(args, tuple):
+            return repr(args[0])
+        return super(LinkIntegrityNotificationException, self).__str__()


Repository: plone.app.linkintegrity


Branch: refs/heads/master
Date: 2015-08-26T18:22:16+02:00
Author: Philip Bauer (pbauer) <bauer@starzel.de>
Commit: https://github.com/plone/plone.app.linkintegrity/commit/c145db90c7c99335d3105b47cf1561ac5034ca57

Merge pull request #23 from plone/exception

reintroduce the the good old LinkIntegrityNotificationException

Files changed:
A plone/app/linkintegrity/exceptions.py

diff --git a/plone/app/linkintegrity/exceptions.py b/plone/app/linkintegrity/exceptions.py
new file mode 100644
index 0000000..2f71347
--- /dev/null
+++ b/plone/app/linkintegrity/exceptions.py
@@ -0,0 +1,19 @@
+# -*- coding: utf-8 -*-
+from OFS.ObjectManager import BeforeDeleteException
+from zope.interface import Interface
+from zope.interface import implements
+
+
+class ILinkIntegrityNotificationException(Interface):
+    """ an exception indicating a prevented link integrity breach """
+
+
+class LinkIntegrityNotificationException(BeforeDeleteException):
+    """ an exception indicating a prevented link integrity breach """
+    implements(ILinkIntegrityNotificationException)
+
+    def __str__(self):
+        args = self.args
+        if args and isinstance(args, tuple):
+            return repr(args[0])
+        return super(LinkIntegrityNotificationException, self).__str__()


