Repository: plone.app.contenttypes
Branch: refs/heads/master
Date: 2015-05-30T11:46:00-05:00
Author: vangheem (vangheem) <vangheem@gmail.com>
Commit: https://github.com/plone/plone.app.contenttypes/commit/2c1b6463fc18a1232277b845526e607fb73616c7

use modal pattern for news item image instead of jquery tools

Files changed:
M CHANGES.rst
M plone/app/contenttypes/browser/templates/newsitem.pt

diff --git a/CHANGES.rst b/CHANGES.rst
index cea6401..fe95151 100644
--- a/CHANGES.rst
+++ b/CHANGES.rst
@@ -10,6 +10,9 @@ Changelog
 1.2b1 (2015-05-30)
 ------------------
 
+- use modal pattern for news item image instead of jquery tools
+  [vangheem]
+
 - Keep additional view_methods when migrating to new view_methods. Fixes #231.
   [pbauer]
 
diff --git a/plone/app/contenttypes/browser/templates/newsitem.pt b/plone/app/contenttypes/browser/templates/newsitem.pt
index ebd41fe..cb91583 100644
--- a/plone/app/contenttypes/browser/templates/newsitem.pt
+++ b/plone/app/contenttypes/browser/templates/newsitem.pt
@@ -7,14 +7,6 @@
     i18n:domain="plone">
 <body>
 
-<metal:head fill-slot="javascript_head_slot">
-  <script type="text/javascript">
-    jQuery(function ($) {
-      $('.newsImageContainer a').prepOverlay({subtype: 'image'});
-    });
-  </script>
-</metal:head>
-
 <metal:content-core fill-slot="content-core">
 <metal:block define-macro="content-core"
     tal:define="templateId template/getId;
@@ -23,6 +15,7 @@
   <figure class="newsImageContainer" tal:condition="python: scaled_image">
     <a tal:define="here_url context/@@plone_context_state/object_url;
                    large_image python: scale_func.scale('image', scale='large');"
+        class="pat-plone-modal" data-pat-plone-modal="image: true"
         tal:attributes="href large_image/url">
       <img tal:replace="structure python: scaled_image.tag(css_class='newsImage')" />
       <figcaption tal:condition="context/image_caption|nothing"


Repository: plone.app.contenttypes
Branch: refs/heads/master
Date: 2015-05-30T11:46:17-05:00
Author: vangheem (vangheem) <vangheem@gmail.com>
Commit: https://github.com/plone/plone.app.contenttypes/commit/8d3d408bb3a5f738ff04a77de67b500eff4d5155

update changelog

Files changed:
M CHANGES.rst

diff --git a/CHANGES.rst b/CHANGES.rst
index fe95151..f2aa337 100644
--- a/CHANGES.rst
+++ b/CHANGES.rst
@@ -4,15 +4,13 @@ Changelog
 1.2b2 (unreleased)
 ------------------
 
-- Nothing changed yet.
+- use modal pattern for news item image instead of jquery tools
+  [vangheem]
 
 
 1.2b1 (2015-05-30)
 ------------------
 
-- use modal pattern for news item image instead of jquery tools
-  [vangheem]
-
 - Keep additional view_methods when migrating to new view_methods. Fixes #231.
   [pbauer]
 


