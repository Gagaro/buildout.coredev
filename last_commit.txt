Repository: mockup


Branch: refs/heads/master
Date: 2015-07-23T08:31:54-05:00
Author: vangheem (vangheem) <vangheem@gmail.com>
Commit: https://github.com/plone/mockup/commit/5462d42dbcd51851c9f2417f187638a668eeacf7

be able to translate tablerow title

Files changed:
M mockup/patterns/structure/js/views/tablerow.js
M mockup/patterns/structure/templates/tablerow.xml

diff --git a/mockup/patterns/structure/js/views/tablerow.js b/mockup/patterns/structure/js/views/tablerow.js
index 3ba90b5..896d728 100644
--- a/mockup/patterns/structure/js/views/tablerow.js
+++ b/mockup/patterns/structure/js/views/tablerow.js
@@ -4,8 +4,9 @@ define([
   'backbone',
   'mockup-patterns-structure-url/js/views/actionmenu',
   'text!mockup-patterns-structure-url/templates/tablerow.xml',
-  'mockup-utils'
-], function($, _, Backbone, ActionMenu, TableRowTemplate, utils) {
+  'mockup-utils',
+  'translate'
+], function($, _, Backbone, ActionMenu, TableRowTemplate, utils, _t) {
   'use strict';
 
   var TableRowView = Backbone.View.extend({
@@ -33,6 +34,7 @@ define([
       data.activeColumns = self.app.activeColumns;
       data.availableColumns = self.app.availableColumns;
       data._authenticator = utils.getAuthenticator();
+      data._t = _t;
       self.$el.html(self.template(data));
       var attrs = self.model.attributes;
       self.$el.addClass('state-' + attrs['review_state']).addClass('type-' + attrs.portal_type); // jshint ignore:line
diff --git a/mockup/patterns/structure/templates/tablerow.xml b/mockup/patterns/structure/templates/tablerow.xml
index e92f594..500d32e 100644
--- a/mockup/patterns/structure/templates/tablerow.xml
+++ b/mockup/patterns/structure/templates/tablerow.xml
@@ -2,7 +2,7 @@
 <td class="title">
   <a href="<%- getURL %>" class="manage state-<%- review_state %> contenttype-<%- portal_type.toLowerCase() %>"><%- Title %></a>
   <div class="icon-group-right">
-    <a href="<%- getURL %>/view" title="View"><span class="glyphicon glyphicon-new-window"></span></a>
+    <a href="<%- getURL %>/view" title="<%- _t('View') %>"><span class="glyphicon glyphicon-new-window"></span></a>
   </div>
 </td>
 <% _.each(activeColumns, function(column){ %>


Repository: mockup


Branch: refs/heads/master
Date: 2015-07-23T16:39:41+02:00
Author: Philip Bauer (pbauer) <bauer@starzel.de>
Commit: https://github.com/plone/mockup/commit/f5cdba4392de2627d4954810f1e617874366478f

Merge pull request #539 from plone/tablerow-translate

be able to translate tablerow title

Files changed:
M mockup/patterns/structure/js/views/tablerow.js
M mockup/patterns/structure/templates/tablerow.xml

diff --git a/mockup/patterns/structure/js/views/tablerow.js b/mockup/patterns/structure/js/views/tablerow.js
index 3ba90b5..896d728 100644
--- a/mockup/patterns/structure/js/views/tablerow.js
+++ b/mockup/patterns/structure/js/views/tablerow.js
@@ -4,8 +4,9 @@ define([
   'backbone',
   'mockup-patterns-structure-url/js/views/actionmenu',
   'text!mockup-patterns-structure-url/templates/tablerow.xml',
-  'mockup-utils'
-], function($, _, Backbone, ActionMenu, TableRowTemplate, utils) {
+  'mockup-utils',
+  'translate'
+], function($, _, Backbone, ActionMenu, TableRowTemplate, utils, _t) {
   'use strict';
 
   var TableRowView = Backbone.View.extend({
@@ -33,6 +34,7 @@ define([
       data.activeColumns = self.app.activeColumns;
       data.availableColumns = self.app.availableColumns;
       data._authenticator = utils.getAuthenticator();
+      data._t = _t;
       self.$el.html(self.template(data));
       var attrs = self.model.attributes;
       self.$el.addClass('state-' + attrs['review_state']).addClass('type-' + attrs.portal_type); // jshint ignore:line
diff --git a/mockup/patterns/structure/templates/tablerow.xml b/mockup/patterns/structure/templates/tablerow.xml
index e92f594..500d32e 100644
--- a/mockup/patterns/structure/templates/tablerow.xml
+++ b/mockup/patterns/structure/templates/tablerow.xml
@@ -2,7 +2,7 @@
 <td class="title">
   <a href="<%- getURL %>" class="manage state-<%- review_state %> contenttype-<%- portal_type.toLowerCase() %>"><%- Title %></a>
   <div class="icon-group-right">
-    <a href="<%- getURL %>/view" title="View"><span class="glyphicon glyphicon-new-window"></span></a>
+    <a href="<%- getURL %>/view" title="<%- _t('View') %>"><span class="glyphicon glyphicon-new-window"></span></a>
   </div>
 </td>
 <% _.each(activeColumns, function(column){ %>


