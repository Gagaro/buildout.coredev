Repository: diazo
Branch: refs/heads/master
Date: 2015-03-02T15:24:15-08:00
Author: Laurence Rowe (lrowe) <laurence@lrowe.co.uk>
Commit: https://github.com/plone/diazo/commit/e46a6213eff1b9816926b93b17e76d9b4f7e4560

Make flake8 happy by moving imports to top of file.

Files changed:
M lib/diazo/compiler.py
M lib/diazo/cssrules.py
M lib/diazo/rules.py
M lib/diazo/run.py
M lib/diazo/tests/test_diazo.py

diff --git a/lib/diazo/compiler.py b/lib/diazo/compiler.py
index 2f67b48..e6b176f 100644
--- a/lib/diazo/compiler.py
+++ b/lib/diazo/compiler.py
@@ -9,19 +9,16 @@
               theme="//div[@id='page-content']"/>
     </rules>\
 """
-usage = __doc__
-
 import logging
 import pkg_resources
-
 from lxml import etree
 from six import string_types
-
 from diazo.rules import process_rules
 from diazo.utils import pkg_xsl, _createOptionParser, CustomResolver
 from diazo.utils import quote_param, split_params
 
 logger = logging.getLogger('diazo')
+usage = __doc__
 
 
 def set_parser(stylesheet, parser, compiler_parser=None):
diff --git a/lib/diazo/cssrules.py b/lib/diazo/cssrules.py
index 84aece6..4512ea7 100644
--- a/lib/diazo/cssrules.py
+++ b/lib/diazo/cssrules.py
@@ -10,17 +10,15 @@
 </rules>\
 """
 from __future__ import absolute_import
-usage = __doc__
-
 from optparse import OptionParser
 from lxml import etree
 from experimental.cssselect import css_to_xpath
-
 from . import utils
-
 import sys
 import logging
+
 logger = logging.getLogger('diazo')
+usage = __doc__
 
 
 def convert_css_selectors(rules):
diff --git a/lib/diazo/rules.py b/lib/diazo/rules.py
index 3f1aba7..8316d0f 100644
--- a/lib/diazo/rules.py
+++ b/lib/diazo/rules.py
@@ -4,19 +4,16 @@
 
 Preprocess RULES, an diazo rules file
 """
-usage = __doc__
-
 import logging
 import re
-
 from lxml import etree
 from six import string_types
 from future.moves.urllib.parse import urljoin
-
 from diazo.cssrules import convert_css_selectors
 from diazo.utils import namespaces, fullname, pkg_xsl, _createOptionParser
 
 logger = logging.getLogger('diazo')
+usage = __doc__
 
 IMPORT_STYLESHEET = re.compile(
     r'''(?P<before>@import[ \t]+(?P<paren>url\([ \t]?)?(?P<quote>['"]?))'''
diff --git a/lib/diazo/run.py b/lib/diazo/run.py
index 2c6dfe9..10b685e 100644
--- a/lib/diazo/run.py
+++ b/lib/diazo/run.py
@@ -7,22 +7,18 @@
 
 Usage: %prog -r RULES [options] CONTENT
 """
-usage = __doc__
-
 import logging
 import sys
 import os.path
-
 from lxml import etree
 from six import string_types
-
 from diazo.compiler import compile_theme
 from diazo.utils import AC_READ_NET, AC_READ_FILE, _createOptionParser
 from diazo.utils import split_params, quote_param
-
 import diazo.runtrace
 
 logger = logging.getLogger('diazo')
+usage = __doc__
 
 
 class RunResolver(etree.Resolver):
diff --git a/lib/diazo/tests/test_diazo.py b/lib/diazo/tests/test_diazo.py
index 5698cd4..cf26659 100644
--- a/lib/diazo/tests/test_diazo.py
+++ b/lib/diazo/tests/test_diazo.py
@@ -9,9 +9,7 @@
 import difflib
 from io import BytesIO
 import unittest
-import future.standard_library
-with future.standard_library.hooks():
-    import configparser
+import configparser
 import pkg_resources
 
 import diazo.compiler


