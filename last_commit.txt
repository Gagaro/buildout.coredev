Repository: mockup


Branch: refs/heads/master
Date: 2015-08-20T12:05:30-05:00
Author: Sam Schwartz (obct537) <obct537@gmail.com>
Commit: https://github.com/plone/mockup/commit/75bbc3c1cc764e822281dc9ebedece21165aa490

Changed several thememapper buttons to make the UI more starndardized

Files changed:
M mockup/patterns/thememapper/js/cacheview.js
M mockup/patterns/thememapper/js/lessbuilderview.js
M mockup/patterns/thememapper/pattern.thememapper.less
M mockup/patterns/thememapper/templates/rulebuilder.xml

diff --git a/mockup/patterns/thememapper/js/cacheview.js b/mockup/patterns/thememapper/js/cacheview.js
index c83994d..565e5e2 100644
--- a/mockup/patterns/thememapper/js/cacheview.js
+++ b/mockup/patterns/thememapper/js/cacheview.js
@@ -10,7 +10,7 @@ define([
     '<div>' +
       '<span id="clearMessage">Click to clear the site\'s theme cache, forcing a reload from the source.</span>' +
       '<span style="display: none;" id="clearSuccess">Cache cleared successfully.</span>' +
-      '<a href="#" id="clearBtn" class="context">Clear</a>' +
+      '<a href="#" id="clearBtn" class="btn btn-block btn-primary">Clear</a>' +
     '</div>'
   );
 
diff --git a/mockup/patterns/thememapper/js/lessbuilderview.js b/mockup/patterns/thememapper/js/lessbuilderview.js
index 5cc7052..344b733 100644
--- a/mockup/patterns/thememapper/js/lessbuilderview.js
+++ b/mockup/patterns/thememapper/js/lessbuilderview.js
@@ -13,8 +13,8 @@ define([
       '<div class="buttonBox">' +
         '<label for="lessFileName">Save as:</label>' +
         '<input id="lessFileName" type="text" placeholder="filename" />' +
-        '<a id="compileBtn" class="context" href="#">Compile</a>' +
-        '<a id="errorBtn" class="btn btn-default" href="#">Clear</a>' +
+        '<button id="compileBtn" class="btn btn-primary">Compile</button>' +
+        '<button id="errorBtn" class="btn btn-default">Clear</button>' +
       '</div>' +
     '</div>'
   );
diff --git a/mockup/patterns/thememapper/pattern.thememapper.less b/mockup/patterns/thememapper/pattern.thememapper.less
index 8edee2f..5b50b33 100644
--- a/mockup/patterns/thememapper/pattern.thememapper.less
+++ b/mockup/patterns/thememapper/pattern.thememapper.less
@@ -325,7 +325,7 @@ body.plone-toolbar-left-default {
         }
     }
 
-    .pat-filemanager .navbar a.btn {
+    .pat-filemanager .navbar .btn-group > a.btn {
         line-height: 10px;
         padding: 5px;
         font-size: small;
@@ -343,16 +343,11 @@ body.plone-toolbar-left-default {
 		label {
 			display: block;
 		}
-
-        a {
-            margin-bottom: 5px;
-            margin-left: 5px;
-            padding: 5px;
-        }
     }
 
 	#lessFileName {
 		margin-bottom: 15px;
+        display: block;
 	}
     .errorMessage {
         word-wrap: break-word;
diff --git a/mockup/patterns/thememapper/templates/rulebuilder.xml b/mockup/patterns/thememapper/templates/rulebuilder.xml
index 9d4584f..5c7ca56 100644
--- a/mockup/patterns/thememapper/templates/rulebuilder.xml
+++ b/mockup/patterns/thememapper/templates/rulebuilder.xml
@@ -54,8 +54,8 @@
         </form>
 
         <div class="formControls new-rule-actions">
-            <input type="submit" class="allowMultiSubmit context next submitting" value="Next" />
-            <input type="submit" class="allowMultiSubmit standalone close" value="Cancel" />
+            <input type="submit" class="btn btn-primary next submitting" value="Next" />
+            <input type="submit" class="btn btn-default standalone close" value="Cancel" />
         </div>
 
     </div>
@@ -64,8 +64,8 @@
             Please select an element using the <strong>HTML mockup</strong> inspector.
         </div>
         <div class="formControls new-rule-actions">
-            <input type="submit" class="allowMultiSubmit context next" value="Ok" />
-            <input type="submit" class="allowMultiSubmit standalone wizard-cancel" value="Cancel" />
+            <input type="submit" class="btn btn-primary next" value="Ok" />
+            <input type="submit" class="btn btn-default standalone wizard-cancel" value="Cancel" />
         </div>
     </div>
     <div id="new-rule-select-content" class="rule-wizard-step" style="display: none;">
@@ -73,8 +73,8 @@
             Please select an element using the <strong>Unthemed content</strong> inspector.
         </div>
         <div class="formControls new-rule-actions">
-            <input type="submit" class="allowMultiSubmit context next submitting" value="Ok" />
-            <input type="submit" class="allowMultiSubmit standalone wizard-cancel" value="Cancel" />
+            <input type="submit" class="btn btn-primary next submitting" value="Ok" />
+            <input type="submit" class="btn btn-default standalone wizard-cancel" value="Cancel" />
         </div>
     </div>
     <div id="new-rule-step-2" class="rule-wizard-step" style="display: none;">
@@ -99,9 +99,9 @@
 
         </form>
         <div class="formControls new-rule-actions">
-            <input type="submit" class="allowMultiSubmit context insert submitting" title="Insert rule into the rules.xml file" value="Insert" />
-            <input type="submit" class="allowMultiSubmit context copy" value="Copy to clipboard" style="display: none;" />
-            <input type="submit" class="allowMultiSubmit standalone close" value="Close" />
+            <input type="submit" class="btn btn-primary insert submitting" title="Insert rule into the rules.xml file" value="Insert" />
+            <input type="submit" class="btn btn-primary copy" value="Copy to clipboard" style="display: none;" />
+            <input type="submit" class="btn btn-default close" value="Close" />
         </div>
     </div>
 </div>


Repository: mockup


Branch: refs/heads/master
Date: 2015-08-20T15:02:39-05:00
Author: Sam Schwartz (obct537) <obct537@gmail.com>
Commit: https://github.com/plone/mockup/commit/f1ff79b2cbd4acfab8b8094e7349f7b0defa1405

Theme editor popovers now close on file change

Files changed:
M mockup/patterns/filemanager/pattern.js

diff --git a/mockup/patterns/filemanager/pattern.js b/mockup/patterns/filemanager/pattern.js
index 6c088e1..ab5cf58 100644
--- a/mockup/patterns/filemanager/pattern.js
+++ b/mockup/patterns/filemanager/pattern.js
@@ -369,6 +369,13 @@ define([
         }
       });
     },
+    closeActivePopovers: function() {
+      var self = this;
+      var active = $('.navbar a.active');
+      $(active).each(function() {
+        $(this).click();
+      });
+    },
     createTab: function(path) {
       var self = this;
       var $item = $(self.tabItemTemplate({path: path}));
@@ -551,6 +558,7 @@ define([
       }
 
       self.resizeEditor();
+      self.closeActivePopovers();
       self.$el.trigger("fileChange");
       self.ace.editor.on('change', function() {
         if (self.ace.editor.curOp && self.ace.editor.curOp.command.name) {


Repository: mockup


Branch: refs/heads/master
Date: 2015-08-20T15:09:30-05:00
Author: Sam Schwartz (obct537) <obct537@gmail.com>
Commit: https://github.com/plone/mockup/commit/bfbac006f817ddfae8f63204d5fd1e0bff4ac8a3

Updated changelog

Files changed:
M CHANGES.rst

diff --git a/CHANGES.rst b/CHANGES.rst
index 888e8ea..3c209aa 100644
--- a/CHANGES.rst
+++ b/CHANGES.rst
@@ -4,6 +4,9 @@ Changelog
 2.1.0 (unreleased)
 ------------------
 
+- Filemanager popovers will now close on file change
+  [obct537]
+
 - Added button to clear the sitewide theme cache to the thememapper interface
   [obct537]
 


Repository: mockup


Branch: refs/heads/master
Date: 2015-08-20T15:33:31-05:00
Author: Sam Schwartz (obct537) <obct537@gmail.com>
Commit: https://github.com/plone/mockup/commit/3c69562043f8abeef7396029f6592b988c482402

Fixed issue breaking the thememapper's rulebuilder

Files changed:
M mockup/patterns/filemanager/pattern.js

diff --git a/mockup/patterns/filemanager/pattern.js b/mockup/patterns/filemanager/pattern.js
index ab5cf58..4939f4f 100644
--- a/mockup/patterns/filemanager/pattern.js
+++ b/mockup/patterns/filemanager/pattern.js
@@ -333,6 +333,7 @@ define([
     },
     handleClick: function(event) {
       var self = this;
+      self.closeActivePopovers();
       self.openFile(event);
     },
     closeActiveTab: function() {
@@ -384,6 +385,7 @@ define([
       $('.remove', $item).click(function(e){
         e.preventDefault();
         e.stopPropagation();
+        self.closeActivePopovers();
         if ($(this).parent().hasClass('active'))
         {
           self.closeActiveTab();
@@ -396,6 +398,7 @@ define([
         e.preventDefault();
         $('li', self.$tabs).removeClass('active');
         var $li = $(this).parent();
+        self.closeActivePopovers();
         $li.addClass('active');
       });
     },
@@ -558,7 +561,6 @@ define([
       }
 
       self.resizeEditor();
-      self.closeActivePopovers();
       self.$el.trigger("fileChange");
       self.ace.editor.on('change', function() {
         if (self.ace.editor.curOp && self.ace.editor.curOp.command.name) {


Repository: mockup


Branch: refs/heads/master
Date: 2015-08-21T16:30:35-05:00
Author: Sam Schwartz (obct537) <obct537@gmail.com>
Commit: https://github.com/plone/mockup/commit/22c5da98da83b8ec61b6e911aef36adf909cff82

Less builder will now look at manifest.cfg to guess compiled filenames

Files changed:
M mockup/patterns/thememapper/js/lessbuilderview.js
M mockup/patterns/thememapper/pattern.js
M mockup/patterns/thememapper/pattern.thememapper.less

diff --git a/mockup/patterns/thememapper/js/lessbuilderview.js b/mockup/patterns/thememapper/js/lessbuilderview.js
index 344b733..f986a05 100644
--- a/mockup/patterns/thememapper/js/lessbuilderview.js
+++ b/mockup/patterns/thememapper/js/lessbuilderview.js
@@ -52,10 +52,22 @@ define([
     },
     setFilename: function() {
         var self = this;
+
         if( self.app.lessPaths['save'] === undefined ) {
             return;
         }
-        var f = self.app.lessPaths['save'];
+
+        var filePath = self.app.lessPaths['less'];
+        var devPath = self.app.devPath[0];
+        var prodPath = self.app.prodPath[0];
+
+        if( filePath == devPath ) {
+            var f = prodPath;
+        }
+        else {
+            var f = self.app.lessPaths['save'];
+        }
+
         f = f.substr(f.lastIndexOf('/') + 1, f.length);
         self.$filename.attr('placeholder', f);
     },
diff --git a/mockup/patterns/thememapper/pattern.js b/mockup/patterns/thememapper/pattern.js
index 1e47407..f2ed7bb 100644
--- a/mockup/patterns/thememapper/pattern.js
+++ b/mockup/patterns/thememapper/pattern.js
@@ -283,6 +283,8 @@ define([
     unthemedInspector: null,
     ruleBuilder: null,
     rulebuilderView: null,
+    devPath: null,
+    prodPath: null,
     lessUrl: null,
     lessPaths: {},
     lessVariableUrl: null,
@@ -308,6 +310,9 @@ define([
       self.lessUrl = (self.options.lessUrl !== undefined ) ? self.options.lessUrl : false;
       self.lessVariableUrl = (self.options.lessVariables !== undefined ) ? self.options.lessVariables : false;
 
+      self.devPath = [];
+      self.prodPath = [];
+
       self.options.filemanagerConfig.uploadUrl = self.options.themeUrl;
       self.options.filemanagerConfig.theme = true;
       self.fileManager = new FileManager(self.$fileManager, self.options.filemanagerConfig);
@@ -349,6 +354,18 @@ define([
 
       // initially, let's hide the panels
       self.hideInspectors();
+      self.getManifest();
+    },
+    getManifest: function() {
+      var self = this;
+
+      self.fileManager.doAction('getFile', {
+        datatype: 'json',
+        data: {
+          path: 'manifest.cfg'
+        },
+        success: function(data) { this.setDefaultPaths(data); }.bind(self)
+      })
     },
     setSavePath: function() {
         var self = this;
@@ -399,6 +416,18 @@ define([
         return false;
       }
     },
+    setDefaultPaths: function(manifest) {
+      var self = this;
+      var dev = new RegExp("development-css\\s*=\\s*\\/\\+\\+theme\\+\\+.*?\\/(.*)");
+      var prod = new RegExp("production-css\\s*=\\s*\\/\\+\\+theme\\+\\+.*?\\/(.*)");
+
+      var devUrl = dev.exec(manifest.contents)[1];
+      var prodUrl = prod.exec(manifest.contents)[1];
+
+      //The array lets us get around scoping issues.
+      self.devPath[0] = devUrl;
+      self.prodPath[0] = prodUrl;
+    },
     saveThemeCSS: function(styles) {
       var self = this.env;
 
diff --git a/mockup/patterns/thememapper/pattern.thememapper.less b/mockup/patterns/thememapper/pattern.thememapper.less
index 5b50b33..b5ae850 100644
--- a/mockup/patterns/thememapper/pattern.thememapper.less
+++ b/mockup/patterns/thememapper/pattern.thememapper.less
@@ -348,6 +348,7 @@ body.plone-toolbar-left-default {
 	#lessFileName {
 		margin-bottom: 15px;
         display: block;
+		width: 100%;
 	}
     .errorMessage {
         word-wrap: break-word;


Repository: mockup


Branch: refs/heads/master
Date: 2015-08-21T16:31:27-05:00
Author: Sam Schwartz (obct537) <obct537@gmail.com>
Commit: https://github.com/plone/mockup/commit/2082c01c37152fa6ceada36b4355dc8f8dbd13be

Updated changelog

Files changed:
M CHANGES.rst

diff --git a/CHANGES.rst b/CHANGES.rst
index 3c209aa..70ea1e2 100644
--- a/CHANGES.rst
+++ b/CHANGES.rst
@@ -4,6 +4,9 @@ Changelog
 2.1.0 (unreleased)
 ------------------
 
+- Lessbuilder will now guess filenames based on manifest.cfg
+  [obct537]
+
 - Filemanager popovers will now close on file change
   [obct537]
 


Repository: mockup


Branch: refs/heads/master
Date: 2015-08-21T16:49:17-05:00
Author: Nathan Van Gheem (vangheem) <vangheem@gmail.com>
Commit: https://github.com/plone/mockup/commit/60cb56c600fde48a419907d386368e07342d14ee

Merge pull request #558 from plone/manifest

Manifest

Files changed:
M CHANGES.rst
M mockup/patterns/filemanager/pattern.js
M mockup/patterns/thememapper/js/cacheview.js
M mockup/patterns/thememapper/js/lessbuilderview.js
M mockup/patterns/thememapper/pattern.js
M mockup/patterns/thememapper/pattern.thememapper.less
M mockup/patterns/thememapper/templates/rulebuilder.xml

diff --git a/CHANGES.rst b/CHANGES.rst
index 888e8ea..70ea1e2 100644
--- a/CHANGES.rst
+++ b/CHANGES.rst
@@ -4,6 +4,12 @@ Changelog
 2.1.0 (unreleased)
 ------------------
 
+- Lessbuilder will now guess filenames based on manifest.cfg
+  [obct537]
+
+- Filemanager popovers will now close on file change
+  [obct537]
+
 - Added button to clear the sitewide theme cache to the thememapper interface
   [obct537]
 
diff --git a/mockup/patterns/filemanager/pattern.js b/mockup/patterns/filemanager/pattern.js
index 6c088e1..4939f4f 100644
--- a/mockup/patterns/filemanager/pattern.js
+++ b/mockup/patterns/filemanager/pattern.js
@@ -333,6 +333,7 @@ define([
     },
     handleClick: function(event) {
       var self = this;
+      self.closeActivePopovers();
       self.openFile(event);
     },
     closeActiveTab: function() {
@@ -369,6 +370,13 @@ define([
         }
       });
     },
+    closeActivePopovers: function() {
+      var self = this;
+      var active = $('.navbar a.active');
+      $(active).each(function() {
+        $(this).click();
+      });
+    },
     createTab: function(path) {
       var self = this;
       var $item = $(self.tabItemTemplate({path: path}));
@@ -377,6 +385,7 @@ define([
       $('.remove', $item).click(function(e){
         e.preventDefault();
         e.stopPropagation();
+        self.closeActivePopovers();
         if ($(this).parent().hasClass('active'))
         {
           self.closeActiveTab();
@@ -389,6 +398,7 @@ define([
         e.preventDefault();
         $('li', self.$tabs).removeClass('active');
         var $li = $(this).parent();
+        self.closeActivePopovers();
         $li.addClass('active');
       });
     },
diff --git a/mockup/patterns/thememapper/js/cacheview.js b/mockup/patterns/thememapper/js/cacheview.js
index c83994d..565e5e2 100644
--- a/mockup/patterns/thememapper/js/cacheview.js
+++ b/mockup/patterns/thememapper/js/cacheview.js
@@ -10,7 +10,7 @@ define([
     '<div>' +
       '<span id="clearMessage">Click to clear the site\'s theme cache, forcing a reload from the source.</span>' +
       '<span style="display: none;" id="clearSuccess">Cache cleared successfully.</span>' +
-      '<a href="#" id="clearBtn" class="context">Clear</a>' +
+      '<a href="#" id="clearBtn" class="btn btn-block btn-primary">Clear</a>' +
     '</div>'
   );
 
diff --git a/mockup/patterns/thememapper/js/lessbuilderview.js b/mockup/patterns/thememapper/js/lessbuilderview.js
index 5cc7052..f986a05 100644
--- a/mockup/patterns/thememapper/js/lessbuilderview.js
+++ b/mockup/patterns/thememapper/js/lessbuilderview.js
@@ -13,8 +13,8 @@ define([
       '<div class="buttonBox">' +
         '<label for="lessFileName">Save as:</label>' +
         '<input id="lessFileName" type="text" placeholder="filename" />' +
-        '<a id="compileBtn" class="context" href="#">Compile</a>' +
-        '<a id="errorBtn" class="btn btn-default" href="#">Clear</a>' +
+        '<button id="compileBtn" class="btn btn-primary">Compile</button>' +
+        '<button id="errorBtn" class="btn btn-default">Clear</button>' +
       '</div>' +
     '</div>'
   );
@@ -52,10 +52,22 @@ define([
     },
     setFilename: function() {
         var self = this;
+
         if( self.app.lessPaths['save'] === undefined ) {
             return;
         }
-        var f = self.app.lessPaths['save'];
+
+        var filePath = self.app.lessPaths['less'];
+        var devPath = self.app.devPath[0];
+        var prodPath = self.app.prodPath[0];
+
+        if( filePath == devPath ) {
+            var f = prodPath;
+        }
+        else {
+            var f = self.app.lessPaths['save'];
+        }
+
         f = f.substr(f.lastIndexOf('/') + 1, f.length);
         self.$filename.attr('placeholder', f);
     },
diff --git a/mockup/patterns/thememapper/pattern.js b/mockup/patterns/thememapper/pattern.js
index 1e47407..f2ed7bb 100644
--- a/mockup/patterns/thememapper/pattern.js
+++ b/mockup/patterns/thememapper/pattern.js
@@ -283,6 +283,8 @@ define([
     unthemedInspector: null,
     ruleBuilder: null,
     rulebuilderView: null,
+    devPath: null,
+    prodPath: null,
     lessUrl: null,
     lessPaths: {},
     lessVariableUrl: null,
@@ -308,6 +310,9 @@ define([
       self.lessUrl = (self.options.lessUrl !== undefined ) ? self.options.lessUrl : false;
       self.lessVariableUrl = (self.options.lessVariables !== undefined ) ? self.options.lessVariables : false;
 
+      self.devPath = [];
+      self.prodPath = [];
+
       self.options.filemanagerConfig.uploadUrl = self.options.themeUrl;
       self.options.filemanagerConfig.theme = true;
       self.fileManager = new FileManager(self.$fileManager, self.options.filemanagerConfig);
@@ -349,6 +354,18 @@ define([
 
       // initially, let's hide the panels
       self.hideInspectors();
+      self.getManifest();
+    },
+    getManifest: function() {
+      var self = this;
+
+      self.fileManager.doAction('getFile', {
+        datatype: 'json',
+        data: {
+          path: 'manifest.cfg'
+        },
+        success: function(data) { this.setDefaultPaths(data); }.bind(self)
+      })
     },
     setSavePath: function() {
         var self = this;
@@ -399,6 +416,18 @@ define([
         return false;
       }
     },
+    setDefaultPaths: function(manifest) {
+      var self = this;
+      var dev = new RegExp("development-css\\s*=\\s*\\/\\+\\+theme\\+\\+.*?\\/(.*)");
+      var prod = new RegExp("production-css\\s*=\\s*\\/\\+\\+theme\\+\\+.*?\\/(.*)");
+
+      var devUrl = dev.exec(manifest.contents)[1];
+      var prodUrl = prod.exec(manifest.contents)[1];
+
+      //The array lets us get around scoping issues.
+      self.devPath[0] = devUrl;
+      self.prodPath[0] = prodUrl;
+    },
     saveThemeCSS: function(styles) {
       var self = this.env;
 
diff --git a/mockup/patterns/thememapper/pattern.thememapper.less b/mockup/patterns/thememapper/pattern.thememapper.less
index 8edee2f..b5ae850 100644
--- a/mockup/patterns/thememapper/pattern.thememapper.less
+++ b/mockup/patterns/thememapper/pattern.thememapper.less
@@ -325,7 +325,7 @@ body.plone-toolbar-left-default {
         }
     }
 
-    .pat-filemanager .navbar a.btn {
+    .pat-filemanager .navbar .btn-group > a.btn {
         line-height: 10px;
         padding: 5px;
         font-size: small;
@@ -343,16 +343,12 @@ body.plone-toolbar-left-default {
 		label {
 			display: block;
 		}
-
-        a {
-            margin-bottom: 5px;
-            margin-left: 5px;
-            padding: 5px;
-        }
     }
 
 	#lessFileName {
 		margin-bottom: 15px;
+        display: block;
+		width: 100%;
 	}
     .errorMessage {
         word-wrap: break-word;
diff --git a/mockup/patterns/thememapper/templates/rulebuilder.xml b/mockup/patterns/thememapper/templates/rulebuilder.xml
index 9d4584f..5c7ca56 100644
--- a/mockup/patterns/thememapper/templates/rulebuilder.xml
+++ b/mockup/patterns/thememapper/templates/rulebuilder.xml
@@ -54,8 +54,8 @@
         </form>
 
         <div class="formControls new-rule-actions">
-            <input type="submit" class="allowMultiSubmit context next submitting" value="Next" />
-            <input type="submit" class="allowMultiSubmit standalone close" value="Cancel" />
+            <input type="submit" class="btn btn-primary next submitting" value="Next" />
+            <input type="submit" class="btn btn-default standalone close" value="Cancel" />
         </div>
 
     </div>
@@ -64,8 +64,8 @@
             Please select an element using the <strong>HTML mockup</strong> inspector.
         </div>
         <div class="formControls new-rule-actions">
-            <input type="submit" class="allowMultiSubmit context next" value="Ok" />
-            <input type="submit" class="allowMultiSubmit standalone wizard-cancel" value="Cancel" />
+            <input type="submit" class="btn btn-primary next" value="Ok" />
+            <input type="submit" class="btn btn-default standalone wizard-cancel" value="Cancel" />
         </div>
     </div>
     <div id="new-rule-select-content" class="rule-wizard-step" style="display: none;">
@@ -73,8 +73,8 @@
             Please select an element using the <strong>Unthemed content</strong> inspector.
         </div>
         <div class="formControls new-rule-actions">
-            <input type="submit" class="allowMultiSubmit context next submitting" value="Ok" />
-            <input type="submit" class="allowMultiSubmit standalone wizard-cancel" value="Cancel" />
+            <input type="submit" class="btn btn-primary next submitting" value="Ok" />
+            <input type="submit" class="btn btn-default standalone wizard-cancel" value="Cancel" />
         </div>
     </div>
     <div id="new-rule-step-2" class="rule-wizard-step" style="display: none;">
@@ -99,9 +99,9 @@
 
         </form>
         <div class="formControls new-rule-actions">
-            <input type="submit" class="allowMultiSubmit context insert submitting" title="Insert rule into the rules.xml file" value="Insert" />
-            <input type="submit" class="allowMultiSubmit context copy" value="Copy to clipboard" style="display: none;" />
-            <input type="submit" class="allowMultiSubmit standalone close" value="Close" />
+            <input type="submit" class="btn btn-primary insert submitting" title="Insert rule into the rules.xml file" value="Insert" />
+            <input type="submit" class="btn btn-primary copy" value="Copy to clipboard" style="display: none;" />
+            <input type="submit" class="btn btn-default close" value="Close" />
         </div>
     </div>
 </div>


