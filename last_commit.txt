Repository: mockup
Branch: refs/heads/master
Date: 2015-02-12T14:34:53-06:00
Author: vangheem (vangheem) <vangheem@gmail.com>
Commit: https://github.com/plone/mockup/commit/1e6f6e6810a0a9024b0ddb9c45f18ea8b60b2e84

check for unsaved changes first

Files changed:
M mockup/patterns/resourceregistry/js/registry.js

diff --git a/mockup/patterns/resourceregistry/js/registry.js b/mockup/patterns/resourceregistry/js/registry.js
index 01c5381..11e496e 100644
--- a/mockup/patterns/resourceregistry/js/registry.js
+++ b/mockup/patterns/resourceregistry/js/registry.js
@@ -435,8 +435,12 @@ define([
     buildClicked: function(e){
       e.preventDefault();
       var self = this;
-      var builder = new Builder(self.options.name, self);
-      builder.run(); 
+      if(this.options.registryView.dirty){
+        alert('You have unsaved changes. Save or discard before building.');
+      }else{
+        var builder = new Builder(self.options.name, self);
+        builder.run();
+      }
     }
   });
 


