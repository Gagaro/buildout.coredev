Repository: mockup


Branch: refs/heads/master
Date: 2015-11-23T15:06:01+01:00
Author: Maurits van Rees (mauritsvanrees) <maurits@vanrees.org>
Commit: https://github.com/plone/mockup/commit/c281fc1be6fc73b279086ba6577186b9beb28b3e

Use selection.any in querystring pattern.

Issue https://github.com/plone/Products.CMFPlone/issues/1040

Files changed:
M CHANGES.rst
M mockup/patterns/relateditems/pattern.js
M mockup/tests/json/queryStringCriteria.json

diff --git a/CHANGES.rst b/CHANGES.rst
index 7dde705..f1bf605 100644
--- a/CHANGES.rst
+++ b/CHANGES.rst
@@ -27,6 +27,10 @@ New:
 
 Fixes:
 
+- Use ``selection.any`` in querystring pattern.
+  Issue https://github.com/plone/Products.CMFPlone/issues/1040
+  [maurits]
+
 - Cleanup and rework: contenttype-icons and showing thumbnails
   for images/leadimages in listings ...
   https://github.com/plone/Products.CMFPlone/issues/1226
diff --git a/mockup/patterns/relateditems/pattern.js b/mockup/patterns/relateditems/pattern.js
index 90cc852..be2107c 100644
--- a/mockup/patterns/relateditems/pattern.js
+++ b/mockup/patterns/relateditems/pattern.js
@@ -356,7 +356,7 @@ define([
           pattern: self,
           baseCriteria: [{
             i: 'is_folderish',
-            o: 'plone.app.querystring.operation.selection.is',
+            o: 'plone.app.querystring.operation.selection.any',
             v: 'True'
           }]
         })
diff --git a/mockup/tests/json/queryStringCriteria.json b/mockup/tests/json/queryStringCriteria.json
index 2b9b8d7..9766d08 100644
--- a/mockup/tests/json/queryStringCriteria.json
+++ b/mockup/tests/json/queryStringCriteria.json
@@ -427,13 +427,13 @@
             "sortable": true
         },
         "review_state": {
-            "operations": ["plone.app.querystring.operation.selection.is"],
+            "operations": ["plone.app.querystring.operation.selection.any"],
             "group": "Metadata",
             "description": "An item's workflow state (e.g.published)",
             "vocabulary": "plone.app.vocabularies.WorkflowStates",
             "title": "Review state",
             "operators": {
-                "plone.app.querystring.operation.selection.is": {
+                "plone.app.querystring.operation.selection.any": {
                     "widget": "MultipleSelectionWidget",
                     "operation": "plone.app.querystring.queryparser._equal",
                     "description": "Tip: you can use * to autocomplete.",
@@ -467,13 +467,13 @@
             "sortable": true
         },
         "Subject": {
-            "operations": ["plone.app.querystring.operation.selection.is"],
+            "operations": ["plone.app.querystring.operation.selection.any"],
             "group": "Text",
             "description": "Tags are used for organization of content",
             "vocabulary": "plone.app.vocabularies.Keywords",
             "title": "Tag",
             "operators": {
-                "plone.app.querystring.operation.selection.is": {
+                "plone.app.querystring.operation.selection.any": {
                     "widget": "MultipleSelectionWidget",
                     "operation": "plone.app.querystring.queryparser._equal",
                     "description": "Tip: you can use * to autocomplete.",
@@ -763,13 +763,13 @@
             "sortable": false
         },
         "portal_type": {
-            "operations": ["plone.app.querystring.operation.selection.is"],
+            "operations": ["plone.app.querystring.operation.selection.any"],
             "group": "Metadata",
             "description": "An item's type (e.g. Event)",
             "vocabulary": "plone.app.vocabularies.ReallyUserFriendlyTypes",
             "title": "Type",
             "operators": {
-                "plone.app.querystring.operation.selection.is": {
+                "plone.app.querystring.operation.selection.any": {
                     "widget": "MultipleSelectionWidget",
                     "operation": "plone.app.querystring.queryparser._equal",
                     "description": "Tip: you can use * to autocomplete.",
@@ -1138,13 +1138,13 @@
             "sortable": false
         },
         "review_state": {
-            "operations": ["plone.app.querystring.operation.selection.is"],
+            "operations": ["plone.app.querystring.operation.selection.any"],
             "group": "Metadata",
             "description": "An item's workflow state (e.g.published)",
             "vocabulary": "plone.app.vocabularies.WorkflowStates",
             "title": "Review state",
             "operators": {
-                "plone.app.querystring.operation.selection.is": {
+                "plone.app.querystring.operation.selection.any": {
                     "widget": "MultipleSelectionWidget",
                     "operation": "plone.app.querystring.queryparser._equal",
                     "description": "Tip: you can use * to autocomplete.",
@@ -1178,13 +1178,13 @@
             "sortable": true
         },
         "Subject": {
-            "operations": ["plone.app.querystring.operation.selection.is"],
+            "operations": ["plone.app.querystring.operation.selection.any"],
             "group": "Text",
             "description": "Tags are used for organization of content",
             "vocabulary": "plone.app.vocabularies.Keywords",
             "title": "Tag",
             "operators": {
-                "plone.app.querystring.operation.selection.is": {
+                "plone.app.querystring.operation.selection.any": {
                     "widget": "MultipleSelectionWidget",
                     "operation": "plone.app.querystring.queryparser._equal",
                     "description": "Tip: you can use * to autocomplete.",


Repository: mockup


Branch: refs/heads/master
Date: 2015-11-23T15:09:22-03:00
Author: Franco Pellegrini (frapell) <frapell@gmail.com>
Commit: https://github.com/plone/mockup/commit/ac693c05481e59054a401e141a1e35e0e907b8dc

Merge pull request #613 from plone/cmfplone-issue-1040

Use selection.any in querystring pattern.

Files changed:
M CHANGES.rst
M mockup/patterns/relateditems/pattern.js
M mockup/tests/json/queryStringCriteria.json

diff --git a/CHANGES.rst b/CHANGES.rst
index 7dde705..f1bf605 100644
--- a/CHANGES.rst
+++ b/CHANGES.rst
@@ -27,6 +27,10 @@ New:
 
 Fixes:
 
+- Use ``selection.any`` in querystring pattern.
+  Issue https://github.com/plone/Products.CMFPlone/issues/1040
+  [maurits]
+
 - Cleanup and rework: contenttype-icons and showing thumbnails
   for images/leadimages in listings ...
   https://github.com/plone/Products.CMFPlone/issues/1226
diff --git a/mockup/patterns/relateditems/pattern.js b/mockup/patterns/relateditems/pattern.js
index 90cc852..be2107c 100644
--- a/mockup/patterns/relateditems/pattern.js
+++ b/mockup/patterns/relateditems/pattern.js
@@ -356,7 +356,7 @@ define([
           pattern: self,
           baseCriteria: [{
             i: 'is_folderish',
-            o: 'plone.app.querystring.operation.selection.is',
+            o: 'plone.app.querystring.operation.selection.any',
             v: 'True'
           }]
         })
diff --git a/mockup/tests/json/queryStringCriteria.json b/mockup/tests/json/queryStringCriteria.json
index 2b9b8d7..9766d08 100644
--- a/mockup/tests/json/queryStringCriteria.json
+++ b/mockup/tests/json/queryStringCriteria.json
@@ -427,13 +427,13 @@
             "sortable": true
         },
         "review_state": {
-            "operations": ["plone.app.querystring.operation.selection.is"],
+            "operations": ["plone.app.querystring.operation.selection.any"],
             "group": "Metadata",
             "description": "An item's workflow state (e.g.published)",
             "vocabulary": "plone.app.vocabularies.WorkflowStates",
             "title": "Review state",
             "operators": {
-                "plone.app.querystring.operation.selection.is": {
+                "plone.app.querystring.operation.selection.any": {
                     "widget": "MultipleSelectionWidget",
                     "operation": "plone.app.querystring.queryparser._equal",
                     "description": "Tip: you can use * to autocomplete.",
@@ -467,13 +467,13 @@
             "sortable": true
         },
         "Subject": {
-            "operations": ["plone.app.querystring.operation.selection.is"],
+            "operations": ["plone.app.querystring.operation.selection.any"],
             "group": "Text",
             "description": "Tags are used for organization of content",
             "vocabulary": "plone.app.vocabularies.Keywords",
             "title": "Tag",
             "operators": {
-                "plone.app.querystring.operation.selection.is": {
+                "plone.app.querystring.operation.selection.any": {
                     "widget": "MultipleSelectionWidget",
                     "operation": "plone.app.querystring.queryparser._equal",
                     "description": "Tip: you can use * to autocomplete.",
@@ -763,13 +763,13 @@
             "sortable": false
         },
         "portal_type": {
-            "operations": ["plone.app.querystring.operation.selection.is"],
+            "operations": ["plone.app.querystring.operation.selection.any"],
             "group": "Metadata",
             "description": "An item's type (e.g. Event)",
             "vocabulary": "plone.app.vocabularies.ReallyUserFriendlyTypes",
             "title": "Type",
             "operators": {
-                "plone.app.querystring.operation.selection.is": {
+                "plone.app.querystring.operation.selection.any": {
                     "widget": "MultipleSelectionWidget",
                     "operation": "plone.app.querystring.queryparser._equal",
                     "description": "Tip: you can use * to autocomplete.",
@@ -1138,13 +1138,13 @@
             "sortable": false
         },
         "review_state": {
-            "operations": ["plone.app.querystring.operation.selection.is"],
+            "operations": ["plone.app.querystring.operation.selection.any"],
             "group": "Metadata",
             "description": "An item's workflow state (e.g.published)",
             "vocabulary": "plone.app.vocabularies.WorkflowStates",
             "title": "Review state",
             "operators": {
-                "plone.app.querystring.operation.selection.is": {
+                "plone.app.querystring.operation.selection.any": {
                     "widget": "MultipleSelectionWidget",
                     "operation": "plone.app.querystring.queryparser._equal",
                     "description": "Tip: you can use * to autocomplete.",
@@ -1178,13 +1178,13 @@
             "sortable": true
         },
         "Subject": {
-            "operations": ["plone.app.querystring.operation.selection.is"],
+            "operations": ["plone.app.querystring.operation.selection.any"],
             "group": "Text",
             "description": "Tags are used for organization of content",
             "vocabulary": "plone.app.vocabularies.Keywords",
             "title": "Tag",
             "operators": {
-                "plone.app.querystring.operation.selection.is": {
+                "plone.app.querystring.operation.selection.any": {
                     "widget": "MultipleSelectionWidget",
                     "operation": "plone.app.querystring.queryparser._equal",
                     "description": "Tip: you can use * to autocomplete.",


