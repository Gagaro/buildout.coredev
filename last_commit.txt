Repository: plone.app.registry


Branch: refs/heads/master
Date: 2015-10-06T12:19:52+02:00
Author: Maurits van Rees (mauritsvanrees) <maurits@vanrees.org>
Commit: https://github.com/plone/plone.app.registry/commit/88d709ce75486a0137fe56a2d637819ce79c9190

Let our `plone.app.registry` import step depend on `typeinfo`.

The portal types may be needed for vocabularies.  For example, you
could get an error when adding a not yet installed type to
`types_not_searched`.

Fixes https://github.com/plone/Products.CMFPlone/issues/1118

Files changed:
M CHANGES.rst
M plone/app/registry/exportimport/configure.zcml

diff --git a/CHANGES.rst b/CHANGES.rst
index c12c623..7c64f9d 100644
--- a/CHANGES.rst
+++ b/CHANGES.rst
@@ -4,6 +4,13 @@ Changelog
 1.3.6 (unreleased)
 ------------------
 
+- Let our ``plone.app.registry`` import step depend on ``typeinfo``.
+  The portal types may be needed for vocabularies.  For example, you
+  could get an error when adding a not yet installed type to
+  ``types_not_searched``.
+  Fixes https://github.com/plone/Products.CMFPlone/issues/1118
+  [maurits]
+
 - show loading icon in control panel when searching
   [vangheem]
 
diff --git a/plone/app/registry/exportimport/configure.zcml b/plone/app/registry/exportimport/configure.zcml
index 3c3648c..5d7626d 100644
--- a/plone/app/registry/exportimport/configure.zcml
+++ b/plone/app/registry/exportimport/configure.zcml
@@ -15,6 +15,7 @@
         handler=".handler.importRegistry">
         <depends name="componentregistry"/>
         <depends name="toolset"/>
+        <depends name="typeinfo"/>
     </gs:importStep>
 
     <gs:exportStep


Repository: plone.app.registry


Branch: refs/heads/master
Date: 2015-10-06T12:24:10+02:00
Author: Jens W. Klein (jensens) <jk@kleinundpartner.at>
Commit: https://github.com/plone/plone.app.registry/commit/248b307ba3c8552b09818041d0c33fa41453fc11

Merge pull request #9 from plone/maurits-depend-typeinfo

Let our `plone.app.registry` import step depend on `typeinfo`.

Files changed:
M CHANGES.rst
M plone/app/registry/exportimport/configure.zcml

diff --git a/CHANGES.rst b/CHANGES.rst
index c12c623..7c64f9d 100644
--- a/CHANGES.rst
+++ b/CHANGES.rst
@@ -4,6 +4,13 @@ Changelog
 1.3.6 (unreleased)
 ------------------
 
+- Let our ``plone.app.registry`` import step depend on ``typeinfo``.
+  The portal types may be needed for vocabularies.  For example, you
+  could get an error when adding a not yet installed type to
+  ``types_not_searched``.
+  Fixes https://github.com/plone/Products.CMFPlone/issues/1118
+  [maurits]
+
 - show loading icon in control panel when searching
   [vangheem]
 
diff --git a/plone/app/registry/exportimport/configure.zcml b/plone/app/registry/exportimport/configure.zcml
index 3c3648c..5d7626d 100644
--- a/plone/app/registry/exportimport/configure.zcml
+++ b/plone/app/registry/exportimport/configure.zcml
@@ -15,6 +15,7 @@
         handler=".handler.importRegistry">
         <depends name="componentregistry"/>
         <depends name="toolset"/>
+        <depends name="typeinfo"/>
     </gs:importStep>
 
     <gs:exportStep


