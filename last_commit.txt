Repository: Products.CMFPlone


Branch: refs/heads/master
Date: 2015-09-16T16:36:16+02:00
Author: Philip Bauer (pbauer) <bauer@starzel.de>
Commit: https://github.com/plone/Products.CMFPlone/commit/289af55fc76e5001a38a3c8ac60b1043c75052f6

add hero-view to be included by barceloneta rules.xml

Files changed:
A Products/CMFPlone/browser/templates/hero.pt
M Products/CMFPlone/browser/configure.zcml

diff --git a/Products/CMFPlone/browser/configure.zcml b/Products/CMFPlone/browser/configure.zcml
index 135b240..f50ca19 100644
--- a/Products/CMFPlone/browser/configure.zcml
+++ b/Products/CMFPlone/browser/configure.zcml
@@ -216,6 +216,13 @@
 
   <browser:page
     for="*"
+    name="hero"
+    permission="zope.Public"
+    template="templates/hero.pt"
+    />
+
+  <browser:page
+    for="*"
     name="footer"
     permission="zope.Public"
     template="templates/footer.pt"
diff --git a/Products/CMFPlone/browser/templates/hero.pt b/Products/CMFPlone/browser/templates/hero.pt
new file mode 100644
index 0000000..5e8ded0
--- /dev/null
+++ b/Products/CMFPlone/browser/templates/hero.pt
@@ -0,0 +1,19 @@
+<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en"
+      xmlns:tal="http://xml.zope.org/namespaces/tal"
+      xmlns:metal="http://xml.zope.org/namespaces/metal"
+      xmlns:i18n="http://xml.zope.org/namespaces/i18n"
+      lang="en"
+      tal:omit-tag=""
+      i18n:domain="plone">
+
+<div class="principal" role="complementary">
+    <div class="container">
+        <div class="gigantic">
+          <h1 i18n:translate="">Welcome!</h1>
+          <p i18n:translate="">Plone 5 rocks!</p>
+          <p><a href="http://plone.com" class="context" role="button" target="_blank" i18n:translate="">Learn more</a></p>
+        </div>
+    </div>
+</div>
+
+</html>
\ No newline at end of file


Repository: Products.CMFPlone


Branch: refs/heads/master
Date: 2015-09-16T16:43:53+02:00
Author: Philip Bauer (pbauer) <bauer@starzel.de>
Commit: https://github.com/plone/Products.CMFPlone/commit/97d05ddf2b7c8a1381df3deb07f52a60a31dedef

add changelog and format zcml

Files changed:
M CHANGES.rst
M Products/CMFPlone/browser/configure.zcml

diff --git a/CHANGES.rst b/CHANGES.rst
index b86e63b..9c97440 100644
--- a/CHANGES.rst
+++ b/CHANGES.rst
@@ -7,6 +7,10 @@ Changelog
 
 5.0rc3 (unreleased)
 -------------------
+
+- Add view @@hero to be included by plonetheme.barceloneta with diazo.
+  [pbauer]
+
 - Fix #991: improve contrast for pending state in tollbar.
   [pabo3000]
 
diff --git a/Products/CMFPlone/browser/configure.zcml b/Products/CMFPlone/browser/configure.zcml
index f50ca19..1e6ea67 100644
--- a/Products/CMFPlone/browser/configure.zcml
+++ b/Products/CMFPlone/browser/configure.zcml
@@ -12,12 +12,12 @@
   </class>
 
   <class class=".navtree.NavtreeQueryBuilder">
-      <allow interface="plone.app.layout.navigation.interfaces.INavigationQueryBuilder" />
+    <allow interface="plone.app.layout.navigation.interfaces.INavigationQueryBuilder" />
   </class>
 
   <permission
-    id="Products.CMFPlone.AllowSendto"
-    title="Allow sendto" />
+      id="Products.CMFPlone.AllowSendto"
+      title="Allow sendto" />
 
   <browser:resource
       file="static/plone-logo.png"
@@ -101,6 +101,7 @@
       class=".main_template.MainTemplate"
       permission="zope.Public"
       />
+
   <browser:page
       for="*"
       name="render-toolbar"
@@ -151,15 +152,19 @@
       permission="zope.Public"
       />
 
-   <adapter for="*
-                .interfaces.INavigationTree"
-            factory=".navtree.DefaultNavtreeStrategy"
-            provides="plone.app.layout.navigation.interfaces.INavtreeStrategy" />
+   <adapter
+      for="*
+           .interfaces.INavigationTree"
+      factory=".navtree.DefaultNavtreeStrategy"
+      provides="plone.app.layout.navigation.interfaces.INavtreeStrategy"
+      />
 
-   <adapter for="*
-                .interfaces.ISiteMap"
-            factory=".navtree.SitemapNavtreeStrategy"
-            provides="plone.app.layout.navigation.interfaces.INavtreeStrategy" />
+   <adapter
+      for="*
+          .interfaces.ISiteMap"
+      factory=".navtree.SitemapNavtreeStrategy"
+      provides="plone.app.layout.navigation.interfaces.INavtreeStrategy"
+      />
 
   <browser:page
       for="*"
@@ -198,15 +203,15 @@
 
   <!-- AtD Support -->
   <browser:page
-    for="*"
-    name="checkDocument"
-    class=".atd.ATDProxyView"
-    permission="zope2.View"
-    attribute="checkDocument"
-    />
+      for="*"
+      name="checkDocument"
+      class=".atd.ATDProxyView"
+      permission="zope2.View"
+      attribute="checkDocument"
+      />
 
-    <!-- Default Page View -->
-    <browser:page
+  <!-- Default Page View -->
+  <browser:page
       for="OFS.interfaces.ITraversable"
       name="default_page"
       class=".defaultpage.DefaultPage"
@@ -215,24 +220,24 @@
       />
 
   <browser:page
-    for="*"
-    name="hero"
-    permission="zope.Public"
-    template="templates/hero.pt"
-    />
+      for="*"
+      name="hero"
+      permission="zope.Public"
+      template="templates/hero.pt"
+      />
 
   <browser:page
-    for="*"
-    name="footer"
-    permission="zope.Public"
-    template="templates/footer.pt"
-    />
+      for="*"
+      name="footer"
+      permission="zope.Public"
+      template="templates/footer.pt"
+      />
 
   <browser:page
-    for="*"
-    name="colophon"
-    permission="zope.Public"
-    template="templates/colophon.pt"
-    />
+      for="*"
+      name="colophon"
+      permission="zope.Public"
+      template="templates/colophon.pt"
+      />
 
 </configure>


Repository: Products.CMFPlone


Branch: refs/heads/master
Date: 2015-09-16T16:47:31+02:00
Author: Philip Bauer (pbauer) <bauer@starzel.de>
Commit: https://github.com/plone/Products.CMFPlone/commit/c44ec4a885d367bd441518fd5040a169d18bbb87

Merge pull request #992 from plone/hero

add hero-view to be included by barceloneta rules.xml

Files changed:
A Products/CMFPlone/browser/templates/hero.pt
M CHANGES.rst
M Products/CMFPlone/browser/configure.zcml

diff --git a/CHANGES.rst b/CHANGES.rst
index b86e63b..9c97440 100644
--- a/CHANGES.rst
+++ b/CHANGES.rst
@@ -7,6 +7,10 @@ Changelog
 
 5.0rc3 (unreleased)
 -------------------
+
+- Add view @@hero to be included by plonetheme.barceloneta with diazo.
+  [pbauer]
+
 - Fix #991: improve contrast for pending state in tollbar.
   [pabo3000]
 
diff --git a/Products/CMFPlone/browser/configure.zcml b/Products/CMFPlone/browser/configure.zcml
index 135b240..1e6ea67 100644
--- a/Products/CMFPlone/browser/configure.zcml
+++ b/Products/CMFPlone/browser/configure.zcml
@@ -12,12 +12,12 @@
   </class>
 
   <class class=".navtree.NavtreeQueryBuilder">
-      <allow interface="plone.app.layout.navigation.interfaces.INavigationQueryBuilder" />
+    <allow interface="plone.app.layout.navigation.interfaces.INavigationQueryBuilder" />
   </class>
 
   <permission
-    id="Products.CMFPlone.AllowSendto"
-    title="Allow sendto" />
+      id="Products.CMFPlone.AllowSendto"
+      title="Allow sendto" />
 
   <browser:resource
       file="static/plone-logo.png"
@@ -101,6 +101,7 @@
       class=".main_template.MainTemplate"
       permission="zope.Public"
       />
+
   <browser:page
       for="*"
       name="render-toolbar"
@@ -151,15 +152,19 @@
       permission="zope.Public"
       />
 
-   <adapter for="*
-                .interfaces.INavigationTree"
-            factory=".navtree.DefaultNavtreeStrategy"
-            provides="plone.app.layout.navigation.interfaces.INavtreeStrategy" />
+   <adapter
+      for="*
+           .interfaces.INavigationTree"
+      factory=".navtree.DefaultNavtreeStrategy"
+      provides="plone.app.layout.navigation.interfaces.INavtreeStrategy"
+      />
 
-   <adapter for="*
-                .interfaces.ISiteMap"
-            factory=".navtree.SitemapNavtreeStrategy"
-            provides="plone.app.layout.navigation.interfaces.INavtreeStrategy" />
+   <adapter
+      for="*
+          .interfaces.ISiteMap"
+      factory=".navtree.SitemapNavtreeStrategy"
+      provides="plone.app.layout.navigation.interfaces.INavtreeStrategy"
+      />
 
   <browser:page
       for="*"
@@ -198,15 +203,15 @@
 
   <!-- AtD Support -->
   <browser:page
-    for="*"
-    name="checkDocument"
-    class=".atd.ATDProxyView"
-    permission="zope2.View"
-    attribute="checkDocument"
-    />
+      for="*"
+      name="checkDocument"
+      class=".atd.ATDProxyView"
+      permission="zope2.View"
+      attribute="checkDocument"
+      />
 
-    <!-- Default Page View -->
-    <browser:page
+  <!-- Default Page View -->
+  <browser:page
       for="OFS.interfaces.ITraversable"
       name="default_page"
       class=".defaultpage.DefaultPage"
@@ -215,17 +220,24 @@
       />
 
   <browser:page
-    for="*"
-    name="footer"
-    permission="zope.Public"
-    template="templates/footer.pt"
-    />
+      for="*"
+      name="hero"
+      permission="zope.Public"
+      template="templates/hero.pt"
+      />
+
+  <browser:page
+      for="*"
+      name="footer"
+      permission="zope.Public"
+      template="templates/footer.pt"
+      />
 
   <browser:page
-    for="*"
-    name="colophon"
-    permission="zope.Public"
-    template="templates/colophon.pt"
-    />
+      for="*"
+      name="colophon"
+      permission="zope.Public"
+      template="templates/colophon.pt"
+      />
 
 </configure>
diff --git a/Products/CMFPlone/browser/templates/hero.pt b/Products/CMFPlone/browser/templates/hero.pt
new file mode 100644
index 0000000..5e8ded0
--- /dev/null
+++ b/Products/CMFPlone/browser/templates/hero.pt
@@ -0,0 +1,19 @@
+<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en"
+      xmlns:tal="http://xml.zope.org/namespaces/tal"
+      xmlns:metal="http://xml.zope.org/namespaces/metal"
+      xmlns:i18n="http://xml.zope.org/namespaces/i18n"
+      lang="en"
+      tal:omit-tag=""
+      i18n:domain="plone">
+
+<div class="principal" role="complementary">
+    <div class="container">
+        <div class="gigantic">
+          <h1 i18n:translate="">Welcome!</h1>
+          <p i18n:translate="">Plone 5 rocks!</p>
+          <p><a href="http://plone.com" class="context" role="button" target="_blank" i18n:translate="">Learn more</a></p>
+        </div>
+    </div>
+</div>
+
+</html>
\ No newline at end of file


