Repository: plone.app.multilingual
Branch: refs/heads/master
Date: 2015-05-28T14:34:32Z
Author: Tom Gross (tomgross) <itconsense@gmail.com>
Commit: https://github.com/plone/plone.app.multilingual/commit/eb469dba51102d71ba08b265efc0d4116d32ec72

remove CMFDefault dependency

Files changed:
M CHANGES.rst
M setup.py
M src/plone/app/multilingual/browser/configure.zcml

diff --git a/CHANGES.rst b/CHANGES.rst
index 98dd588..1e7b7b7 100644
--- a/CHANGES.rst
+++ b/CHANGES.rst
@@ -4,7 +4,8 @@ Changelog
 3.0.3 (unreleased)
 ------------------
 
-- Nothing changed yet.
+- Remove CMFDefault dependency
+  [tomgross]
 
 
 3.0.2 (2015-05-13)
diff --git a/setup.py b/setup.py
index 06bc60d..5ed82e4 100755
--- a/setup.py
+++ b/setup.py
@@ -30,6 +30,7 @@
     install_requires=[
         'setuptools',
         'z3c.relationfield',
+        'zope.publisher',
         'plone.behavior',
         'plone.dexterity',
         'plone.app.z3cform',
diff --git a/src/plone/app/multilingual/browser/configure.zcml b/src/plone/app/multilingual/browser/configure.zcml
index 90b15a5..14c4e1b 100644
--- a/src/plone/app/multilingual/browser/configure.zcml
+++ b/src/plone/app/multilingual/browser/configure.zcml
@@ -190,7 +190,7 @@
     <adapter
         name="babel_view"
         for="Products.CMFCore.interfaces.IFolderish
-        Products.CMFDefault.interfaces.ICMFDefaultSkin
+             zope.publisher.interfaces.browser.IDefaultBrowserLayer
         plone.dexterity.interfaces.IDexterityFTI"
         provides="zope.publisher.interfaces.browser.IBrowserPage"
         factory=".add.DefaultMultilingualAddView"/>


Repository: plone.app.multilingual
Branch: refs/heads/master
Date: 2015-05-30T16:29:42+02:00
Author: Timo Stollenwerk (tisto) <tisto@plone.org>
Commit: https://github.com/plone/plone.app.multilingual/commit/0fed5d7775312a000d100682c3c110e7cb5f30c0

Merge pull request #164 from plone/tomgross-nocmfdefault

remove CMFDefault dependency

Files changed:
M CHANGES.rst
M setup.py
M src/plone/app/multilingual/browser/configure.zcml

diff --git a/CHANGES.rst b/CHANGES.rst
index 98dd588..1e7b7b7 100644
--- a/CHANGES.rst
+++ b/CHANGES.rst
@@ -4,7 +4,8 @@ Changelog
 3.0.3 (unreleased)
 ------------------
 
-- Nothing changed yet.
+- Remove CMFDefault dependency
+  [tomgross]
 
 
 3.0.2 (2015-05-13)
diff --git a/setup.py b/setup.py
index 06bc60d..5ed82e4 100755
--- a/setup.py
+++ b/setup.py
@@ -30,6 +30,7 @@
     install_requires=[
         'setuptools',
         'z3c.relationfield',
+        'zope.publisher',
         'plone.behavior',
         'plone.dexterity',
         'plone.app.z3cform',
diff --git a/src/plone/app/multilingual/browser/configure.zcml b/src/plone/app/multilingual/browser/configure.zcml
index 90b15a5..14c4e1b 100644
--- a/src/plone/app/multilingual/browser/configure.zcml
+++ b/src/plone/app/multilingual/browser/configure.zcml
@@ -190,7 +190,7 @@
     <adapter
         name="babel_view"
         for="Products.CMFCore.interfaces.IFolderish
-        Products.CMFDefault.interfaces.ICMFDefaultSkin
+             zope.publisher.interfaces.browser.IDefaultBrowserLayer
         plone.dexterity.interfaces.IDexterityFTI"
         provides="zope.publisher.interfaces.browser.IBrowserPage"
         factory=".add.DefaultMultilingualAddView"/>


