Repository: plone.app.layout
Branch: refs/heads/master
Date: 2015-06-07T23:54:47-05:00
Author: vangheem (vangheem) <vangheem@gmail.com>
Commit: https://github.com/plone/plone.app.layout/commit/6dc6d9a5ee510e75f115f8a87a246c27f6aa3dcb

no one must be using this but I will fix it anyways.

Files changed:
M plone/app/layout/viewlets/httpheaders.py

diff --git a/plone/app/layout/viewlets/httpheaders.py b/plone/app/layout/viewlets/httpheaders.py
index 974dfcb..80f54a9 100644
--- a/plone/app/layout/viewlets/httpheaders.py
+++ b/plone/app/layout/viewlets/httpheaders.py
@@ -23,7 +23,7 @@ class HTTPCachingHeaders(HeaderViewlet):
 
     def enable_compression(self):
         """Call to activate gzip"""
-        self.context.enableHTTPCompression(request=request, enable=1)
+        self.context.enableHTTPCompression(request=self.request, enable=1)
 
     def getHeaders(self):
         lang = getattr(self.context, 'Language', None)


