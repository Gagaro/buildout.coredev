Repository: plone.app.event
Branch: refs/heads/master
Date: 2014-07-02T21:41:49+09:00
Author: Takanori Suzuki (takanory) <takanori@takanory.net>
Commit: https://github.com/plone/plone.app.event/commit/b682ca4501a1e897069d131db22c14586c8f36c5

Add Japanese translation files

Files changed:
A plone/app/event/locales/ja/LC_MESSAGES/plone.app.event.po
A plone/app/event/locales/ja/LC_MESSAGES/plone.po

diff --git a/plone/app/event/locales/ja/LC_MESSAGES/plone.app.event.po b/plone/app/event/locales/ja/LC_MESSAGES/plone.app.event.po
new file mode 100644
index 0000000..f4dc447
--- /dev/null
+++ b/plone/app/event/locales/ja/LC_MESSAGES/plone.app.event.po
@@ -0,0 +1,667 @@
+# --- PLEASE EDIT THE LINES BELOW CORRECTLY ---
+# SOME DESCRIPTIVE TITLE.
+# FIRST AUTHOR <EMAIL@ADDRESS>, YEAR.
+msgid ""
+msgstr ""
+"Project-Id-Version: PACKAGE VERSION\n"
+"POT-Creation-Date: 2014-04-11 09:40+0000\n"
+"PO-Revision-Date: YEAR-MO-DA HO:MI +ZONE\n"
+"Last-Translator: FULL NAME <EMAIL@ADDRESS>\n"
+"Language-Team: LANGUAGE <LL@li.org>\n"
+"MIME-Version: 1.0\n"
+"Content-Type: text/plain; charset=utf-8\n"
+"Content-Transfer-Encoding: 8bit\n"
+"Plural-Forms: nplurals=1; plural=0\n"
+"Language-Code: en\n"
+"Language-Name: English\n"
+"Preferred-Encodings: utf-8 latin1\n"
+"Domain: plone.app.event\n"
+
+#. Default: "Events in next 7 days."
+#: plone/app/event/browser/event_listing.py:240
+msgid "7days_events"
+msgstr ""
+
+#: plone/app/event/portlets/portlet_calendar.py:217
+msgid "Add Calendar Portlet"
+msgstr ""
+
+#: plone/app/event/portlets/portlet_events.py:130
+msgid "Add Events Portlet"
+msgstr ""
+
+#: plone/app/event/browser/event_summary.pt:40
+msgid "All dates"
+msgstr ""
+
+#: plone/app/event/interfaces.py:36
+msgid "Available timezones"
+msgstr ""
+
+#: plone/app/event/portlets/portlet_calendar.py:59
+msgid "Calendar"
+msgstr ""
+
+#: plone/app/event/browser/controlpanel.pt:33
+msgid "Date/Time based on the current event settings:"
+msgstr ""
+
+#: plone/app/event/portlets/portlet_calendar.py:229
+msgid "Edit Calendar Portlet"
+msgstr ""
+
+#: plone/app/event/portlets/portlet_events.py:143
+msgid "Edit Events Portlet"
+msgstr ""
+
+#: plone/app/event/profiles/default/controlpanel.xml
+msgid "Event Settings"
+msgstr ""
+
+#: plone/app/event/portlets/portlet_events.py:71
+msgid "Events"
+msgstr ""
+
+#: plone/app/event/portlets/portlet_events.py:26
+msgid "How many items to list."
+msgstr ""
+
+#: plone/app/event/portlets/portlet_calendar.py:33
+#: plone/app/event/portlets/portlet_events.py:33
+msgid "Items in which workflow state to show."
+msgstr ""
+
+#: plone/app/event/portlets/portlet_events.py:25
+msgid "Number of items to display"
+msgstr ""
+
+#: plone/app/event/interfaces.py:25
+msgid "Portal default timezone"
+msgstr ""
+
+#: plone/app/event/portlets/portlet_calendar.py:218
+msgid "This portlet displays events in a calendar."
+msgstr ""
+
+#: plone/app/event/portlets/portlet_events.py:131
+msgid "This portlet lists upcoming Events."
+msgstr ""
+
+#: plone/app/event/portlets/portlet_calendar.py:32
+#: plone/app/event/portlets/portlet_events.py:32
+msgid "Workflow state"
+msgstr ""
+
+#. Default: "All events"
+#: plone/app/event/browser/event_listing.py:224
+msgid "all_events"
+msgstr ""
+
+#. Default: "Upcoming Events"
+#: plone/app/event/portlets/portlet_events.pt:10
+msgid "box_events"
+msgstr ""
+
+#. Default: "Previous events…"
+#: plone/app/event/portlets/portlet_events.pt:50
+msgid "box_previous_events"
+msgstr ""
+
+#. Default: "Upcoming events…"
+#: plone/app/event/portlets/portlet_events.pt:57
+msgid "box_upcoming_events"
+msgstr ""
+
+#. Default: "Attendees"
+#: plone/app/event/browser/event_summary.pt:82
+msgid "contact_attendees"
+msgstr ""
+
+#. Default: "Contact Name"
+#: plone/app/event/browser/event_listing.pt:130
+#: plone/app/event/browser/event_summary.pt:69
+msgid "contact_name"
+msgstr ""
+
+#. Default: "Contact Phone"
+#: plone/app/event/browser/event_summary.pt:77
+msgid "contact_phone"
+msgstr ""
+
+#. Default: "End date must be after start date."
+#: plone/app/event/at/content.py:575
+#: plone/app/event/dx/behaviors.py:142
+msgid "error_end_must_be_after_start_date"
+msgstr ""
+
+#. Default: "Invalid start or end date"
+#: plone/app/event/dx/behaviors.py:62
+msgid "error_invalid_date"
+msgstr ""
+
+#. Default: "End date is not valid."
+#: plone/app/event/at/content.py:565
+msgid "error_invalid_end_date"
+msgstr ""
+
+#. Default: "Start date is not valid."
+#: plone/app/event/at/content.py:550
+msgid "error_invalid_start_date"
+msgstr ""
+
+#. Default: "Event"
+#: plone/app/event/browser/event_summary.pt:15
+msgid "event_event"
+msgstr ""
+
+#. Default: "Web"
+#: plone/app/event/browser/event_summary.pt:89
+msgid "event_url"
+msgstr ""
+
+#. Default: "What"
+#: plone/app/event/browser/event_summary.pt:21
+msgid "event_what"
+msgstr ""
+
+#. Default: "When"
+#: plone/app/event/browser/event_summary.pt:27
+msgid "event_when"
+msgstr ""
+
+#. Default: "${startdate} to ${enddate}"
+#: plone/app/event/browser/formatted_date.pt:27
+msgid "event_when_differentday"
+msgstr ""
+
+#: plone/app/event/browser/formatted_date.pt:20
+msgid "event_when_differentday_optional_word_between_date_and_time"
+msgstr ""
+
+#. Default: "${date} from ${starttime} to ${endtime}"
+#: plone/app/event/browser/formatted_date.pt:71
+msgid "event_when_sameday"
+msgstr ""
+
+#. Default: "${date} from ${starttime}"
+#: plone/app/event/browser/formatted_date.pt:52
+msgid "event_when_sameday_openend"
+msgstr ""
+
+#. Default: "Where"
+#: plone/app/event/browser/event_summary.pt:62
+msgid "event_where"
+msgstr ""
+
+#. Default: "${from} until ${until}."
+#: plone/app/event/browser/event_listing.py:241
+msgid "events_from_until"
+msgstr ""
+
+#. Default: "Events in ${month} ${year}"
+#: plone/app/event/browser/event_listing.py:298
+msgid "events_in_month"
+msgstr ""
+
+#. Default: "Events in week ${weeknumber}"
+#: plone/app/event/browser/event_listing.py:275
+msgid "events_in_week"
+msgstr ""
+
+#. Default: "Events on ${day}"
+#: plone/app/event/browser/event_listing.py:261
+msgid "events_on_day"
+msgstr ""
+
+#. Default: "Visit external website"
+#: plone/app/event/browser/event_listing.pt:118
+#: plone/app/event/browser/event_summary.pt:91
+msgid "external_website"
+msgstr ""
+
+#. Default: "Future events"
+#: plone/app/event/browser/event_listing.py:230
+msgid "future_events"
+msgstr ""
+
+#. Default: "Add event to calendar"
+#: plone/app/event/browser/event_summary.pt:97
+msgid "heading_add_to_calendar"
+msgstr ""
+
+#. Default: "The timezones, which should be available for the portal. Can be set for users and events"
+#: plone/app/event/interfaces.py:37
+msgid "help_available_timezones"
+msgstr ""
+
+#. Default: "Search events in current folder only."
+#: plone/app/event/browser/event_listing.py:446
+msgid "help_current_folder"
+msgstr ""
+
+#: plone/app/event/at/content.py:302
+msgid "help_event_announcement"
+msgstr ""
+
+#. Default: "List of attendees."
+#: plone/app/event/at/content.py:199
+#: plone/app/event/dx/behaviors.py:235
+msgid "help_event_attendees"
+msgstr ""
+
+#. Default: "Email address to contact about this event."
+#: plone/app/event/at/content.py:236
+#: plone/app/event/dx/behaviors.py:267
+msgid "help_event_contact_email"
+msgstr ""
+
+#. Default: "Name of a person to contact about this event."
+#: plone/app/event/at/content.py:217
+#: plone/app/event/dx/behaviors.py:255
+msgid "help_event_contact_name"
+msgstr ""
+
+#. Default: "Phone number to contact about this event."
+#: plone/app/event/at/content.py:255
+#: plone/app/event/dx/behaviors.py:279
+msgid "help_event_contact_phone"
+msgstr ""
+
+#. Default: "Date and Time, when the event ends."
+#: plone/app/event/at/content.py:87
+#: plone/app/event/dx/behaviors.py:88
+msgid "help_event_end"
+msgstr ""
+
+#. Default: "Settings for the event listing view."
+#: plone/app/event/profiles/default/actions.xml
+msgid "help_event_listing_settings"
+msgstr ""
+
+#. Default: "Location of the event."
+#: plone/app/event/at/content.py:182
+#: plone/app/event/dx/behaviors.py:219
+msgid "help_event_location"
+msgstr ""
+
+#. Default: "This event is open ended."
+#: plone/app/event/at/content.py:124
+#: plone/app/event/dx/behaviors.py:112
+msgid "help_event_open_end"
+msgstr ""
+
+#. Default: "Define the event recurrence rule."
+#: plone/app/event/at/content.py:161
+#: plone/app/event/dx/behaviors.py:189
+msgid "help_event_recurrence"
+msgstr ""
+
+#. Default: "Event related settings like timezone, etc."
+#: plone/app/event/browser/controlpanel.py:15
+msgid "help_event_settings"
+msgstr ""
+
+#. Default: "Date and Time, when the event begins."
+#: plone/app/event/at/content.py:65
+#: plone/app/event/dx/behaviors.py:76
+msgid "help_event_start"
+msgstr ""
+
+#. Default: "Select the Timezone, where this event happens."
+#: plone/app/event/at/content.py:144
+#: plone/app/event/dx/behaviors.py:125
+msgid "help_event_timezone"
+msgstr ""
+
+#. Default: "Web address with more info about the event. Add http:// for external links."
+#: plone/app/event/at/content.py:274
+#: plone/app/event/dx/behaviors.py:291
+msgid "help_event_url"
+msgstr ""
+
+#. Default: "Event lasts whole day."
+#: plone/app/event/at/content.py:107
+#: plone/app/event/dx/behaviors.py:100
+msgid "help_event_whole_day"
+msgstr ""
+
+#. Default: "First day in the Week."
+#: plone/app/event/interfaces.py:47
+msgid "help_first_weekday"
+msgstr ""
+
+#. Default: "Import Events from icalendar files."
+#: plone/app/event/profiles/default/actions.xml
+msgid "help_ical_import"
+msgstr ""
+
+#. Default: "Click to disable the icalendar import feature on this context."
+#: plone/app/event/profiles/default/actions.xml
+msgid "help_ical_import_disable"
+msgstr ""
+
+#. Default: "Click to enable the icalendar import feature on this context."
+#: plone/app/event/profiles/default/actions.xml
+msgid "help_ical_import_enable"
+msgstr ""
+
+#. Default: "The timezone setting of the portal. Users can set their own timezone, if available timezones are defined."
+#: plone/app/event/interfaces.py:26
+msgid "help_portal_timezone"
+msgstr ""
+
+#. Default: "Content type of the event, which is created when importing icalendar resources."
+#: plone/app/event/ical/importer.py:232
+msgid "ical_import_event_type_desc"
+msgstr ""
+
+#. Default: "Event Type"
+#: plone/app/event/ical/importer.py:231
+msgid "ical_import_event_type_title"
+msgstr ""
+
+#. Default: "Icalendar resource file, if no URL is given."
+#: plone/app/event/ical/importer.py:250
+msgid "ical_import_file_desc"
+msgstr ""
+
+#. Default: "Icalendar File"
+#: plone/app/event/ical/importer.py:249
+msgid "ical_import_file_title"
+msgstr ""
+
+#. Default: "${num} events imported from ${filename}"
+#: plone/app/event/ical/importer.py:357
+msgid "ical_import_imported"
+msgstr ""
+
+#. Default: "Please provide either a icalendar ics file or a URL to a file."
+#: plone/app/event/ical/importer.py:364
+msgid "ical_import_no_ics"
+msgstr ""
+
+#. Default: "Defines how to synchronize:\n1) \"Keep newer\": Import, if the imported event is modified after the existing\n   one.\n2) \"Keep mine\": On conflicts, just do nothing.\n3) \"Keep theirs\": On conflicts, update the existing event with the external\n   one.\n4) \"No Syncing\": Don't synchronize but import events and create new ones, even\n    if they already exist. For each one, create a new sync_uid."
+#: plone/app/event/ical/importer.py:261
+msgid "ical_import_sync_strategy_desc"
+msgstr ""
+
+#. Default: "Synchronization Strategy"
+#: plone/app/event/ical/importer.py:257
+msgid "ical_import_sync_strategy_title"
+msgstr ""
+
+#. Default: "URL to an external icalendar resource file."
+#: plone/app/event/ical/importer.py:242
+msgid "ical_import_url_desc"
+msgstr ""
+
+#. Default: "Icalendar URL"
+#: plone/app/event/ical/importer.py:241
+msgid "ical_import_url_title"
+msgstr ""
+
+#. Default: "iCal"
+#: plone/app/event/browser/event_listing.pt:48
+#: plone/app/event/browser/event_summary.pt:106
+msgid "label_add_to_ical"
+msgstr ""
+
+#. Default: "Current folder"
+#: plone/app/event/browser/event_listing.py:445
+msgid "label_current_folder"
+msgstr ""
+
+#. Default: "Email"
+#: plone/app/event/browser/event_listing.pt:128
+msgid "label_email"
+msgstr ""
+
+#. Default: "Event body text"
+#: plone/app/event/at/content.py:298
+msgid "label_event_announcement"
+msgstr ""
+
+#. Default: "Attendees"
+#: plone/app/event/at/content.py:195
+#: plone/app/event/dx/behaviors.py:231
+msgid "label_event_attendees"
+msgstr ""
+
+#. Default: "Contact E-mail"
+#: plone/app/event/at/content.py:232
+#: plone/app/event/dx/behaviors.py:263
+msgid "label_event_contact_email"
+msgstr ""
+
+#. Default: "Contact Name"
+#: plone/app/event/at/content.py:213
+#: plone/app/event/dx/behaviors.py:251
+msgid "label_event_contact_name"
+msgstr ""
+
+#. Default: "Contact Phone"
+#: plone/app/event/at/content.py:251
+#: plone/app/event/dx/behaviors.py:275
+msgid "label_event_contact_phone"
+msgstr ""
+
+#. Default: "Event Ends"
+#: plone/app/event/at/content.py:83
+#: plone/app/event/dx/behaviors.py:84
+msgid "label_event_end"
+msgstr ""
+
+#. Default: "Location"
+#: plone/app/event/at/content.py:178
+#: plone/app/event/dx/behaviors.py:215
+msgid "label_event_location"
+msgstr ""
+
+#. Default: "Open End"
+#: plone/app/event/at/content.py:120
+#: plone/app/event/dx/behaviors.py:108
+msgid "label_event_open_end"
+msgstr ""
+
+#. Default: "Recurrence"
+#: plone/app/event/at/content.py:157
+#: plone/app/event/dx/behaviors.py:185
+msgid "label_event_recurrence"
+msgstr ""
+
+#. Default: "Event settings"
+#: plone/app/event/browser/controlpanel.py:14
+msgid "label_event_settings"
+msgstr ""
+
+#. Default: "Event Starts"
+#: plone/app/event/at/content.py:61
+#: plone/app/event/dx/behaviors.py:72
+msgid "label_event_start"
+msgstr ""
+
+#. Default: "Timezone"
+#: plone/app/event/at/content.py:140
+#: plone/app/event/dx/behaviors.py:121
+msgid "label_event_timezone"
+msgstr ""
+
+#. Default: "Event URL"
+#: plone/app/event/at/content.py:270
+#: plone/app/event/dx/behaviors.py:287
+msgid "label_event_url"
+msgstr ""
+
+#. Default: "Whole Day"
+#: plone/app/event/at/content.py:103
+#: plone/app/event/dx/behaviors.py:96
+msgid "label_event_whole_day"
+msgstr ""
+
+#. Default: "First Weekday"
+#: plone/app/event/interfaces.py:46
+msgid "label_first_weekday"
+msgstr ""
+
+#: plone/app/event/browser/event_listing.pt:140
+msgid "label_phone"
+msgstr ""
+
+#. Default: "Web"
+#: plone/app/event/browser/event_listing.pt:118
+msgid "label_web"
+msgstr ""
+
+#. Default: "Day"
+#: plone/app/event/browser/event_listing.pt:39
+msgid "mode_day_link"
+msgstr ""
+
+#. Default: "Upcoming"
+#: plone/app/event/browser/event_listing.pt:27
+msgid "mode_future_link"
+msgstr ""
+
+#. Default: "Month"
+#: plone/app/event/browser/event_listing.pt:33
+msgid "mode_month_link"
+msgstr ""
+
+#. Default: "Past"
+#: plone/app/event/browser/event_listing.pt:30
+msgid "mode_past_link"
+msgstr ""
+
+#. Default: "Week"
+#: plone/app/event/browser/event_listing.pt:36
+msgid "mode_week_link"
+msgstr ""
+
+#. Default: "Ical import settings saved."
+#: plone/app/event/ical/importer.py:319
+msgid "msg_ical_import_settings_saved"
+msgstr ""
+
+#. Default: "Next Day"
+#: plone/app/event/browser/event_listing.pt:71
+msgid "next_day_link"
+msgstr ""
+
+#. Default: "Next Month"
+#: plone/app/event/browser/event_listing.pt:57
+msgid "next_month_link"
+msgstr ""
+
+#. Default: "Next Week"
+#: plone/app/event/browser/event_listing.pt:64
+msgid "next_week_link"
+msgstr ""
+
+#. Default: "Past events"
+#: plone/app/event/browser/event_listing.py:227
+msgid "past_events"
+msgstr ""
+
+#. Default: "Select search base folder to search for events. This folder will also be used to link to in calendar searches. If empty, the whole site will be searched and the event listing view will be called on the site root."
+#: plone/app/event/portlets/portlet_calendar.py:42
+#: plone/app/event/portlets/portlet_events.py:43
+msgid "portlet_help_search_base"
+msgstr ""
+
+#. Default: "Search base"
+#: plone/app/event/portlets/portlet_calendar.py:41
+#: plone/app/event/portlets/portlet_events.py:42
+msgid "portlet_label_search_base"
+msgstr ""
+
+#. Default: "Previous Day"
+#: plone/app/event/browser/event_listing.pt:69
+msgid "prev_day_link"
+msgstr ""
+
+#. Default: "Previous Month"
+#: plone/app/event/browser/event_listing.pt:55
+msgid "prev_month_link"
+msgstr ""
+
+#. Default: "Previous Week"
+#: plone/app/event/browser/event_listing.pt:62
+msgid "prev_week_link"
+msgstr ""
+
+#. Default: "Event details"
+#: plone/app/event/browser/event_summary.pt:12
+msgid "summary_event_details"
+msgstr ""
+
+#. Default: "Keep mine"
+#: plone/app/event/vocabularies.py:141
+msgid "sync_keep_mine"
+msgstr ""
+
+#. Default: "Keep newer"
+#: plone/app/event/vocabularies.py:140
+msgid "sync_keep_newer"
+msgstr ""
+
+#. Default: "Keep theirs"
+#: plone/app/event/vocabularies.py:142
+msgid "sync_keep_theirs"
+msgstr ""
+
+#. Default: "No Syncing"
+#: plone/app/event/vocabularies.py:143
+msgid "sync_none"
+msgstr ""
+
+#. Default: "This Month"
+#: plone/app/event/browser/event_listing.pt:56
+msgid "this_month_link"
+msgstr ""
+
+#. Default: "This Week"
+#: plone/app/event/browser/event_listing.pt:63
+msgid "this_week_link"
+msgstr ""
+
+#. Default: "Download this event in iCal format"
+#: plone/app/event/browser/event_listing.pt:43
+#: plone/app/event/browser/event_summary.pt:100
+msgid "title_add_to_ical"
+msgstr ""
+
+#. Default: "Event Listing Settings"
+#: plone/app/event/profiles/default/actions.xml
+msgid "title_event_listing_settings"
+msgstr ""
+
+#. Default: "Ical import"
+#: plone/app/event/profiles/default/actions.xml
+msgid "title_ical_import"
+msgstr ""
+
+#. Default: "Disable icalendar import"
+#: plone/app/event/profiles/default/actions.xml
+msgid "title_ical_import_disable"
+msgstr ""
+
+#. Default: "Enable icalendar import"
+#: plone/app/event/profiles/default/actions.xml
+msgid "title_ical_import_enable"
+msgstr ""
+
+#. Default: "Today"
+#: plone/app/event/browser/event_listing.pt:70
+msgid "today_link"
+msgstr ""
+
+#. Default: "Todays events"
+#: plone/app/event/browser/event_listing.py:237
+msgid "todays_events"
+msgstr ""
+
+#. Default: "Todays upcoming events"
+#: plone/app/event/browser/event_listing.py:233
+msgid "todays_upcoming_events"
+msgstr ""
+
diff --git a/plone/app/event/locales/ja/LC_MESSAGES/plone.po b/plone/app/event/locales/ja/LC_MESSAGES/plone.po
new file mode 100644
index 0000000..62c21d8
--- /dev/null
+++ b/plone/app/event/locales/ja/LC_MESSAGES/plone.po
@@ -0,0 +1,27 @@
+# Takanori Suzuki <takanori@takanory.net>,2014
+msgid ""
+msgstr ""
+"Project-Id-Version: PACKAGE VERSION\n"
+"POT-Creation-Date: 2013-04-19 23:38+0000\n"
+"PO-Revision-Date: 2014-07-02 21:36+0900\n"
+"Last-Translator: Takanori Suzuki <takanori@takanory.net>\n"
+"Language-Team: Plone Japanese Team <https://github.com/plonejp>\n"
+"MIME-Version: 1.0\n"
+"Content-Type: text/plain; charset=utf-8\n"
+"Content-Transfer-Encoding: 8bit\n"
+"Plural-Forms: nplurals=1; plural=0\n"
+"Language-Code: ja-jp\n"
+"Language-Name: Japanese\n"
+"Preferred-Encodings: utf-8\n"
+"Domain: plone\n"
+"X-Is-Fallback-For: ja-jp\n"
+
+# TRANSLATE VIEW NAMES
+# 
+#. Default: "Event Listing"
+msgid "event_listing"
+msgstr "イベント一覧"
+
+#. Default: "Event"
+msgid "event_view"
+msgstr "イベント"


Repository: plone.app.event
Branch: refs/heads/master
Date: 2014-07-02T21:57:01+09:00
Author: Takanori Suzuki (takanory) <takanori@takanory.net>
Commit: https://github.com/plone/plone.app.event/commit/fb6c6e717eeef45805bf442c940d676644e9e902

Update Japanese translation messages

Files changed:
M plone/app/event/locales/ja/LC_MESSAGES/plone.app.event.po

diff --git a/plone/app/event/locales/ja/LC_MESSAGES/plone.app.event.po b/plone/app/event/locales/ja/LC_MESSAGES/plone.app.event.po
index f4dc447..b8a2abe 100644
--- a/plone/app/event/locales/ja/LC_MESSAGES/plone.app.event.po
+++ b/plone/app/event/locales/ja/LC_MESSAGES/plone.app.event.po
@@ -1,21 +1,20 @@
-# --- PLEASE EDIT THE LINES BELOW CORRECTLY ---
-# SOME DESCRIPTIVE TITLE.
-# FIRST AUTHOR <EMAIL@ADDRESS>, YEAR.
+# Takanori Suzuki <takanori@takanory.net>,2014
 msgid ""
 msgstr ""
 "Project-Id-Version: PACKAGE VERSION\n"
 "POT-Creation-Date: 2014-04-11 09:40+0000\n"
-"PO-Revision-Date: YEAR-MO-DA HO:MI +ZONE\n"
-"Last-Translator: FULL NAME <EMAIL@ADDRESS>\n"
-"Language-Team: LANGUAGE <LL@li.org>\n"
+""PO-Revision-Date: 2014-07-02 21:56+0900\n"
+"Last-Translator: Takanori Suzuki <takanori@takanory.net>\n"
+"Language-Team: Plone Japanese Team <https://github.com/plonejp>\n"
 "MIME-Version: 1.0\n"
 "Content-Type: text/plain; charset=utf-8\n"
 "Content-Transfer-Encoding: 8bit\n"
 "Plural-Forms: nplurals=1; plural=0\n"
-"Language-Code: en\n"
-"Language-Name: English\n"
-"Preferred-Encodings: utf-8 latin1\n"
+"Language-Code: ja\n"
+"Language-Name: Japanese\n"
+"Preferred-Encodings: utf-8\n"
 "Domain: plone.app.event\n"
+"X-Is-Fallback-For: ja-jp\n"
 
 #. Default: "Events in next 7 days."
 #: plone/app/event/browser/event_listing.py:240
@@ -24,11 +23,11 @@ msgstr ""
 
 #: plone/app/event/portlets/portlet_calendar.py:217
 msgid "Add Calendar Portlet"
-msgstr ""
+msgstr "カレンダーポートレットを追加"
 
 #: plone/app/event/portlets/portlet_events.py:130
 msgid "Add Events Portlet"
-msgstr ""
+msgstr "イベントポートレットを追加"
 
 #: plone/app/event/browser/event_summary.pt:40
 msgid "All dates"
@@ -40,7 +39,7 @@ msgstr ""
 
 #: plone/app/event/portlets/portlet_calendar.py:59
 msgid "Calendar"
-msgstr ""
+msgstr "カレンダー"
 
 #: plone/app/event/browser/controlpanel.pt:33
 msgid "Date/Time based on the current event settings:"
@@ -48,11 +47,11 @@ msgstr ""
 
 #: plone/app/event/portlets/portlet_calendar.py:229
 msgid "Edit Calendar Portlet"
-msgstr ""
+msgstr "カレンダーポートレットを編集"
 
 #: plone/app/event/portlets/portlet_events.py:143
 msgid "Edit Events Portlet"
-msgstr ""
+msgstr "イベントポートレットを編集"
 
 #: plone/app/event/profiles/default/controlpanel.xml
 msgid "Event Settings"
@@ -60,7 +59,7 @@ msgstr ""
 
 #: plone/app/event/portlets/portlet_events.py:71
 msgid "Events"
-msgstr ""
+msgstr "イベント"
 
 #: plone/app/event/portlets/portlet_events.py:26
 msgid "How many items to list."
@@ -358,7 +357,7 @@ msgstr ""
 #. Default: "Event Type"
 #: plone/app/event/ical/importer.py:231
 msgid "ical_import_event_type_title"
-msgstr ""
+msgstr "イベント種別"
 
 #. Default: "Icalendar resource file, if no URL is given."
 #: plone/app/event/ical/importer.py:250
@@ -404,7 +403,7 @@ msgstr ""
 #: plone/app/event/browser/event_listing.pt:48
 #: plone/app/event/browser/event_summary.pt:106
 msgid "label_add_to_ical"
-msgstr ""
+msgstr "iCal"
 
 #. Default: "Current folder"
 #: plone/app/event/browser/event_listing.py:445
@@ -414,7 +413,7 @@ msgstr ""
 #. Default: "Email"
 #: plone/app/event/browser/event_listing.pt:128
 msgid "label_email"
-msgstr ""
+msgstr "メールアドレス"
 
 #. Default: "Event body text"
 #: plone/app/event/at/content.py:298
@@ -484,13 +483,13 @@ msgstr ""
 #: plone/app/event/at/content.py:140
 #: plone/app/event/dx/behaviors.py:121
 msgid "label_event_timezone"
-msgstr ""
+msgstr "タイムゾーン"
 
 #. Default: "Event URL"
 #: plone/app/event/at/content.py:270
 #: plone/app/event/dx/behaviors.py:287
 msgid "label_event_url"
-msgstr ""
+msgstr "イベントURL"
 
 #. Default: "Whole Day"
 #: plone/app/event/at/content.py:103
@@ -515,7 +514,7 @@ msgstr ""
 #. Default: "Day"
 #: plone/app/event/browser/event_listing.pt:39
 msgid "mode_day_link"
-msgstr ""
+msgstr "日"
 
 #. Default: "Upcoming"
 #: plone/app/event/browser/event_listing.pt:27
@@ -525,7 +524,7 @@ msgstr ""
 #. Default: "Month"
 #: plone/app/event/browser/event_listing.pt:33
 msgid "mode_month_link"
-msgstr ""
+msgstr "月"
 
 #. Default: "Past"
 #: plone/app/event/browser/event_listing.pt:30
@@ -535,7 +534,7 @@ msgstr ""
 #. Default: "Week"
 #: plone/app/event/browser/event_listing.pt:36
 msgid "mode_week_link"
-msgstr ""
+msgstr "週"
 
 #. Default: "Ical import settings saved."
 #: plone/app/event/ical/importer.py:319
@@ -545,17 +544,17 @@ msgstr ""
 #. Default: "Next Day"
 #: plone/app/event/browser/event_listing.pt:71
 msgid "next_day_link"
-msgstr ""
+msgstr "翌日"
 
 #. Default: "Next Month"
 #: plone/app/event/browser/event_listing.pt:57
 msgid "next_month_link"
-msgstr ""
+msgstr "来月"
 
 #. Default: "Next Week"
 #: plone/app/event/browser/event_listing.pt:64
 msgid "next_week_link"
-msgstr ""
+msgstr "来週"
 
 #. Default: "Past events"
 #: plone/app/event/browser/event_listing.py:227
@@ -577,17 +576,17 @@ msgstr ""
 #. Default: "Previous Day"
 #: plone/app/event/browser/event_listing.pt:69
 msgid "prev_day_link"
-msgstr ""
+msgstr "前日"
 
 #. Default: "Previous Month"
 #: plone/app/event/browser/event_listing.pt:55
 msgid "prev_month_link"
-msgstr ""
+msgstr "先月"
 
 #. Default: "Previous Week"
 #: plone/app/event/browser/event_listing.pt:62
 msgid "prev_week_link"
-msgstr ""
+msgstr "先週"
 
 #. Default: "Event details"
 #: plone/app/event/browser/event_summary.pt:12
@@ -617,12 +616,12 @@ msgstr ""
 #. Default: "This Month"
 #: plone/app/event/browser/event_listing.pt:56
 msgid "this_month_link"
-msgstr ""
+msgstr "今月"
 
 #. Default: "This Week"
 #: plone/app/event/browser/event_listing.pt:63
 msgid "this_week_link"
-msgstr ""
+msgstr "今週"
 
 #. Default: "Download this event in iCal format"
 #: plone/app/event/browser/event_listing.pt:43
@@ -653,7 +652,7 @@ msgstr ""
 #. Default: "Today"
 #: plone/app/event/browser/event_listing.pt:70
 msgid "today_link"
-msgstr ""
+msgstr "今日"
 
 #. Default: "Todays events"
 #: plone/app/event/browser/event_listing.py:237


Repository: plone.app.event
Branch: refs/heads/master
Date: 2014-07-16T21:30:08+09:00
Author: retsu (retsu) <tyam@mac.com>
Commit: https://github.com/plone/plone.app.event/commit/4fe2afae3317ae609e16d3fed6075024e45b74dc

Updated with Japanese translation.

Files changed:
M plone/app/event/locales/ja/LC_MESSAGES/plone.app.event.po

diff --git a/plone/app/event/locales/ja/LC_MESSAGES/plone.app.event.po b/plone/app/event/locales/ja/LC_MESSAGES/plone.app.event.po
index b8a2abe..0b4c3d2 100644
--- a/plone/app/event/locales/ja/LC_MESSAGES/plone.app.event.po
+++ b/plone/app/event/locales/ja/LC_MESSAGES/plone.app.event.po
@@ -19,7 +19,7 @@ msgstr ""
 #. Default: "Events in next 7 days."
 #: plone/app/event/browser/event_listing.py:240
 msgid "7days_events"
-msgstr ""
+msgstr "これから7日以内のイベント"
 
 #: plone/app/event/portlets/portlet_calendar.py:217
 msgid "Add Calendar Portlet"
@@ -171,7 +171,7 @@ msgstr ""
 #. Default: "${startdate} to ${enddate}"
 #: plone/app/event/browser/formatted_date.pt:27
 msgid "event_when_differentday"
-msgstr ""
+msgstr "${startdate}から${enddate}までのイベント"
 
 #: plone/app/event/browser/formatted_date.pt:20
 msgid "event_when_differentday_optional_word_between_date_and_time"
@@ -180,48 +180,48 @@ msgstr ""
 #. Default: "${date} from ${starttime} to ${endtime}"
 #: plone/app/event/browser/formatted_date.pt:71
 msgid "event_when_sameday"
-msgstr ""
+msgstr "${date}の${starttime}から${endtime}までのイベント"
 
 #. Default: "${date} from ${starttime}"
 #: plone/app/event/browser/formatted_date.pt:52
 msgid "event_when_sameday_openend"
-msgstr ""
+msgstr "${date}の${starttime}以降のイベント"
 
 #. Default: "Where"
 #: plone/app/event/browser/event_summary.pt:62
 msgid "event_where"
-msgstr ""
+msgstr "場所"
 
 #. Default: "${from} until ${until}."
 #: plone/app/event/browser/event_listing.py:241
 msgid "events_from_until"
-msgstr ""
+msgstr "${from}から${until}までのイベント"
 
 #. Default: "Events in ${month} ${year}"
 #: plone/app/event/browser/event_listing.py:298
 msgid "events_in_month"
-msgstr ""
+msgstr "${year}年${month}月のイベント"
 
 #. Default: "Events in week ${weeknumber}"
 #: plone/app/event/browser/event_listing.py:275
 msgid "events_in_week"
-msgstr ""
+msgstr "第${weeknumber}週のイベント"
 
 #. Default: "Events on ${day}"
 #: plone/app/event/browser/event_listing.py:261
 msgid "events_on_day"
-msgstr ""
+msgstr "${day}のイベント"
 
 #. Default: "Visit external website"
 #: plone/app/event/browser/event_listing.pt:118
 #: plone/app/event/browser/event_summary.pt:91
 msgid "external_website"
-msgstr ""
+msgstr "外部Webサイトを見る"
 
 #. Default: "Future events"
 #: plone/app/event/browser/event_listing.py:230
 msgid "future_events"
-msgstr ""
+msgstr "これからのイベント"
 
 #. Default: "Add event to calendar"
 #: plone/app/event/browser/event_summary.pt:97


Repository: plone.app.event
Branch: refs/heads/master
Date: 2014-08-21T16:08:45+09:00
Author: Manabu TERADA (terapyon) <terada@cmscom.jp>
Commit: https://github.com/plone/plone.app.event/commit/5dacf5cda5d97aa3d1171cd4a0a276385b5af48d

Merge branch 'master' of github.com:plone/plone.app.event

Files changed:
A buildout-43.cfg
A plone/app/event/bbb/__init__.py
A plone/app/event/bbb/browser/__init__.py
A plone/app/event/bbb/browser/configure.zcml
A plone/app/event/bbb/browser/controlpanel.py
A plone/app/event/bbb/configure.zcml
A plone/app/event/bbb/interfaces.py
A plone/app/event/bbb/portlets/__init__.py
A plone/app/event/bbb/portlets/configure.zcml
A plone/app/event/bbb/portlets/portlet_calendar.pt
A plone/app/event/bbb/portlets/portlet_calendar.py
A plone/app/event/bbb/portlets/portlet_events.pt
A plone/app/event/bbb/portlets/portlet_events.py
A plone/app/event/bbb/profiles/default/controlpanel.xml
A plone/app/event/bbb/profiles/default/metadata.xml
A plone/app/event/bbb/profiles/default/plone.app.event.bbb.txt
A plone/app/event/bbb/profiles/default/registry.xml
A plone/app/event/bbb/setuphandlers.py
A test-43.cfg
M .gitignore
M CHANGES.rst
M MANIFEST.in
M bootstrap.py
M dev.cfg
M docs/contributors.rst
M docs/installation.rst
M plone/app/event/base.py
M plone/app/event/configure.zcml
M plone/app/event/dx/behaviors.py
M plone/app/event/portlets/configure.zcml
M plone/app/event/testing.py
M plone/app/event/tests/test_portlet_calendar.py
M plone/app/event/tests/test_portlet_events.py
M setup.py
M test.cfg
M versions.cfg

diff --git a/.gitignore b/.gitignore
index e0ea369..2c2006c 100644
--- a/.gitignore
+++ b/.gitignore
@@ -3,20 +3,21 @@
 *.py?
 *.sw?
 *.wpr
+*~
 .*
-!.gitignore
 bin/
 coverage/
 dev/
 develop-eggs/
 devsrc/
 dist/
+docs/Makefile
 docs/doctrees
 docs/html
-docs/Makefile
 docs/make.bat
 eggs/
 include/
 lib/
 parts/
 var/
+!.gitignore
diff --git a/CHANGES.rst b/CHANGES.rst
index e0dfbcb..f376b3f 100644
--- a/CHANGES.rst
+++ b/CHANGES.rst
@@ -1,9 +1,18 @@
 Changelog
 =========
 
-2.0a4 (unreleased)
+2.0a5 (unreleased)
 ------------------
 
+- Nothing changed yet.
+
+
+2.0a4 (2014-07-22)
+------------------
+
+- Restore Plone 4.3 compatibility.
+  [datakurre]
+
 - Fix event.js Javascript, which produced Javascript date parsing errors when
   changing the start date in Firefox. Firefox does not parse date string, which
   are only nearly ISO 8601 compatible, without a "T" between the date and time
diff --git a/MANIFEST.in b/MANIFEST.in
index 46b1087..483bab6 100644
--- a/MANIFEST.in
+++ b/MANIFEST.in
@@ -2,4 +2,5 @@ include *.rst
 recursive-include docs *
 recursive-include plone *
 global-include *.mo
-global-exclude *pyc
+global-exclude *pyc *~
+prune devsrc
diff --git a/bootstrap.py b/bootstrap.py
index 6b7e45c..ed57894 100644
--- a/bootstrap.py
+++ b/bootstrap.py
@@ -75,8 +75,8 @@
     from urllib2 import urlopen
 
 ez = {}
-exec(urlopen('https://bitbucket.org/pypa/setuptools/downloads/ez_setup.py'
-            ).read(), ez)
+exec(urlopen('https://bootstrap.pypa.io/ez_setup.py').read(), ez)
+
 if not options.allow_site_packages:
     # ez_setup imports site, which adds site packages
     # this will remove them from the path to ensure that incompatible versions 
@@ -158,8 +158,7 @@ def _final_version(parsed_version):
 import subprocess
 if subprocess.call(cmd, env=dict(os.environ, PYTHONPATH=setuptools_path)) != 0:
     raise Exception(
-        "Failed to execute command:\n%s",
-        repr(cmd)[1:-1])
+        "Failed to execute command:\n%s" % repr(cmd)[1:-1])
 
 ######################################################################
 # Import and run buildout
diff --git a/buildout-43.cfg b/buildout-43.cfg
new file mode 100644
index 0000000..6d2a5aa
--- /dev/null
+++ b/buildout-43.cfg
@@ -0,0 +1,27 @@
+[buildout]
+extends =
+    https://raw.githubusercontent.com/plone/buildout.coredev/4.3/versions.cfg
+    https://raw.githubusercontent.com/plone/buildout.coredev/4.3/sources.cfg
+    https://raw.githubusercontent.com/plone/buildout.coredev/4.3/checkouts.cfg
+    versions.cfg
+    sources.cfg
+parts = instance
+
+versions = versions
+sources-dir = ${buildout:directory}/devsrc
+
+develop = .
+
+[sources]
+# Looks like, `develop = .` doesn't work well with mr.developer. So we checkout
+# plone.app.event to the buildout directory path.
+plone.app.event = git git@github.com:plone/plone.app.event.git branch=master full-path=${buildout:directory}
+
+[instance]
+recipe = plone.recipe.zope2instance
+user = admin:admin
+environment-vars = zope_i18n_compile_mo_files true
+eggs =
+    Plone
+    Pillow
+    plone.app.event
diff --git a/dev.cfg b/dev.cfg
index ce95069..11a65d1 100644
--- a/dev.cfg
+++ b/dev.cfg
@@ -7,8 +7,10 @@ parts +=
     omelette
     zopepy
     sphinx
+    checkversions
 
-log-level = 1
+# One of: CRITICAL, ERROR, WARNING, INFO, DEBUG, NOTSET
+log-level = INFO
 
 [instance]
 user = admin:admin
@@ -23,7 +25,10 @@ eggs = i18ndude
 
 [omelette]
 recipe = collective.recipe.omelette
-eggs = ${instance:eggs}
+eggs =
+    ${instance:eggs}
+    ${test:eggs}
+    ${robot:eggs}
 
 [zopepy]
 recipe = zc.recipe.egg
@@ -35,3 +40,7 @@ scripts = zopepy
 recipe = collective.recipe.sphinxbuilder
 source = ${buildout:directory}/docs
 interpreter = ${buildout:directory}/bin/zopepy
+
+[checkversions]
+recipe=zc.recipe.egg
+eggs=z3c.checkversions [buildout]
diff --git a/docs/contributors.rst b/docs/contributors.rst
index 5ed2cfb..e06e4cf 100644
--- a/docs/contributors.rst
+++ b/docs/contributors.rst
@@ -30,6 +30,7 @@ Thanks!
 - Andreas Jung, zopyx
 - Andreas Zeidler, witsch
 - Andrew Mleczko, amleczko
+- Asko Soukka, datakurre
 - Bo Simonsen, bosim
 - Cillian de Róiste, cillianderoiste
 - David Glick, davisagli
diff --git a/docs/installation.rst b/docs/installation.rst
index 9eedb12..ffcdfbe 100644
--- a/docs/installation.rst
+++ b/docs/installation.rst
@@ -4,11 +4,8 @@ Installation
 Compatibility
 -------------
 
-plone.app.event 2.0 is only compatible with Plone 5, which does not have any
-stable releases at time of this writing.
-
-For use with Plone 4.3, use a plone.app.event version from the 1.x release
-series.
+plone.app.event 2.0 is a rewrite of plone.app.event 1.x and fixes some issues.
+See Changelog.rst.
 
 The following is a compatibility map of all current plone.app.event versions:
 
@@ -18,23 +15,27 @@ plone.app.event    Plone     plone.app.widgets  plone.app.contenttypes  Archetyp
 version  branch
 =======  ======  ==========  =================  ======================  ==========
 1.1.x    1.1.x   Plone 4.3+         No                  1.1.x               Yes
-1.2.x    1.2.x   Plone 4.3+         1.5                 < 1.2a3             Yes
-2.x      master  Plone 5            1.6+               >= 1.2a3             No
+1.2.x    1.2.x   Plone 4.3+       >= 1.5               < 1.2a3              Yes
+2.x      master  Plone 4.3+       >= 1.7              >= 1.2a3               No
 =======  ======  ==========  =================  ======================  ==========
 
 
 Buildout files
 --------------
 
-- ``buildout.cfg``: plone.app.event base installation.
+- ``buildout.cfg``: Base installation for Plone 5.
+
+- ``buildout-43.cfg``: Base installation for Plone 4.3.
 
-- ``dev.cfg``: plone.app.event development configuration, including tests.
+- ``dev.cfg``: Development configuration, including tests, for Plone 5.
 
-- ``tests.cfg``: plone.app.event tests only.
+- ``test.cfg``: Test build for Plone 5.
 
-- ``sources.cfg``: plone.app.event mr.developer source definitions.
+- ``test-43.cfg``: Test build for Plone 4.3.
 
-- ``versions.cfg``: plone.app.event version requirements.
+- ``sources.cfg``: mr.developer source definitions.
+
+- ``versions.cfg``: Recommended version requirements.
 
 
 Installation
@@ -42,7 +43,7 @@ Installation
 
 ``plone.app.event`` only provides Dexterity behaviors to build own types based
 on them.  If you want to install a Dexterity based Event type, you can simply
-use ``plone.app.contenttypes`` 1.1b1 or up.
+use ``plone.app.contenttypes`` 1.2a3 or up.
 
 Depend on one (or both) of these setuptools dependencies::
 
@@ -57,6 +58,15 @@ following GenericSetup profile in metadata.xml::
     plone.app.event:default
 
 
+Upgrading from plone.app.event 1.x
+----------------------------------
+
+TODO: ...
+
+There are upgrade steps in plone.app.contenttypes for 1.x to 2.0. That has to
+be revisited and refactored.
+
+
 Upgrading from plone.app.event 1.0
 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
 TODO: ...
diff --git a/plone/app/event/base.py b/plone/app/event/base.py
index 10276ac..015a39d 100644
--- a/plone/app/event/base.py
+++ b/plone/app/event/base.py
@@ -436,7 +436,7 @@ def default_timezone(context=None, as_tzinfo=False):
             return info if as_tzinfo else info.zone
 
     reg_key = 'plone.portal_timezone'
-    registry = getUtility(IRegistry)
+    registry = getUtility(IRegistry, context=context)
     portal_timezone = registry.get(reg_key, None)
 
     # fallback to what plone.event is doing
@@ -662,9 +662,8 @@ def start_end_from_mode(mode, dt=None, context=None):
                     'day': Return all events on the given day (dt parameter
                            required)
                     'week': Show a weeks events, optionally from a given date.
-                 These settings override the start and end parameters.
-                    Not implemented yet:
                     'month': Show this month's events.
+                 These settings override the start and end parameters.
     :type mode: string
 
     :param dt: Optional datetime for day mode.
diff --git a/plone/app/event/bbb/__init__.py b/plone/app/event/bbb/__init__.py
new file mode 100644
index 0000000..e69de29
diff --git a/plone/app/event/bbb/browser/__init__.py b/plone/app/event/bbb/browser/__init__.py
new file mode 100644
index 0000000..e69de29
diff --git a/plone/app/event/bbb/browser/configure.zcml b/plone/app/event/bbb/browser/configure.zcml
new file mode 100644
index 0000000..f9f3a9e
--- /dev/null
+++ b/plone/app/event/bbb/browser/configure.zcml
@@ -0,0 +1,13 @@
+<configure
+    xmlns="http://namespaces.zope.org/zope"
+    xmlns:browser="http://namespaces.zope.org/browser">
+
+  <!-- Date and Time Control panel -->
+  <browser:page
+      name="dateandtime-controlpanel"
+      for="Products.CMFPlone.interfaces.IPloneSiteRoot"
+      class=".controlpanel.DateAndTimeControlPanel"
+      permission="plone.app.controlpanel.Site"
+      />
+
+</configure>
diff --git a/plone/app/event/bbb/browser/controlpanel.py b/plone/app/event/bbb/browser/controlpanel.py
new file mode 100644
index 0000000..a86796e
--- /dev/null
+++ b/plone/app/event/bbb/browser/controlpanel.py
@@ -0,0 +1,22 @@
+from Products.CMFPlone import PloneMessageFactory as _
+from plone.app.event.bbb.interfaces import IDateAndTimeSchema
+from plone.app.registry.browser.controlpanel import ControlPanelFormWrapper
+from plone.app.registry.browser.controlpanel import RegistryEditForm
+
+
+class DateAndTimeControlPanelForm(RegistryEditForm):
+
+    id = "DateAndTimeControlPanel"
+    label = _(u"Date and Time settings")
+    schema = IDateAndTimeSchema
+    schema_prefix = "plone"
+
+    label = _(u"label_dateandtime_settings", default=u"Date and Time settings")
+    description = _(
+        u"help_event_settings",
+        default=u"Date and Time related settings like timezone(s), etc."
+    )
+
+
+class DateAndTimeControlPanel(ControlPanelFormWrapper):
+    form = DateAndTimeControlPanelForm
\ No newline at end of file
diff --git a/plone/app/event/bbb/configure.zcml b/plone/app/event/bbb/configure.zcml
new file mode 100644
index 0000000..11b91c6
--- /dev/null
+++ b/plone/app/event/bbb/configure.zcml
@@ -0,0 +1,26 @@
+<configure
+    xmlns="http://namespaces.zope.org/zope"
+    xmlns:genericsetup="http://namespaces.zope.org/genericsetup"
+    i18n_domain="plone.app.event">
+
+  <include package=".browser" />
+  <include package=".portlets" />
+
+  <genericsetup:registerProfile
+      name="default"
+      title="plone.app.event (support for Plone 4)"
+      directory="profiles/default"
+      description="plone.app.event framework registration."
+      for="Products.CMFPlone.interfaces.IPloneSiteRoot"
+      provides="Products.GenericSetup.interfaces.EXTENSION"
+      />
+
+  <genericsetup:importStep
+      name="plone.app.event-bbb"
+      handler=".setuphandlers.setup_misc"
+      title="plone.app.event-bbb misc"
+      description="first_weekday setup">
+    <depends name="plone.app.registry" />
+  </genericsetup:importStep>
+
+</configure>
diff --git a/plone/app/event/bbb/interfaces.py b/plone/app/event/bbb/interfaces.py
new file mode 100644
index 0000000..e26313a
--- /dev/null
+++ b/plone/app/event/bbb/interfaces.py
@@ -0,0 +1,39 @@
+from Products.CMFPlone import PloneMessageFactory as _
+from zope import schema
+from zope.interface import Interface
+
+
+class IDateAndTimeSchema(Interface):
+    """Control panel settings for date and time related settings.
+    """
+
+    portal_timezone = schema.Choice(
+        title=_(u"Portal default timezone"),
+        description=_(
+            u"help_portal_timezone",
+            default=u"The timezone setting of the portal. Users can set "
+                    u"their own timezone, if available timezones are "
+                    u"defined."),
+        required=True,
+        default=None,
+        vocabulary="plone.app.vocabularies.CommonTimezones")
+
+    available_timezones = schema.List(
+        title=_(u"Available timezones"),
+        description=_(
+            u"help_available_timezones",
+            default=u"The timezones, which should be available for the "
+                    u"portal. Can be set for users and events"),
+        required=False,
+        default=[],
+        value_type=schema.Choice(
+            vocabulary="plone.app.vocabularies.Timezones"))
+
+    first_weekday = schema.Choice(
+        title=_(u'label_first_weekday', default=u'First Weekday'),
+        description=_(
+            u'help_first_weekday',
+            default=u'First day in the Week.'),
+        required=True,
+        default=None,
+        vocabulary="plone.app.vocabularies.Weekdays")
\ No newline at end of file
diff --git a/plone/app/event/bbb/portlets/__init__.py b/plone/app/event/bbb/portlets/__init__.py
new file mode 100644
index 0000000..e69de29
diff --git a/plone/app/event/bbb/portlets/configure.zcml b/plone/app/event/bbb/portlets/configure.zcml
new file mode 100644
index 0000000..851bf74
--- /dev/null
+++ b/plone/app/event/bbb/portlets/configure.zcml
@@ -0,0 +1,23 @@
+<configure xmlns="http://namespaces.zope.org/zope"
+           xmlns:plone="http://namespaces.plone.org/plone"
+           i18n_domain="plone.app.event">
+
+  <plone:portlet
+      name="portlets.Calendar"
+      interface="..portlets.portlet_calendar.ICalendarPortlet"
+      assignment="..portlets.portlet_calendar.Assignment"
+      renderer=".portlet_calendar.Renderer"
+      addview=".portlet_calendar.AddForm"
+      editview=".portlet_calendar.EditForm"
+      />
+
+  <plone:portlet
+      name="portlets.Events"
+      interface="..portlets.portlet_events.IEventsPortlet"
+      assignment="..portlets.portlet_events.Assignment"
+      renderer=".portlet_events.Renderer"
+      addview=".portlet_events.AddForm"
+      editview=".portlet_events.EditForm"
+      />
+
+</configure>
diff --git a/plone/app/event/bbb/portlets/portlet_calendar.pt b/plone/app/event/bbb/portlets/portlet_calendar.pt
new file mode 100644
index 0000000..80897b6
--- /dev/null
+++ b/plone/app/event/bbb/portlets/portlet_calendar.pt
@@ -0,0 +1,83 @@
+<html xmlns="http://www.w3.org/1999/xhtml"
+      xmlns:tal="http://xml.zope.org/namespaces/tal"
+      xmlns:i18n="http://xml.zope.org/namespaces/i18n"
+      i18n:domain="plone"
+      tal:omit-tag="">
+<dl class="portlet portletCalendar"
+    tal:define="navigation_root_url context/@@plone_portal_state/navigation_root_url;
+                month view/month;
+                year view/year;">
+
+    <dt class="portletHeader">
+      <span class="portletTopLeft"></span>
+      <a href="#" rel="nofollow"
+           class="calendarPrevious"
+           title="Previous month"
+           tal:define="prev_month view/prev_month;
+                       prev_year view/prev_year"
+           tal:attributes="href view/prev_query;
+                           data-year prev_year;
+                           data-month prev_month;"
+           i18n:attributes="title title_previous_month;">&laquo;</a>
+
+        <span i18n:translate="" tal:omit-tag="">
+            <span i18n:name="monthname" i18n:translate=""
+                  tal:content="view/month_name"
+                  tal:omit-tag="">monthname</span>
+            <span i18n:name="year" i18n:translate=""
+                  tal:content="year"
+                  tal:omit-tag="">year</span>
+        </span>
+
+        <a href="#" rel="nofollow"
+           class="calendarNext"
+           title="Next month"
+           tal:define="next_month view/next_month;
+                       next_year view/next_year"
+           tal:attributes="href view/next_query;
+                           data-year next_year;
+                           data-month next_month;"
+           i18n:attributes="title title_next_month;">&raquo;</a>
+        <span class="portletTopRight"></span>
+    </dt>
+
+    <dd class="portletItem">
+        <table class="ploneCalendar" summary="Calendar"
+            i18n:attributes="summary summary_calendar">
+            <caption class="hiddenStructure"
+                i18n:translate="" tal:content="string:month-${month}">monthname</caption>
+            <thead>
+              <tr class="weekdays"><tal:data repeat="weekday view/weekdays">
+                <th scope="col" i18n:translate="" tal:content="weekday">Su</th>
+              </tal:data></tr>
+            </thead>
+            <tbody>
+              <tr tal:repeat="week view/cal_data">
+                <tal:block repeat="day week">
+                <td class="event"
+                  tal:define="today day/today;
+                              next_month day/next_month;
+                              prev_month day/prev_month;
+                              events day/events;
+                              limit python:len(events) if events is not None else 0"
+                  tal:attributes="class python:u'event%s%s%s%s' %
+                              ((today and ' today' or ''),
+                              (next_month and ' cal_next_month' or ''),
+                              (prev_month and ' cal_prev_month' or ''),
+                              (events and ' cal_has_events' or ''))">
+                    <a href=""
+                      tal:omit-tag="not:events"
+                      tal:attributes="href python:view.date_events_url(day['date_string']);
+                                      title day/events_string;"
+                      tal:content="day/day">31</a>
+
+                </td>
+                </tal:block>
+              </tr>
+            </tbody>
+        </table>
+        <span class="portletBottomLeft"></span>
+        <span class="portletBottomRight"></span>
+    </dd>
+</dl>
+</html>
diff --git a/plone/app/event/bbb/portlets/portlet_calendar.py b/plone/app/event/bbb/portlets/portlet_calendar.py
new file mode 100644
index 0000000..6e5ba65
--- /dev/null
+++ b/plone/app/event/bbb/portlets/portlet_calendar.py
@@ -0,0 +1,27 @@
+from Products.Five.browser.pagetemplatefile import ViewPageTemplateFile
+from plone.app.portlets import PloneMessageFactory as _
+from plone.app.portlets.browser.z3cformhelper import AddForm
+from plone.app.portlets.browser.z3cformhelper import EditForm
+from plone.app.event.portlets.portlet_calendar import Renderer as RendererBase
+from plone.app.event.portlets.portlet_calendar import ICalendarPortlet
+from plone.app.event.portlets.portlet_calendar import Assignment
+
+
+class Renderer(RendererBase):
+    render = ViewPageTemplateFile('portlet_calendar.pt')
+
+
+class AddForm(AddForm):
+    schema = ICalendarPortlet
+    label = _(u"Add Calendar Portlet")
+    description = _(u"This portlet displays events in a calendar.")
+
+    def create(self, data):
+        return Assignment(state=data.get('state', None),
+                          search_base_uid=data.get('search_base_uid', None))
+
+
+class EditForm(EditForm):
+    schema = ICalendarPortlet
+    label = _(u"Edit Calendar Portlet")
+    description = _(u"This portlet displays events in a calendar.")
diff --git a/plone/app/event/bbb/portlets/portlet_events.pt b/plone/app/event/bbb/portlets/portlet_events.pt
new file mode 100644
index 0000000..110670e
--- /dev/null
+++ b/plone/app/event/bbb/portlets/portlet_events.pt
@@ -0,0 +1,68 @@
+<html xmlns="http://www.w3.org/1999/xhtml"
+      xmlns:tal="http://xml.zope.org/namespaces/tal"
+      xmlns:i18n="http://xml.zope.org/namespaces/i18n"
+      tal:omit-tag="">
+<dl class="portlet portletEvents"
+    i18n:domain="plone.app.event">
+
+    <dt class="portletHeader">
+        <span class="portletTopLeft"></span>
+        <a href=""
+           class="tile"
+           tal:define="next_link view/next_url"
+           tal:omit-tag="not:next_link"
+           tal:attributes="href next_link"
+           i18n:translate="box_events">
+            Upcoming Events
+        </a>
+        <span class="portletTopRight"></span>
+    </dt>
+
+    <tal:events repeat="item view/events">
+    <dd class="portletItem"
+        tal:define="oddrow repeat/item/odd"
+        tal:attributes="class python:oddrow and 'portletItem even' or 'portletItem odd'">
+        <a href="#" class="tile"
+            tal:attributes="href item/url;
+                            title item/description">
+            <span tal:replace="item/title">
+                Some Event
+            </span>
+        </a>
+        <span class="portletItemDetails">
+            <tal:date replace="structure python:view.formatted_date(item)" />
+            <span tal:define="tz item/timezone" tal:condition="tz">(<tal:tzname replace="tz">TZ</tal:tzname>)</span>
+            <span class="location"
+                tal:define="location python:view.get_location(item)"
+                tal:condition="location"> &mdash;
+                <tal:location content="structure location">Location</tal:location>
+            </span>
+        </span>
+    </dd>
+    </tal:events>
+
+    <dd class="portletFooter"
+        tal:define="prev_link view/prev_url"
+        tal:condition="prev_link">
+        <a href=""
+            tal:attributes="href prev_link"
+            class="tile">
+            <span i18n:translate="box_previous_events">
+                Previous events&hellip;
+            </span>
+        </a>
+    </dd>
+
+    <dd class="portletFooter">
+        <a href=""
+            class="tile"
+            tal:define="next_link view/next_url"
+            tal:attributes="href next_link"
+            i18n:translate="box_upcoming_events">
+            Upcoming events&hellip;
+        </a>
+        <span class="portletBottomLeft"></span>
+        <span class="portletBottomRight"></span>
+    </dd>
+</dl>
+</html>
diff --git a/plone/app/event/bbb/portlets/portlet_events.py b/plone/app/event/bbb/portlets/portlet_events.py
new file mode 100644
index 0000000..d5a67e5
--- /dev/null
+++ b/plone/app/event/bbb/portlets/portlet_events.py
@@ -0,0 +1,28 @@
+from Products.Five.browser.pagetemplatefile import ViewPageTemplateFile
+from plone.app.portlets import PloneMessageFactory as _
+from plone.app.portlets.browser.z3cformhelper import AddForm
+from plone.app.portlets.browser.z3cformhelper import EditForm
+from plone.app.event.portlets.portlet_events import Renderer as RendererBase
+from plone.app.event.portlets.portlet_events import Assignment
+from plone.app.event.portlets.portlet_events import IEventsPortlet
+
+
+class Renderer(RendererBase):
+    render = ViewPageTemplateFile('portlet_events.pt')
+
+
+class AddForm(AddForm):
+    schema = IEventsPortlet
+    label = _(u"Add Events Portlet")
+    description = _(u"This portlet lists upcoming Events.")
+
+    def create(self, data):
+        return Assignment(count=data.get('count', 5),
+                          state=data.get('state', None),
+                          search_base_uid=data.get('search_base_uid', 5))
+
+
+class EditForm(EditForm):
+    schema = IEventsPortlet
+    label = _(u"Edit Events Portlet")
+    description = _(u"This portlet lists upcoming Events.")
diff --git a/plone/app/event/bbb/profiles/default/controlpanel.xml b/plone/app/event/bbb/profiles/default/controlpanel.xml
new file mode 100644
index 0000000..92fc186
--- /dev/null
+++ b/plone/app/event/bbb/profiles/default/controlpanel.xml
@@ -0,0 +1,11 @@
+<?xml version="1.0"?>
+<object name="portal_controlpanel" meta_type="Plone Control Panel Tool"
+        i18n:domain="plone" xmlns:i18n="http://xml.zope.org/namespaces/i18n">
+  <configlet title="Date and Time" action_id="DateAndTime" appId="DateAndTime"
+             category="Plone" condition_expr=""
+             icon_expr="string:$portal_url/event_icon.png"
+             url_expr="string:${portal_url}/@@dateandtime-controlpanel" visible="True"
+             i18n:attributes="title">
+    <permission>Plone Site Setup: Site</permission>
+  </configlet>
+</object>
diff --git a/plone/app/event/bbb/profiles/default/metadata.xml b/plone/app/event/bbb/profiles/default/metadata.xml
new file mode 100644
index 0000000..cf4492a
--- /dev/null
+++ b/plone/app/event/bbb/profiles/default/metadata.xml
@@ -0,0 +1,4 @@
+<?xml version="1.0"?>
+<metadata>
+  <version>1</version>
+</metadata>
diff --git a/plone/app/event/bbb/profiles/default/plone.app.event.bbb.txt b/plone/app/event/bbb/profiles/default/plone.app.event.bbb.txt
new file mode 100644
index 0000000..e69de29
diff --git a/plone/app/event/bbb/profiles/default/registry.xml b/plone/app/event/bbb/profiles/default/registry.xml
new file mode 100644
index 0000000..f7c746b
--- /dev/null
+++ b/plone/app/event/bbb/profiles/default/registry.xml
@@ -0,0 +1,5 @@
+<?xml version="1.0"?>
+<registry>
+  <records interface="plone.app.event.bbb.interfaces.IDateAndTimeSchema"
+           prefix="plone" />
+</registry>
diff --git a/plone/app/event/bbb/setuphandlers.py b/plone/app/event/bbb/setuphandlers.py
new file mode 100644
index 0000000..9aa3603
--- /dev/null
+++ b/plone/app/event/bbb/setuphandlers.py
@@ -0,0 +1,40 @@
+from plone.registry.interfaces import IRegistry
+from zope.component import getUtility
+from zope.component.hooks import getSite
+from zope.i18n.locales import locales, LoadLocaleError
+
+
+def first_weekday_setup(context):
+    """Set the first day of the week based on the portal's locale.
+    """
+    reg = getUtility(IRegistry)
+    if "plone.first_weekday" in reg and reg["plone.first_weekday"] is not None:
+        # don't overwrite if it's already set
+        return
+
+    first = 6
+    try:
+        site = getSite()
+        # find the locale implied by the portal's language
+        language = site.Language()
+        parts = (language.split('-') + [None, None])[:3]
+        locale = locales.getLocale(*parts)
+        # look up first day of week
+        gregorian_calendar = locale.dates.calendars.get(u'gregorian', None)
+        if gregorian_calendar is not None:
+            day = gregorian_calendar.week.get('firstDay', 7)
+            first = 6 if day == 0 else day - 1
+    except LoadLocaleError:
+        # If we cannot get the locale, just Sunday as first weekday
+        pass
+
+    # save setting
+    reg['plone.first_weekday'] = first
+
+
+def setup_misc(context):
+    if context.readDataFile('plone.app.event.bbb.txt') is None:
+        return
+
+    portal = context.getSite()
+    first_weekday_setup(context)
diff --git a/plone/app/event/configure.zcml b/plone/app/event/configure.zcml
index 618fdbc..4220072 100644
--- a/plone/app/event/configure.zcml
+++ b/plone/app/event/configure.zcml
@@ -24,6 +24,7 @@
   <include package=".ical" />
   <include file="recurrence.zcml" />
   <include file="vocabularies.zcml" />
+  <include package=".bbb" zcml:condition="not-have plone-5" />
 
   <genericsetup:registerProfile
       name="default"
diff --git a/plone/app/event/dx/behaviors.py b/plone/app/event/dx/behaviors.py
index 34e3954..3449139 100644
--- a/plone/app/event/dx/behaviors.py
+++ b/plone/app/event/dx/behaviors.py
@@ -297,10 +297,10 @@ def _fix_dt(dt, tz):
 
         return dt.replace(microsecond=0)
 
-    tz_default = default_timezone()
+    tz_default = default_timezone(as_tzinfo=True)
 
-    tz_start = getattr(start, 'tzinfo', tz_default)
-    tz_end = getattr(end, 'tzinfo', tz_default)
+    tz_start = getattr(start, 'tzinfo', None) or tz_default
+    tz_end = getattr(end, 'tzinfo', None) or tz_default
     start = _fix_dt(start, tz_start)
     end = _fix_dt(end, tz_end)
 
@@ -346,7 +346,7 @@ def data_postprocessing_handler(event):
     # TODO: e.g. on open_end events, there is no IEventBasic.end data in the
     # data. In that case, we have to add it.
     start = data['IEventBasic.start']
-    end = data['IEventBasic.end']
+    end = data.get('IEventBasic.end') or start  # end can be missing
     whole_day = data['IEventBasic.whole_day']
     open_end = data['IEventBasic.open_end']
 
@@ -354,7 +354,8 @@ def data_postprocessing_handler(event):
         start, end, whole_day, open_end)
 
     data['IEventBasic.start'] = start
-    data['IEventBasic.end'] = end
+    if data.get('IEventBasic.end'):  # end can be missing
+        data['IEventBasic.end'] = end
     data['IEventBasic.whole_day'] = whole_day
     data['IEventBasic.open_end'] = open_end
 
diff --git a/plone/app/event/portlets/configure.zcml b/plone/app/event/portlets/configure.zcml
index fd4b61c..30c6979 100644
--- a/plone/app/event/portlets/configure.zcml
+++ b/plone/app/event/portlets/configure.zcml
@@ -1,6 +1,7 @@
 <configure xmlns="http://namespaces.zope.org/zope"
     xmlns:browser="http://namespaces.zope.org/browser"
     xmlns:plone="http://namespaces.plone.org/plone"
+    xmlns:zcml="http://namespaces.zope.org/zcml"
     i18n_domain="plone.app.event">
 
     <browser:resource
@@ -17,6 +18,7 @@
         renderer=".portlet_calendar.Renderer"
         addview=".portlet_calendar.AddForm"
         editview=".portlet_calendar.EditForm"
+        zcml:condition="have plone-5"
         />
 
     <plone:portlet
@@ -26,6 +28,7 @@
         renderer=".portlet_events.Renderer"
         addview=".portlet_events.AddForm"
         editview=".portlet_events.EditForm"
+        zcml:condition="have plone-5"
         />
 
 </configure>
diff --git a/plone/app/event/testing.py b/plone/app/event/testing.py
index 145e61a..9335381 100644
--- a/plone/app/event/testing.py
+++ b/plone/app/event/testing.py
@@ -72,6 +72,8 @@ def setUpZope(self, app, configurationContext):
 
     def setUpPloneSite(self, portal):
         self.applyProfile(portal, 'plone.app.event:default')
+        if not PLONE5:
+            self.applyProfile(portal, 'plone.app.event.bbb:default')
         set_timezone(tz='UTC')
 
     def tearDownZope(self, app):
@@ -108,7 +110,8 @@ def setUpZope(self, app, configurationContext):
 
     def setUpPloneSite(self, portal):
         self.applyProfile(portal, 'plone.app.contenttypes:default')
-
+        if not PLONE5:
+            self.applyProfile(portal, 'plone.app.event.bbb:default')
         self.applyProfile(portal, 'plone.app.event:testing')
         set_timezone(tz='UTC')
 
diff --git a/plone/app/event/tests/test_portlet_calendar.py b/plone/app/event/tests/test_portlet_calendar.py
index 19f6824..6684baa 100644
--- a/plone/app/event/tests/test_portlet_calendar.py
+++ b/plone/app/event/tests/test_portlet_calendar.py
@@ -1,5 +1,6 @@
 # -*- coding: utf-8 -*-
 from Products.CMFCore.utils import getToolByName
+from Products.CMFPlone.utils import getFSVersionTuple
 from Products.GenericSetup.utils import _getDottedName
 from calendar import monthrange
 from datetime import datetime
@@ -29,6 +30,11 @@
 
 TZNAME = 'Europe/Vienna'
 PTYPE = 'plone.app.event.dx.event'
+PLONE5 = getFSVersionTuple()[0] >= 5
+
+if not PLONE5:
+    from plone.app.event.bbb.portlets \
+        import portlet_calendar as bbb_portlet_calendar
 
 
 class PortletTest(unittest.TestCase):
@@ -91,7 +97,11 @@ def testRenderer(self):
             (context, self.request, view, manager, assignment),
             IPortletRenderer
         )
-        self.assertTrue(isinstance(renderer, portlet_calendar.Renderer))
+        if PLONE5:
+            self.assertTrue(isinstance(renderer, portlet_calendar.Renderer))
+        else:
+            self.assertTrue(isinstance(renderer,
+                                       bbb_portlet_calendar.Renderer))
 
 
 class RendererTest(unittest.TestCase):
diff --git a/plone/app/event/tests/test_portlet_events.py b/plone/app/event/tests/test_portlet_events.py
index 3b72a18..c9458dc 100644
--- a/plone/app/event/tests/test_portlet_events.py
+++ b/plone/app/event/tests/test_portlet_events.py
@@ -1,3 +1,4 @@
+from Products.CMFPlone.utils import getFSVersionTuple
 from Products.CMFCore.utils import getToolByName
 from Products.GenericSetup.utils import _getDottedName
 from datetime import datetime
@@ -27,9 +28,13 @@
 import pytz
 import unittest2 as unittest
 
-
 TZNAME = 'Australia/Brisbane'
 PTYPE = 'plone.app.event.dx.event'
+PLONE5 = getFSVersionTuple()[0] >= 5
+
+if not PLONE5:
+    from plone.app.event.bbb.portlets \
+        import portlet_events as bbb_portlet_events
 
 
 class PortletTest(unittest.TestCase):
@@ -84,7 +89,11 @@ def testInvokeEditView(self):
 
         mapping['foo'] = portlet_events.Assignment(count=5)
         editview = getMultiAdapter((mapping['foo'], self.request), name='edit')
-        self.assertTrue(isinstance(editview, portlet_events.EditForm))
+        if PLONE5:
+            self.assertTrue(isinstance(editview, portlet_events.EditForm))
+        else:
+            self.assertTrue(isinstance(editview, bbb_portlet_events.EditForm))
+
 
     def testRenderer(self):
         context = self.portal
@@ -98,7 +107,10 @@ def testRenderer(self):
             (context, self.request, view, manager, assignment),
             IPortletRenderer
         )
-        self.assertTrue(isinstance(renderer, portlet_events.Renderer))
+        if PLONE5:
+            self.assertTrue(isinstance(renderer, portlet_events.Renderer))
+        else:
+            self.assertTrue(isinstance(renderer, bbb_portlet_events.Renderer))
 
     def test_disable_dasboard_breaks_event_portlet(self):
         # Bug #8230: disabling the dashboard breaks the event portlet
diff --git a/setup.py b/setup.py
index 0c472f1..3a99790 100644
--- a/setup.py
+++ b/setup.py
@@ -4,7 +4,7 @@
 import os
 
 
-version = '2.0a4.dev0'
+version = '2.0a5.dev0'
 
 
 setup(
@@ -28,7 +28,7 @@
     author_email='plone-developers@lists.sourceforge.net',
     url='https://github.com/plone/plone.app.event',
     license='GPL',
-    packages=find_packages(exclude=['ez_setup']),
+    packages=find_packages(),
     namespace_packages=['plone', 'plone.app'],
     include_package_data=True,
     zip_safe=False,
@@ -49,11 +49,11 @@
         'plone.app.contentlisting',
         'plone.app.dexterity',
         'plone.app.layout',
-        'plone.app.portlets >= 3.0',
+        'plone.app.portlets >= 2.5.1',
         'plone.app.querystring',
         'plone.app.registry',
         'plone.app.textfield',
-        'plone.app.widgets [dexterity] >= 1.6.0dev',
+        'plone.app.widgets [dexterity] >= 1.7.0',
         'plone.app.vocabularies >= 2.1.15.dev0',
         'plone.app.z3cform',
         'plone.autoform>=1.4',
@@ -62,9 +62,7 @@
         'plone.dexterity',
         'plone.event>=1.0',
         'plone.folder',
-        'plone.formwidget.recurrence [z3cform] >= 1.2.3',
-        'plone.formwidget.recurrence',
-        'plone.formwidget.recurrence',
+        'plone.formwidget.recurrence [z3cform] >= 1.2.4',
         'plone.indexer',
         'plone.memoize',
         'plone.namedfile',
diff --git a/test-43.cfg b/test-43.cfg
new file mode 100644
index 0000000..a366f69
--- /dev/null
+++ b/test-43.cfg
@@ -0,0 +1,51 @@
+[buildout]
+extends =
+    buildout-43.cfg
+parts +=
+    test
+    coverage-test
+    coverage-report
+    robot
+versions = versions
+
+[environment]
+BUILDOUT_DIR = ${buildout:directory}
+zope_i18n_compile_mo_files = true
+
+[test]
+recipe = zc.recipe.testrunner
+defaults = ['--auto-color', '--auto-progress']
+eggs =
+    Products.DateRecurringIndex [test]
+    icalendar [test]
+    plone.app.event [test]
+    plone.event [test]
+    plone.formwidget.recurrence [test]
+environment = environment
+
+[coverage-test]
+recipe = zc.recipe.testrunner
+eggs = ${test:eggs}
+defaults = ['--coverage', '../../coverage', '-v', '--auto-progress']
+
+[coverage-report]
+recipe = zc.recipe.egg
+eggs = z3c.coverage
+scripts = coveragereport
+arguments = ('coverage', 'report')
+
+[robot]
+recipe = zc.recipe.egg
+eggs =
+    ${instance:eggs}
+    plone.app.robotframework [debug]
+
+[versions]
+plone.app.robotframework = 0.9.4
+robotframework = 2.8.4
+robotframework-selenium2library = 1.5.0
+robotsuite = 1.5.0
+selenium = 2.42.1
+robotframework-selenium2screenshots = 0.4.0
+sphinxcontrib-robotframework = 0.4.3
+robotframework-debuglibrary = 0.3
diff --git a/test.cfg b/test.cfg
index fea6f8d..65da253 100644
--- a/test.cfg
+++ b/test.cfg
@@ -8,6 +8,10 @@ parts +=
     robot
 versions = versions
 
+[environment]
+BUILDOUT_DIR = ${buildout:directory}
+zope_i18n_compile_mo_files = true
+
 [test]
 recipe = zc.recipe.testrunner
 defaults = ['--auto-color', '--auto-progress']
@@ -16,7 +20,8 @@ eggs =
     icalendar [test]
     plone.app.event [test]
     plone.event [test]
-    plone.formwidget.recurrence [archetypes,z3cform,test]
+    plone.formwidget.recurrence [test]
+environment = environment
 
 [coverage-test]
 recipe = zc.recipe.testrunner
@@ -44,8 +49,3 @@ selenium = 2.42.1
 robotframework-selenium2screenshots = 0.4.0
 sphinxcontrib-robotframework = 0.4.3
 robotframework-debuglibrary = 0.3
-
-[omelette]
-eggs +=
-    ${test:eggs}
-    ${robot:eggs}
diff --git a/versions.cfg b/versions.cfg
index 90ebb18..f2e9534 100644
--- a/versions.cfg
+++ b/versions.cfg
@@ -6,7 +6,19 @@ versions = versions
 
 [versions]
 Products.DateRecurringIndex = 2.1
-icalendar = 3.7
-plone.app.event = 2.0a3
+icalendar = 3.8.2
+plone.app.event = 2.0a4
 plone.event = 1.1
-plone.formwidget.recurrence = 1.2.3
+plone.formwidget.recurrence = 1.2.5
+
+z3c.form = 3.2.1
+plone.app.vocabularies = 2.1.15
+plone.app.portlets = 2.5.1
+plone.app.jquery = 1.8.3
+plone.app.widgets = 1.7.0
+
+plone.app.contenttypes = 1.2a3
+plone.app.dexterity = 2.1.1
+plone.app.relationfield = 1.2.2
+plone.app.z3cform = 1.0
+plone.dexterity = 2.2.3


Repository: plone.app.event
Branch: refs/heads/master
Date: 2014-09-18T12:08:55+09:00
Author: Manabu TERADA (terapyon) <terada@cmscom.jp>
Commit: https://github.com/plone/plone.app.event/commit/1e70f2ca0c8523e94ced00d8a3ca7b29f58624d2

bug fix for syntax error in Japanese po file.

Files changed:
M plone/app/event/locales/ja/LC_MESSAGES/plone.app.event.po

diff --git a/plone/app/event/locales/ja/LC_MESSAGES/plone.app.event.po b/plone/app/event/locales/ja/LC_MESSAGES/plone.app.event.po
index 0b4c3d2..4d057c1 100644
--- a/plone/app/event/locales/ja/LC_MESSAGES/plone.app.event.po
+++ b/plone/app/event/locales/ja/LC_MESSAGES/plone.app.event.po
@@ -3,7 +3,7 @@ msgid ""
 msgstr ""
 "Project-Id-Version: PACKAGE VERSION\n"
 "POT-Creation-Date: 2014-04-11 09:40+0000\n"
-""PO-Revision-Date: 2014-07-02 21:56+0900\n"
+"PO-Revision-Date: 2014-07-02 21:56+0900\n"
 "Last-Translator: Takanori Suzuki <takanori@takanory.net>\n"
 "Language-Team: Plone Japanese Team <https://github.com/plonejp>\n"
 "MIME-Version: 1.0\n"


Repository: plone.app.event
Branch: refs/heads/master
Date: 2015-03-28T16:24:27+09:00
Author: Manabu TERADA (terapyon) <terada@cmscom.jp>
Commit: https://github.com/plone/plone.app.event/commit/4485a98f90a00bb3749f3635c11822fa5c8fd489

Merge branch 'plone_master'

Files changed:
A plone/app/event/bbb/portlets/portlet_calendar.js
A plone/app/event/bbb/profiles/default/jsregistry.xml
A plone/app/event/locales/ca/LC_MESSAGES/plone.app.event.po
A plone/app/event/locales/ca/LC_MESSAGES/plone.po
A plone/app/event/locales/cs/LC_MESSAGES/plone.app.event.po
A plone/app/event/locales/cs/LC_MESSAGES/plone.po
A plone/app/event/locales/es/LC_MESSAGES/plone.app.event.po
A plone/app/event/locales/es/LC_MESSAGES/plone.po
A plone/app/event/tests/INACTIVE_test_robot.py
A plone/app/event/upgrades/__init__.py
A plone/app/event/upgrades/configure.zcml
A plone/app/event/upgrades/upgrades.py
M CHANGES.rst
M docs/development.rst
M docs/installation.rst
M plone/app/event/base.py
M plone/app/event/bbb/configure.zcml
M plone/app/event/bbb/portlets/configure.zcml
M plone/app/event/bbb/portlets/portlet_calendar.pt
M plone/app/event/bbb/portlets/portlet_events.pt
M plone/app/event/bbb/profiles/default/metadata.xml
M plone/app/event/browser/configure.zcml
M plone/app/event/browser/event_listing.pt
M plone/app/event/browser/event_listing.py
M plone/app/event/browser/event_summary.pt
M plone/app/event/browser/event_summary.py
M plone/app/event/browser/event_view.pt
M plone/app/event/browser/event_view.py
M plone/app/event/browser/resources/event.js
M plone/app/event/configure.zcml
M plone/app/event/dx/behaviors.py
M plone/app/event/dx/configure.zcml
M plone/app/event/dx/traverser.py
M plone/app/event/ical/configure.zcml
M plone/app/event/ical/exporter.py
M plone/app/event/ical/importer.py
M plone/app/event/locales/de/LC_MESSAGES/plone.app.event.po
M plone/app/event/portlets/configure.zcml
M plone/app/event/portlets/portlet_calendar.pt
M plone/app/event/portlets/portlet_calendar.py
M plone/app/event/portlets/portlet_events.pt
M plone/app/event/portlets/portlet_events.py
M plone/app/event/profiles/default/actions.xml
M plone/app/event/profiles/default/jsregistry.xml
M plone/app/event/profiles/default/metadata.xml
M plone/app/event/profiles/default/types.xml
M plone/app/event/recurrence.py
M plone/app/event/setuphandlers.py
M plone/app/event/testing.py
M plone/app/event/tests/base_setup.py
M plone/app/event/tests/robot/test_event_roundtrip.robot
M plone/app/event/tests/test_base_module.py
M plone/app/event/tests/test_dx_behaviors.py
M plone/app/event/tests/test_event_listing.py
M plone/app/event/tests/test_event_summary.py
M plone/app/event/tests/test_event_view.py
M plone/app/event/tests/test_icalendar.py
M plone/app/event/tests/test_portlet_calendar.py
M plone/app/event/vocabularies.py
M setup.py
M sources.cfg
M test-43.cfg
M test.cfg
M versions.cfg
D plone/app/event/dx/upgrades/__init__.py
D plone/app/event/dx/upgrades/configure.zcml
D plone/app/event/dx/upgrades/upgrades.py
D plone/app/event/portlets/portlet_calendar.js
D plone/app/event/profiles/default/types/Topic.xml
D plone/app/event/tests/test_robot.py
D plone/app/event/vocabularies.zcml

diff --git a/CHANGES.rst b/CHANGES.rst
index f376b3f..da027bf 100644
--- a/CHANGES.rst
+++ b/CHANGES.rst
@@ -1,12 +1,109 @@
 Changelog
 =========
 
-2.0a5 (unreleased)
+2.0a9 (unreleased)
 ------------------
 
 - Nothing changed yet.
 
 
+2.0a8 (2015-03-26)
+------------------
+
+- Remove ``get_location`` view helper method. This was used to allow external
+  addons (specifically ``collective.venue``) to override it and return a html
+  link to a location object instead. Instead of this hack, which also only
+  works for the location use case, override the necessary templates in your
+  addons. In case of doubt, simplicity outweight extensibility options.
+  [thet]
+
+- Change ``adapts`` and ``implements`` to their decorator equivalents
+  ``adapter`` and ``implementer``.
+  [thet]
+
+- Change ``event_listing`` to search only in current context and below, not the
+  whole portal by default. Remove the setting ``current_folder_only``, which
+  was annotated to the context. Since the collection support is much better now,
+  use them for custom searches.
+  [thet]
+
+- Fix a bug in displaying the ``event_listing`` on Collections. Show the date
+  filter on Collections, if no start/end critierias are given in the
+  Collection's query.
+  [thet]
+
+- Add a CSS class for the timezone in the events portlet and the
+  ``event_summary`` view.
+  [mitakas]
+
+- In the ``event_summary`` view, change the ``event-timezone`` list-item class
+  to ``event-date``.
+  [thet]
+
+
+2.0a7 (2015-03-13)
+------------------
+
+- In the event_view, use the ``#parent-fieldname-text`` wrapper for text
+  output, because of consistency.
+  [thet]
+
+
+2.0a6 (2015-03-04)
+------------------
+
+- Some Plone 5 related js improvements
+  [vangheem]
+
+- Use Plone 5 imports from plone.app.z3cform and make plone.app.widgets a soft
+  dependency.
+  [vangheem]
+
+- Remove support for ``plone.app.collection`` and ``ATTopic`` - plone.app.event
+  2.x is Dexterity only.
+  [thet]
+
+- Fix ``construct_calendar`` in plone.app.event.base to also return events for
+  the first day in the calendar month.
+  [thet]
+
+- Remove ``data_postprocessing`` logic, which was handling ``open_end`` and
+  ``whole_day`` events and was manipulating the object on form submission.
+  Instead, just adapt start/end dates on indexing and when accessing them via
+  ``IEventAccessor``.
+  [thet]
+
+- Remove the ``plone.app.event.EventTypes`` vocabulary, which relied on
+  temporaily creating types. It's used for importing ical files. It should be
+  possible to figure out, which types might suitable for creating events from
+  ical VEVENT entries.
+  [thet]
+
+- No need to return DateTime objects for the indexer.
+  Products.DateRecurringIndex works with Python datetime objects.
+  [thet]
+
+- Whole day setting doesn't hide effective range anymore. Fixes issue #167.
+  [thet]
+
+
+2.0a5 (2014-10-23)
+------------------
+
+- Fix German translation for Monat.
+  [thet]
+
+- Integration of the new markup update and CSS for both Plone and Barceloneta
+  theme. This is the work done in the GSOC Barceloneta theme project.
+  [albertcasado, sneridagh]
+
+- Update markup for portlets and change dt dl for ul li tags.
+  [albertcasado]
+
+- Added locales for Catalan and Spanish
+  [sneridagh]
+
+
 2.0a4 (2014-07-22)
 ------------------
 
diff --git a/docs/development.rst b/docs/development.rst
index e3607d1..03d1f94 100644
--- a/docs/development.rst
+++ b/docs/development.rst
@@ -136,35 +136,11 @@ tzinfo object directly on the datetime object like `datetime(2010, 10, 10, 12,
 your timezone!
 
 
-2) If you set `whole_day` or `open_end`, wether set the start and end times
-accordingly or use the provided `data_postprocessing` or
-`data_postprocessing_context` conveininence functions.
-
-Setting a `whole_day` event::
-
-    event.start = tz.localize(datetime(2010, 10, 10, 0, 0, 0))
-    event.end = tz.localize(datetime(2010, 10, 10, 23, 59, 59))
-    event.whole_day = True
-
-Setting a `open_end` event::
-
-    event.start = tz.localize(datetime(2010, 10, 10, 12, 12))
-    event.end = tz.localize(datetime(2010, 10, 10, 23, 59, 59))
-    event.open_day = True
-
-Using `data_postprocessing`::
-
-    event.start, event.end, event.whole_day, event.open_end =\
-        data_postprocessing(
-            event.start, event.end, event.whole_day, event.open_end)
-
-Using `data_postprocessing_context`::
-
-    data_postprocessing_context(context)
-
-
-If you set the values through a z3c.form, an event handler listening to
-`z3c.form.events.DataExtractedEvent` will take care of this.
+2) Since plone.app.event 2.0b1, there is no need to call the
+``data_postprocessing`` function to manipulate the object accordingly to the
+value of the ``whole_day`` or ``end_date`` attributes. The start and end dates
+are only converted to the beginning respectively to the end of the day for
+indexing and when accessing the dates via the IEventAccessor.
 
 
 Accessing event objects via an unified accessor object
diff --git a/docs/installation.rst b/docs/installation.rst
index ffcdfbe..1b807ac 100644
--- a/docs/installation.rst
+++ b/docs/installation.rst
@@ -14,9 +14,9 @@ plone.app.event    Plone     plone.app.widgets  plone.app.contenttypes  Archetyp
 ---------------  ----------  -----------------  ----------------------  ----------
 version  branch
 =======  ======  ==========  =================  ======================  ==========
-1.1.x    1.1.x   Plone 4.3+         No                  1.1.x               Yes
-1.2.x    1.2.x   Plone 4.3+       >= 1.5               < 1.2a3              Yes
-2.x      master  Plone 4.3+       >= 1.7              >= 1.2a3               No
+1.1.x    1.1.x   Plone 4.3+         No                   1.1.x              Yes
+1.2.x    1.2.x   Plone 4.3+      >= 1.4.0              < 1.2a3              Yes
+2.x      master  Plone 4.3+      >= 1.7.0             >= 1.2a3              No
 =======  ======  ==========  =================  ======================  ==========
 
 
diff --git a/plone/app/event/base.py b/plone/app/event/base.py
index 015a39d..8d885ee 100644
--- a/plone/app/event/base.py
+++ b/plone/app/event/base.py
@@ -114,6 +114,8 @@ def get_events(context, start=None, end=None, limit=None,
     query = {}
     query['object_provides'] = IEvent.__identifier__
 
+    query.update(start_end_query(start, end))
+
     if 'path' not in kw:
         # limit to the current navigation root, usually (not always) site
         portal = getSite()
@@ -122,15 +124,6 @@ def get_events(context, start=None, end=None, limit=None,
     else:
         query['path'] = kw['path']
 
-    if start:
-        # All events from start date ongoing:
-        # The minimum end date of events is the date from which we search.
-        query['end'] = {'query': start, 'range': 'min'}
-    if end:
-        # All events until end date:
-        # The maximum start date must be the date until we search.
-        query['start'] = {'query': end, 'range': 'max'}
-
     # Sorting
     # In expand mode we sort after calculation of recurrences again. But we
     # need to leave this sorting here in place, since no sort definition could
@@ -279,7 +272,7 @@ def expand_events(events, ret_mode,
 
     exp_result = []
     for it in events:
-        obj = hasattr(it, 'getObject') and it.getObject() or it
+        obj = it.getObject() if getattr(it, 'getObject', False) else it
         if IEventRecurrence.providedBy(obj):
             occurrences = [_obj_or_acc(occ, ret_mode) for occ in
                            IRecurrenceSupport(obj).occurrences(start, end)]
@@ -372,8 +365,8 @@ def _add_to_cal(cal_data, event, date):
             # avoid long loops
             if start and end_date < start:
                 break  # if the date is completly outside the range
-            if start and next_start_date <= start:
-                continue  # if start is outside but end reaches into range
+            if start and next_start_date < start:
+                continue  # if start_date is outside but end reaches into range
             if end and next_start_date > end:
                 break  # if date is outside range
 
@@ -408,6 +401,21 @@ def _prepare_range(context, start, end):
     return start, end
 
 
+def start_end_query(start, end):
+    """Make a catalog query out of start and end dates.
+    """
+    query = {}
+    if start:
+        # All events from start date ongoing:
+        # The minimum end date of events is the date from which we search.
+        query['end'] = {'query': start, 'range': 'min'}
+    if end:
+        # All events until end date:
+        # The maximum start date must be the date until we search.
+        query['start'] = {'query': end, 'range': 'max'}
+    return query
+
+
 # TIMEZONE HANDLING
 
 def default_timezone(context=None, as_tzinfo=False):
@@ -436,7 +444,7 @@ def default_timezone(context=None, as_tzinfo=False):
             return info if as_tzinfo else info.zone
 
     reg_key = 'plone.portal_timezone'
-    registry = getUtility(IRegistry, context=context)
+    registry = getUtility(IRegistry)
     portal_timezone = registry.get(reg_key, None)
 
     # fallback to what plone.event is doing
@@ -662,8 +670,9 @@ def start_end_from_mode(mode, dt=None, context=None):
                     'day': Return all events on the given day (dt parameter
                            required)
                     'week': Show a weeks events, optionally from a given date.
-                    'month': Show this month's events.
                  These settings override the start and end parameters.
+                    Not implemented yet:
+                    'month': Show this month's events.
     :type mode: string
 
     :param dt: Optional datetime for day mode.
@@ -923,7 +932,7 @@ def __setattr__(self, name, value):
             self._data[name] = value
 
     def __getattr__(self, name):
-        return self._data and self._data.get(name, None) or None
+        return self._data.get(name, None) if self._data else None
 
 
 def find_context(context, viewname=None, iface=None,
diff --git a/plone/app/event/bbb/configure.zcml b/plone/app/event/bbb/configure.zcml
index 11b91c6..05e91e7 100644
--- a/plone/app/event/bbb/configure.zcml
+++ b/plone/app/event/bbb/configure.zcml
@@ -3,6 +3,8 @@
     xmlns:genericsetup="http://namespaces.zope.org/genericsetup"
     i18n_domain="plone.app.event">
 
+  <include package="plone.app.widgets" />
+
   <include package=".browser" />
   <include package=".portlets" />
 
diff --git a/plone/app/event/bbb/portlets/configure.zcml b/plone/app/event/bbb/portlets/configure.zcml
index 851bf74..d46fdcf 100644
--- a/plone/app/event/bbb/portlets/configure.zcml
+++ b/plone/app/event/bbb/portlets/configure.zcml
@@ -1,7 +1,14 @@
 <configure xmlns="http://namespaces.zope.org/zope"
+           xmlns:browser="http://namespaces.zope.org/browser"
            xmlns:plone="http://namespaces.plone.org/plone"
            i18n_domain="plone.app.event">
 
+  <browser:resource
+      name="plone.app.event.portlet_calendar.js"
+      file="portlet_calendar.js"
+      permission="zope.Public"
+      />
+
   <plone:portlet
       name="portlets.Calendar"
       interface="..portlets.portlet_calendar.ICalendarPortlet"
diff --git a/plone/app/event/bbb/portlets/portlet_calendar.js b/plone/app/event/bbb/portlets/portlet_calendar.js
new file mode 100644
index 0000000..d50b880
--- /dev/null
+++ b/plone/app/event/bbb/portlets/portlet_calendar.js
@@ -0,0 +1,45 @@
+/*jslint browser: true*/
+/*global $, jQuery, plone, portal_url */
+
+(function ($) {
+
+    function load_portlet_calendar(event, elem) {
+        // depends on plone_javascript_variables.js for portal_url
+        event.preventDefault();
+        var pw, elem_data, portlethash, url;
+        pw = elem.closest('.portletWrapper');
+        elem_data = elem.data();
+        portlethash = pw.attr('id');
+        portlethash = portlethash.substring(15, portlethash.length);
+        url = portal_url +
+              '/@@render-portlet?portlethash=' + portlethash +
+              '&year=' + elem_data.year +
+              '&month=' + elem_data.month;
+        $.ajax({
+            url: url,
+            success: function (data) {
+                pw.html(data);
+                rebind_portlet_calendar();
+            }
+        });
+    }
+
+    function rebind_portlet_calendar() {
+        // ajaxify each portletCalendar
+        $('.portletCalendar a.calendarNext').click(function (event) {
+            load_portlet_calendar(event, $(this));
+        });
+        $('.portletCalendar a.calendarPrevious').click(function (event) {
+            load_portlet_calendar(event, $(this));
+        });
+        $('.portletCalendar dd a[title]').tooltip({
+            offset: [-10, 0],
+            tipClass: 'pae_calendar_tooltip'
+        });
+    }
+
+    $(document).ready(function () {
+        rebind_portlet_calendar();
+    });
+
+}(jQuery));
diff --git a/plone/app/event/bbb/portlets/portlet_calendar.pt b/plone/app/event/bbb/portlets/portlet_calendar.pt
index 80897b6..f67d98b 100644
--- a/plone/app/event/bbb/portlets/portlet_calendar.pt
+++ b/plone/app/event/bbb/portlets/portlet_calendar.pt
@@ -61,10 +61,10 @@
                               events day/events;
                               limit python:len(events) if events is not None else 0"
                   tal:attributes="class python:u'event%s%s%s%s' %
-                              ((today and ' today' or ''),
-                              (next_month and ' cal_next_month' or ''),
-                              (prev_month and ' cal_prev_month' or ''),
-                              (events and ' cal_has_events' or ''))">
+                              ((' today' if today else ''),
+                              (' cal_next_month' if next_month else ''),
+                              (' cal_prev_month' if prev_month else ''),
+                              (' cal_has_events' if events else ''))">
                     <a href=""
                       tal:omit-tag="not:events"
                       tal:attributes="href python:view.date_events_url(day['date_string']);
diff --git a/plone/app/event/bbb/portlets/portlet_events.pt b/plone/app/event/bbb/portlets/portlet_events.pt
index 110670e..52f36eb 100644
--- a/plone/app/event/bbb/portlets/portlet_events.pt
+++ b/plone/app/event/bbb/portlets/portlet_events.pt
@@ -21,7 +21,7 @@
     <tal:events repeat="item view/events">
     <dd class="portletItem"
         tal:define="oddrow repeat/item/odd"
-        tal:attributes="class python:oddrow and 'portletItem even' or 'portletItem odd'">
+        tal:attributes="class python:'portletItem oddrow' if oddrow else 'portletItem even'">
         <a href="#" class="tile"
             tal:attributes="href item/url;
                             title item/description">
@@ -31,11 +31,14 @@
         </a>
         <span class="portletItemDetails">
             <tal:date replace="structure python:view.formatted_date(item)" />
-            <span tal:define="tz item/timezone" tal:condition="tz">(<tal:tzname replace="tz">TZ</tal:tzname>)</span>
+            <span class="timezone"
+                tal:define="tz item/timezone"
+                tal:condition="tz">
+                (<tal:tzname replace="tz">TZ</tal:tzname>)
+            </span>
             <span class="location"
-                tal:define="location python:view.get_location(item)"
-                tal:condition="location"> &mdash;
-                <tal:location content="structure location">Location</tal:location>
+                tal:condition="item/location"> &mdash;
+                <tal:location content="structure item/location">Location</tal:location>
             </span>
         </span>
     </dd>
diff --git a/plone/app/event/bbb/profiles/default/jsregistry.xml b/plone/app/event/bbb/profiles/default/jsregistry.xml
new file mode 100644
index 0000000..a89a810
--- /dev/null
+++ b/plone/app/event/bbb/profiles/default/jsregistry.xml
@@ -0,0 +1,13 @@
+<?xml version="1.0"?>
+<object name="portal_javascripts" meta_type="JavaScripts Registry">
+
+  <javascript
+      cacheable="True"
+      compression="safe"
+      cookable="True"
+      enabled="True"
+      id="++resource++plone.app.event.portlet_calendar.js"
+      inline="False"
+      />
+
+</object>
diff --git a/plone/app/event/bbb/profiles/default/metadata.xml b/plone/app/event/bbb/profiles/default/metadata.xml
index cf4492a..3cbcf5b 100644
--- a/plone/app/event/bbb/profiles/default/metadata.xml
+++ b/plone/app/event/bbb/profiles/default/metadata.xml
@@ -1,4 +1,7 @@
 <?xml version="1.0"?>
 <metadata>
   <version>1</version>
+  <dependencies>
+    <dependency>profile-plone.app.event:default</dependency>
+  </dependencies>
 </metadata>
diff --git a/plone/app/event/browser/configure.zcml b/plone/app/event/browser/configure.zcml
index 46a1784..2c5c72d 100644
--- a/plone/app/event/browser/configure.zcml
+++ b/plone/app/event/browser/configure.zcml
@@ -34,15 +34,6 @@
         permission="zope2.View"
         layer="..interfaces.IBrowserLayer"
         />
-    <adapter factory=".event_listing.EventListingSettings"/>
-    <browser:page
-        name="event_listing_settings"
-        for="*"
-        permission="zope2.View"
-        class=".event_listing.EventListingSettingsFormView"
-        layer="..interfaces.IBrowserLayer"
-        />
-
 
     <!-- Event view -->
     <browser:page
diff --git a/plone/app/event/browser/event_listing.pt b/plone/app/event/browser/event_listing.pt
index f8125a3..9fb195c 100644
--- a/plone/app/event/browser/event_listing.pt
+++ b/plone/app/event/browser/event_listing.pt
@@ -20,22 +20,22 @@
 
   <div class="event_listing">
     <header>
-      <nav tal:define="show_filter python:not (view.is_collection or view.is_topic)">
+      <nav tal:define="show_filter view/show_filter">
         <ul class="mode_selector">
           <tal:cond condition="show_filter">
-          <li class="" tal:attributes="class python:mode=='future' and 'selected' or ''">
+          <li class="" tal:attributes="class python:'selected' if mode=='future' else ''">
             <a class="mode_future"   href="" tal:attributes="href view/mode_future_url"   i18n:translate="mode_future_link">Upcoming</a>
           </li>
-          <li class="" tal:attributes="class python:mode=='past' and 'selected' or ''">
+          <li class="" tal:attributes="class python:'selected' if mode=='past' else ''">
             <a class="mode_past"   href="" tal:attributes="href view/mode_past_url"   i18n:translate="mode_past_link">Past</a>
           </li>
-          <li class="" tal:attributes="class python:mode=='month' and 'selected' or ''">
+          <li class="" tal:attributes="class python:'selected' if mode=='month' else ''">
             <a class="mode_month" href="" tal:attributes="href view/mode_month_url" i18n:translate="mode_month_link">Month</a>
           </li>
-          <li class="" tal:attributes="class python:mode=='week' and 'selected' or ''">
+          <li class="" tal:attributes="class python:'selected' if mode=='week' else ''">
             <a class="mode_week"  href="" tal:attributes="href view/mode_week_url"  i18n:translate="mode_week_link">Week</a>
           </li>
-          <li class="" tal:attributes="class python:mode=='day' and 'selected' or ''">
+          <li class="" tal:attributes="class python:'selected' if mode=='day' else ''">
             <a class="mode_day"   href="" tal:attributes="href view/mode_day_url"   i18n:translate="mode_day_link">Day</a> <input id="event_listing_calendar" type="hidden" />
           </li>
           </tal:cond>
@@ -101,9 +101,8 @@
           <div class="documentByLine">
             <tal:date tal:replace="structure python:view.formatted_date(data)"/>
             <div itemprop="location" class="location"
-                tal:define="location python:view.get_location(data)"
-                tal:condition="location"
-                tal:content="structure location">location</div>
+                tal:condition="data/location"
+                tal:content="structure data/location">location</div>
           </div>
 
           <p itemprop="description" class="description" tal:condition="data/description" tal:content="data/description" />
diff --git a/plone/app/event/browser/event_listing.py b/plone/app/event/browser/event_listing.py
index 3fcfc92..97c1623 100644
--- a/plone/app/event/browser/event_listing.py
+++ b/plone/app/event/browser/event_listing.py
@@ -4,40 +4,28 @@
 from datetime import date
 from datetime import timedelta
 from plone.app.event import messageFactory as _
-from plone.app.event.base import AnnotationAdapter
 from plone.app.event.base import RET_MODE_ACCESSORS
 from plone.app.event.base import RET_MODE_OBJECTS
+from plone.app.event.base import _prepare_range
 from plone.app.event.base import date_speller
 from plone.app.event.base import expand_events
 from plone.app.event.base import get_events
 from plone.app.event.base import guess_date_from
 from plone.app.event.base import localized_now
 from plone.app.event.base import start_end_from_mode
-from plone.app.event.browser.event_view import get_location
+from plone.app.event.base import start_end_query
 from plone.app.event.ical.exporter import construct_icalendar
 from plone.app.layout.navigation.defaultpage import getDefaultPage
 from plone.app.querystring import queryparser
 from plone.memoize import view
 from plone.uuid.interfaces import IUUID
-from plone.z3cform.layout import wrap_form
-from z3c.form import button
-from z3c.form import field
-from z3c.form import form
-from zope import schema
-from zope.component import adapts
 from zope.component import getMultiAdapter
 from zope.contentprovider.interfaces import IContentProvider
-from zope.interface import Interface
-from zope.interface import implements
 
 try:
-    from plone.app.collection.interfaces import ICollection
+    from plone.app.contenttypes.interfaces import ICollection
 except ImportError:
     ICollection = None
-try:
-    from Products.ATContentTypes.interfaces import IATTopic
-except ImportError:
-    IATTopic = None
 
 
 class EventListing(BrowserView):
@@ -46,23 +34,21 @@ def __init__(self, context, request):
         super(EventListing, self).__init__(context, request)
 
         self.now = now = localized_now(context)
-        self.settings = IEventListingSettings(self.context)
 
         # Request parameter
         req = self.request.form
-        self.b_start = 'b_start' in req and int(req['b_start']) or 0
-        self.b_size = 'b_size' in req and int(req['b_size']) or 10
-        self.orphan = 'orphan' in req and int(req['orphan']) or 1
-        self.mode = 'mode' in req and req['mode'] or None
-        self._date = 'date' in req and req['date'] or None
-        self.tags = 'tags' in req and req['tags'] or None
-        self.searchable_text = 'SearchableText' in req and\
-            req['SearchableText'] or None
-        self.path = 'path' in req and req['path'] or None
-
-        day = 'day' in req and int(req['day']) or None
-        month = 'month' in req and int(req['month']) or None
-        year = 'year' in req and int(req['year']) or None
+        self.b_start = int(req['b_start']) if 'b_start' in req else 0
+        self.b_size  = int(req['b_size'])  if 'b_size'  in req else 10
+        self.orphan  = int(req['orphan'])  if 'orphan'  in req else 1
+        self.mode    = req['mode'] if 'mode' in req else None
+        self._date   = req['date'] if 'date' in req else None
+        self.tags    = req['tags'] if 'tags' in req else None
+        self.searchable_text = req['SearchableText'] if 'SearchableText' in req else None  # noqa
+        self.path    = req['path'] if 'path' in req else None
+
+        day   = int(req['day'])   if 'day'   in req else None
+        month = int(req['month']) if 'month' in req else None
+        year  = int(req['year'])  if 'year'  in req else None
 
         if not self._date and day or month or year:
             self._date = date(year or now.year,
@@ -70,10 +56,9 @@ def __init__(self, context, request):
                               day or now.day).isoformat()
 
         if self.mode is None:
-            self.mode = self._date and 'day' or 'future'
+            self.mode = 'day' if self._date else 'future'
 
-        self.uid = None  # Used to get all occurrences from a single event.
-                         # Overrides all other settings
+        self.uid = None  # Used to get all occurrences from a single event. Overrides all other settings  # noqa
 
     @property
     def default_context(self):
@@ -87,12 +72,19 @@ def default_context(self):
     @property
     def is_collection(self):
         ctx = self.default_context
-        return ICollection and ICollection.providedBy(ctx) or False
+        return ICollection.providedBy(ctx) if ICollection else False
 
     @property
-    def is_topic(self):
-        ctx = self.default_context
-        return IATTopic and IATTopic.providedBy(ctx) or False
+    def show_filter(self):
+        ret = True
+        if self.is_collection:
+            ctx = self.default_context
+            query = queryparser.parseFormquery(ctx, ctx.query)
+            if 'start' in query or 'end' in query:
+                # Don't show the date filter, if a date is given in the
+                # collection's query
+                ret = False
+        return ret
 
     @property
     def date(self):
@@ -119,7 +111,8 @@ def _get_events(self, ret_mode=RET_MODE_ACCESSORS, expand=True):
         else:
             if self.path:
                 kw['path'] = self.path
-            elif self.settings.current_folder_only:
+            else:
+                # Search current and subsequent folders
                 kw['path'] = '/'.join(context.getPhysicalPath())
 
             if self.tags:
@@ -128,8 +121,8 @@ def _get_events(self, ret_mode=RET_MODE_ACCESSORS, expand=True):
             if self.searchable_text:
                 kw['SearchableText'] = self.searchable_text
 
-        #kw['b_start'] = self.b_start
-        #kw['b_size']  = self.b_size
+        # kw['b_start'] = self.b_start
+        # kw['b_size']  = self.b_size
 
         start, end = self._start_end
 
@@ -143,23 +136,28 @@ def _get_events(self, ret_mode=RET_MODE_ACCESSORS, expand=True):
 
     def events(self, ret_mode=RET_MODE_ACCESSORS, expand=True, batch=True):
         res = []
-        is_col = self.is_collection
-        is_top = self.is_topic
-        if is_col or is_top:
+        if self.is_collection:
             ctx = self.default_context
-            if is_col:
-                res = ctx.results(batch=False, sort_on='start', brains=True)
-                query = queryparser.parseFormquery(ctx, ctx.getRawQuery())
-            else:
-                res = ctx.queryCatalog(batch=False, full_objects=False)
-                query = ctx.buildQuery()
+            query = queryparser.parseFormquery(ctx, ctx.query)
+            custom_query = {}
+            if 'start' not in query or 'end' not in query:
+                # ... else don't show the navigation bar
+                start, end = self._start_end
+                start, end = _prepare_range(ctx, start, end)
+                custom_query = start_end_query(start, end)
+            res = ctx.results(
+                batch=False, brains=True, custom_query=custom_query
+            )
             if expand:
                 # get start and end values from the query to ensure limited
                 # listing for occurrences
-                start, end = self._expand_events_start_end(query.get('start'),
-                                                           query.get('end'))
-                res = expand_events(res, ret_mode, sort='start', start=start,
-                                    end=end)
+                start, end = self._expand_events_start_end(
+                    query.get('start') or custom_query.get('start'),
+                    query.get('end') or custom_query.get('end')
+                )
+                res = expand_events(
+                    res, ret_mode, sort='start', start=start, end=end
+                )
         else:
             res = self._get_events(ret_mode, expand=expand)
         if batch:
@@ -188,18 +186,44 @@ def ical(self):
     def ical_url(self):
         date = self.date
         mode = self.mode
-        qstr = (date or mode) and '?%s%s%s' % (
-            mode and 'mode=%s' % mode,
-            mode and date and '&' or '',
-            date and 'date=%s' % date or ''
-        ) or ''
+
+        qstr = '&'.join([
+            it for it in ['mode=%s' % mode if mode else None,
+                          'date=%s' % date if date else None]
+            if it
+        ])
+        qstr = '?%s' % qstr if qstr else ''
         return '%s/@@event_listing_ical%s' % (
             self.context.absolute_url(),
             qstr
         )
 
-    def get_location(self, occ):
-        return get_location(occ)
+    # COLLECTION daterange start/end determination
+    def _expand_events_start_end(self, start, end):
+        # make sane start and end values for expand_events from
+        # Collection start/end criterions.
+        # if end/min is given, it overrides start/min settings to make sure,
+        # ongoing events are shown in the listing!
+        # XXX: This actually fits most needs, but not all. Maybe someone
+        # wants to come up with some edgecases!
+        se = dict(start=None, end=None)
+        if start:
+            q = start.get('query')
+            r = start.get('range')
+            if r == "min":
+                se["start"] = q
+            elif r == "max":
+                se["end"] = q
+            elif r in ("minmax", "min:max"):
+                list(q).sort()
+                se["start"] = q[0]
+                se["end"] = q[1]
+        if end:
+            q = end.get('query')
+            r = end.get('range')
+            if r == "min":
+                se["start"] = q
+        return se["start"], se["end"]
 
     def formatted_date(self, occ):
         provider = getMultiAdapter(
@@ -214,8 +238,8 @@ def date_speller(self, date):
     @property
     def header_string(self):
         start, end = self._start_end
-        start_dict = start and date_speller(self.context, start) or None
-        end_dict = end and date_speller(self.context, end) or None
+        start_dict = date_speller(self.context, start) if start else None
+        end_dict = date_speller(self.context, end) if end else None
 
         mode = self.mode
         main_msgid = None
@@ -305,15 +329,15 @@ def header_string(self):
             )
 
         trans = self.context.translate
-        return {'main': main_msgid and trans(main_msgid) or '',
-                'sub': sub_msgid and trans(sub_msgid) or ''}
+        return {'main': trans(main_msgid) if main_msgid else '',
+                'sub': trans(sub_msgid) if sub_msgid else ''}
 
     # MODE URLs
     def _date_nav_url(self, mode, datestr=''):
         return '%s?mode=%s%s' % (
             self.request.getURL(),
             mode,
-            datestr and '&date=%s' % datestr or ''
+            '&date=%s' % datestr if datestr else ''
         )
 
     @property
@@ -396,33 +420,6 @@ def prev_month_url(self):
         datestr = (now.replace(day=1) - timedelta(days=1)).date().isoformat()
         return self._date_nav_url('month', datestr)
 
-    # COLLECTION daterange start/end determination
-    def _expand_events_start_end(self, start, end):
-        # make sane start and end values for expand_events from
-        # Collection/Topic start/end criterions.
-        # if end/min is given, it overrides start/min settings to make sure,
-        # ongoing events are shown in the listing!
-        # XXX: This actually fits most needs, but not all. Maybe someone
-        # wants to come up with some edgecases!
-        se = dict(start=None, end=None)
-        if start:
-            q = start.get('query')
-            r = start.get('range')
-            if r == "min":
-                se["start"] = q
-            elif r == "max":
-                se["end"] = q
-            elif r in ("minmax", "min:max"):
-                list(q).sort()
-                se["start"] = q[0]
-                se["end"] = q[1]
-        if end:
-            q = end.get('query')
-            r = end.get('range')
-            if r == "min":
-                se["start"] = q
-        return se["start"], se["end"]
-
 
 class EventListingIcal(EventListing):
     def __call__(self, *args, **kwargs):
@@ -437,51 +434,3 @@ class EventEventListing(EventListing):
     def __init__(self, context, request):
         super(EventEventListing, self).__init__(context, request)
         self.uid = IUUID(self.context)
-
-
-class IEventListingSettings(Interface):
-
-    current_folder_only = schema.Bool(
-        title=_('label_current_folder', default=u'Current folder'),
-        description=_('help_current_folder',
-                      default=u'Search events in current folder only.'),
-        default=False
-    )
-
-
-class EventListingSettings(AnnotationAdapter):
-    """Annotation Adapter for IEventListingSettings
-    """
-    implements(IEventListingSettings)
-    adapts(Interface)
-    ANNOTATION_KEY = "plone.app.event-event_listing-settings"
-
-
-class EventListingSettingsForm(form.Form):
-    fields = field.Fields(IEventListingSettings)
-    ignoreContext = False
-
-    def getContent(self):
-        data = {}
-        settings = IEventListingSettings(self.context)
-        data['current_folder_only'] = settings.current_folder_only
-        return data
-
-    def form_next(self):
-        self.request.response.redirect(self.context.absolute_url())
-
-    @button.buttonAndHandler(u'Save')
-    def handleSave(self, action):
-        data, errors = self.extractData()
-        if errors:
-            return False
-        settings = IEventListingSettings(self.context)
-        settings.current_folder_only = data['current_folder_only']
-        self.form_next()
-
-    @button.buttonAndHandler(u'Cancel')
-    def handleCancel(self, action):
-        self.form_next()
-
-
-EventListingSettingsFormView = wrap_form(EventListingSettingsForm)
diff --git a/plone/app/event/browser/event_summary.pt b/plone/app/event/browser/event_summary.pt
index bb4d7af..a85a551 100644
--- a/plone/app/event/browser/event_summary.pt
+++ b/plone/app/event/browser/event_summary.pt
@@ -9,105 +9,126 @@
 
 <tal:def tal:define="data python:view.data; excludes view/excludes">
 
-  <dl class="event summary details" summary="Event details" i18n:attributes="summary summary_event_details">
+  <ul class="event summary details" summary="Event details" i18n:attributes="summary summary_event_details">
 
     <tal:cond condition="python:'title' not in excludes">
-      <dt i18n:translate="event_event">Event</dt>
-      <dd class="title"><a tal:attributes="href data/url" tal:content="data/title">title</a></dd>
+      <li class="event-title">
+        <strong i18n:translate="event_event">Event</strong>
+        <a tal:attributes="href data/url" tal:content="data/title">title</a>
+      </li>
     </tal:cond>
 
     <tal:cond condition="python:'subjects' not in excludes">
     <tal:cond condition="data/subjects">
-      <dt i18n:translate="event_what">What</dt>
-      <dd itemprop="eventType" class="category" tal:repeat="item data/subjects" tal:content="item" />
+      <li class="event-category">
+        <strong i18n:translate="event_what">What</strong>
+        <span itemprop="eventType" tal:repeat="item data/subjects" tal:content="item" />
+      </li>
     </tal:cond>
     </tal:cond>
 
     <tal:cond condition="python:'date' not in excludes">
-      <dt i18n:translate="event_when">When</dt>
-      <dd tal:define="start_tzname data/timezone;
+      <li class="event-date">
+        <strong i18n:translate="event_when">When</strong>
+        <span tal:define="start_tzname data/timezone;
                       start_utcdelta python:data.start.tzinfo.utcoffset(data.start);
                       start_utcoffset python:(start_utcdelta.days*86400+start_utcdelta.seconds)*100/60/60;">
-        <tal:date replace="structure python:view.formatted_date(context)" />
-        <span class="timezone" tal:condition="start_tzname">
-         (<tal:tzname replace="start_tzname">timezone name</tal:tzname> / UTC<tal:tzoffset replace="start_utcoffset" />)
+          <tal:date replace="structure python:view.formatted_date(context)" />
+          <span class="timezone"
+              tal:condition="start_tzname">
+            (<tal:tzname replace="start_tzname">timezone name</tal:tzname> / UTC<tal:tzoffset replace="start_utcoffset" />)
+          </span>
         </span>
-      </dd>
+      </li>
     </tal:cond>
 
     <tal:cond condition="python:'occurrences' not in excludes">
     <tal:cond tal:define="occs view/next_occurrences" condition="python:len(occs) > 1">
-      <dt i18n:translate="">
-        All dates
-      </dt>
-      <dd tal:repeat="occ occs">
-        <tal:def define="this_is_occ python: occ.absolute_url() == context.absolute_url()">
-        <a tal:attributes="href occ/absolute_url" tal:omit-tag="this_is_occ">
-          <strong tal:omit-tag="not: this_is_occ">
-            <tal:date replace="structure python:view.formatted_date(occ)"/>
-          </strong>
-        </a>
-        </tal:def>
-      </dd>
-      <dd tal:define="num view/num_more_occurrences" tal:condition="num">
-        <a tal:attributes="href string:${view/event_context/absolute_url}/@@event_listing">
-          There are <tal:num replace="num"/> more occurrences.
-        </a>
-      </dd>
+      <li class="event-dates">
+        <strong i18n:translate="">
+          All dates
+        </strong>
+        <span tal:repeat="occ occs">
+          <tal:def define="this_is_occ python: occ.absolute_url() == context.absolute_url()">
+          <a tal:attributes="href occ/absolute_url" tal:omit-tag="this_is_occ">
+            <strong tal:omit-tag="not: this_is_occ">
+              <tal:date replace="structure python:view.formatted_date(occ)"/>
+            </strong>
+          </a>
+          </tal:def>
+        </span>
+        <span tal:define="num view/num_more_occurrences" tal:condition="num">
+          <a tal:attributes="href string:${view/event_context/absolute_url}/@@event_listing">
+            There are <tal:num replace="num"/> more occurrences.
+          </a>
+        </span>
+      </li>
     </tal:cond>
     </tal:cond>
 
     <tal:cond condition="python:'location' not in excludes">
-    <tal:cond define="location view/get_location" condition="location">
-      <dt i18n:translate="event_where">Where</dt>
-      <dd itemprop="location" class="location" tal:content="structure location">Location</dd>
+    <tal:cond condition="data/location">
+      <li class="event-location">
+        <strong i18n:translate="event_where">Where</strong>
+        <span itemprop="location" tal:content="structure data/location">Location</span>
+      </li>
     </tal:cond>
     </tal:cond>
 
     <tal:cond condition="python:'contact' not in excludes">
     <tal:cond define="mail data/contact_email; name data/contact_name;" tal:condition="python:name or mail">
-      <dt i18n:translate="contact_name">Contact Name</dt>
-      <dd>
-        <a class="email fn" tal:condition="mail" tal:attributes="href string:mailto:${mail}" tal:content="name" />
-        <span class="fn" tal:condition="not:mail" tal:content="name" />
-      </dd>
+      <li class="event-contact">
+        <strong i18n:translate="contact_name">Contact Name</strong>
+        <tal:span>
+          <a class="email" tal:condition="mail" tal:attributes="href string:mailto:${mail}" tal:content="name" />
+          <span tal:condition="not:mail" tal:content="name" />
+        </tal:span>
+      </li>
     </tal:cond>
 
     <tal:cond condition="data/contact_phone">
-      <dt i18n:translate="contact_phone">Contact Phone</dt>
-      <dd class="tel" tal:content="data/contact_phone">Contact Phone</dd>
+      <li class="event-tel">
+        <strong i18n:translate="contact_phone">Contact Phone</strong>
+        <span tal:content="data/contact_phone">Contact Phone</span>
+      </li>
     </tal:cond>
 
     <tal:cond condition="data/attendees|nothing">
-      <dt i18n:translate="contact_attendees">Attendees</dt>
-      <dd itemprop="attendee" class="attendee" tal:repeat="item data/attendees" tal:content="item" />
+      <li class="event-attendee">
+        <strong i18n:translate="contact_attendees">Attendees</strong>
+        <span itemprop="attendee" tal:repeat="item data/attendees" tal:content="item" />
+      </li>
     </tal:cond>
     </tal:cond>
 
     <tal:cond condition="python:'event_url' not in excludes">
     <tal:cond condition="data/event_url">
-      <dt i18n:translate="event_url">Web</dt>
-      <dd class="url">
-        <a href="" tal:attributes="href data/event_url" i18n:translate="external_website">Visit external website</a>
-      </dd>
+      <li class="event-url">
+        <strong i18n:translate="event_url">Web</strong>
+        <tal:span>
+          <a href="" tal:attributes="href data/event_url" i18n:translate="external_website">Visit external website</a>
+        </tal:span>
+      </li>
     </tal:cond>
     </tal:cond>
 
     <tal:cond condition="python:'ical' not in excludes">
-      <dt i18n:translate="heading_add_to_calendar">Add event to calendar</dt>
-      <dd tal:define="here_url context/@@plone_context_state/object_url;
-                      portal_url context/@@plone_portal_state/portal_url;">
-        <a href="#"
-           tal:attributes="href string:$here_url/ics_view"
-           title="Download this event in iCal format"
-           i18n:attributes="title title_add_to_ical;">
-          <img src="" alt=""
-              tal:attributes="src string:${portal_url}/++resource++plone.app.event/icon_export_ical.png"/>
-          <span i18n:translate="label_add_to_ical">iCal</span></a>
-      </dd>
+      <li class="event-calendar">
+        <strong i18n:translate="heading_add_to_calendar">Add event to calendar</strong>
+        <tal:span tal:define="here_url context/@@plone_context_state/object_url;
+                        portal_url context/@@plone_portal_state/portal_url;">
+          <a href="#"
+             tal:attributes="href string:$here_url/ics_view"
+             title="Download this event in iCal format"
+             i18n:attributes="title title_add_to_ical;">
+            <img src="" alt=""
+                tal:attributes="src string:${portal_url}/++resource++plone.app.event/icon_export_ical.png"/>
+            <span i18n:translate="label_add_to_ical">iCal</span></a>
+        </tal:span>
+      </li>
     </tal:cond>
 
-  </dl>
+  </ul>
 
 </tal:def>
 
diff --git a/plone/app/event/browser/event_summary.py b/plone/app/event/browser/event_summary.py
index a5a4402..510fa6b 100644
--- a/plone/app/event/browser/event_summary.py
+++ b/plone/app/event/browser/event_summary.py
@@ -7,7 +7,6 @@
 from plone.uuid.interfaces import IUUID
 from zope.component import getMultiAdapter
 from zope.contentprovider.interfaces import IContentProvider
-from plone.app.event.browser.event_view import get_location
 
 
 class EventSummaryView(BrowserView):
@@ -20,10 +19,6 @@ def __init__(self, context, request):
         self.excludes = ['title', ]
 
     @property
-    def get_location(self):
-        return get_location(self.context)
-
-    @property
     def is_occurrence(self):
         return IOccurrence.providedBy(self.context)
 
diff --git a/plone/app/event/browser/event_view.pt b/plone/app/event/browser/event_view.pt
index e6b431e..d455694 100644
--- a/plone/app/event/browser/event_view.pt
+++ b/plone/app/event/browser/event_view.pt
@@ -16,14 +16,16 @@
     <ul class="hiddenStructure">
       <li><a itemprop="url" class="url" href="" tal:attributes="href data/url" tal:content="data/url">url</a></li>
       <li itemprop="summary" class="summary" tal:content="data/title">title</li>
-      <li itemprop="startDate" class="dtstart" tal:content="data/start/isoformat">end</li>
+      <li itemprop="startDate" class="dtstart" tal:content="data/start/isoformat">start</li>
       <li itemprop="endDate" class="dtend" tal:content="data/end/isoformat">end</li>
       <li itemprop="description" class="description" tal:content="data/description">description</li>
     </ul>
 
     <tal:eventsummary replace="structure context/@@event_summary"/>
 
-    <tal:txt replace="structure data/text" />
+    <div id="parent-fieldname-text" tal:condition="data/text">
+      <tal:text content="structure data/text" />
+    </div>
 
   </div>
 
diff --git a/plone/app/event/browser/event_view.py b/plone/app/event/browser/event_view.py
index 5401c0a..b34dfbd 100644
--- a/plone/app/event/browser/event_view.py
+++ b/plone/app/event/browser/event_view.py
@@ -3,23 +3,6 @@
 from plone.event.interfaces import IOccurrence
 
 
-def get_location(accessor):
-    """Return the location.
-    This method can be overwritten by external packages, for example to provide
-    a reference to a Location object as done by collective.venue.
-
-    :param accessor: Event, Occurrence or IEventAccessor object.
-    :type accessor: IEvent, IOccurrence or IEventAccessor
-
-    :returns: A location string. Possibly a HTML structure to link to another
-              object, representing the location.
-    :rtype: string
-    """
-    if not IEventAccessor.providedBy(accessor):
-        accessor = IEventAccessor(accessor)
-    return accessor.location
-
-
 class EventView(BrowserView):
 
     def __init__(self, context, request):
diff --git a/plone/app/event/browser/resources/event.js b/plone/app/event/browser/resources/event.js
index f9bb21c..9c0a40e 100644
--- a/plone/app/event/browser/resources/event.js
+++ b/plone/app/event/browser/resources/event.js
@@ -1,15 +1,21 @@
 /*jslint browser: true*/
-/*global $, jQuery, plone*/
+/*global $, jQuery, plone, require*/
 
-if (plone === undefined) {
-    // Make sure, plone global exists
-    var plone = {};
+
+if(require === undefined){
+  require = function(reqs, torun){
+    'use strict';
+    return torun(window.jQuery);
+  }
 }
 
-(function ($, plone) {
 
-    plone.paevent = plone.paevent || {};
-    plone.paevent.end_start_delta = 1 / 24;  // Delta in days
+require([
+    'jquery'
+], function($){
+    'use strict';
+
+    var end_start_delta = 1 / 24;  // Delta in days
 
     function a_or_b(a, b) {
         var ret;
@@ -47,7 +53,7 @@ if (plone === undefined) {
         start_datetime = getDateTime(a_or_b($('#formfield-form-widgets-IEventBasic-start'), $('#archetypes-fieldname-startDate')));
         end_datetime = getDateTime(a_or_b($('#formfield-form-widgets-IEventBasic-end'), $('#archetypes-fieldname-endDate')));
         // delta in days
-        plone.paevent.end_start_delta = (end_datetime - start_datetime) / 1000 / 60;
+        end_start_delta = (end_datetime - start_datetime) / 1000 / 60;
     }
 
     function updateEndDate() {
@@ -57,7 +63,7 @@ if (plone === undefined) {
 
         start_date = getDateTime(jq_start);
         new_end_date = new Date(start_date);
-        new_end_date.setMinutes(start_date.getMinutes() + plone.paevent.end_start_delta);
+        new_end_date.setMinutes(start_date.getMinutes() + end_start_delta);
 
         $('.pattern-pickadate-date', jq_end).pickadate('picker').set('select', new_end_date);
         $('.pattern-pickadate-time', jq_end).pickatime('picker').set('select', new_end_date);
@@ -129,17 +135,19 @@ if (plone === undefined) {
     }
 
 
-    $(document).ready(function () {
+    $(window).load(function () {
 
         // EDIT FORM
 
-        var jq_whole_day, jq_open_end, jq_end, jq_start;
+        var jq_whole_day, jq_time, jq_open_end, jq_end, jq_start;
 
         // WHOLE DAY INIT
         jq_whole_day = a_or_b($('#formfield-form-widgets-IEventBasic-whole_day input'), $('form[name="edit_form"] input#wholeDay'));
+        jq_time = a_or_b($('#formfield-form-widgets-IEventBasic-start .pattern-pickadate-time-wrapper, #formfield-form-widgets-IEventBasic-end .pattern-pickadate-time-wrapper'),
+                         $('#archetypes-fieldname-startDate .pattern-pickadate-time-wrapper, #archetypes-fieldname-endDate .pattern-pickadate-time-wrapper'));
         if (jq_whole_day.length > 0) {
-            jq_whole_day.bind('change', function (e) { show_hide_widget('.pattern-pickadate-time-wrapper', e.target.checked, true); });
-            show_hide_widget('.pattern-pickadate-time-wrapper', jq_whole_day.get(0).checked, false);
+            jq_whole_day.bind('change', function (e) { show_hide_widget(jq_time, e.target.checked, true); });
+            show_hide_widget(jq_time, jq_whole_day.get(0).checked, false);
         }
 
         // OPEN END INIT
@@ -165,4 +173,4 @@ if (plone === undefined) {
         event_listing_calendar_init($("#event_listing_calendar"));
 
     });
-}(jQuery, plone));
+});
diff --git a/plone/app/event/configure.zcml b/plone/app/event/configure.zcml
index 4220072..9dda541 100644
--- a/plone/app/event/configure.zcml
+++ b/plone/app/event/configure.zcml
@@ -14,7 +14,6 @@
   <include package="plone.formwidget.recurrence" />
   <include package="plone.app.portlets" />
   <include package="plone.app.registry" />
-  <include package="plone.app.widgets" />
 
   <!-- internal dependencies -->
   <include file="permissions.zcml" />
@@ -23,9 +22,14 @@
   <include package=".portlets" />
   <include package=".ical" />
   <include file="recurrence.zcml" />
-  <include file="vocabularies.zcml" />
+  <include package=".upgrades" />
   <include package=".bbb" zcml:condition="not-have plone-5" />
 
+  <utility
+      component=".vocabularies.SynchronizationStrategies"
+      name="plone.app.event.SynchronizationStrategies"
+      />
+
   <genericsetup:registerProfile
       name="default"
       directory="profiles/default"
@@ -46,10 +50,10 @@
 
   <genericsetup:importStep
       name="plone.app.event-catalog"
-      handler="plone.app.event.setuphandlers.setup_misc"
-      title="plone.app.event misc"
-      description="catalog and first_weekday setup">
-      <depends name="plone.app.registry" />
+      handler="plone.app.event.setuphandlers.setup_catalog"
+      title="plone.app.event catalog setup"
+      description="registers indices and metadata columns for plone.app.event">
+    <depends name="plone.app.registry" />
   </genericsetup:importStep>
 
   <utility
diff --git a/plone/app/event/dx/behaviors.py b/plone/app/event/dx/behaviors.py
index 3449139..f28e97d 100644
--- a/plone/app/event/dx/behaviors.py
+++ b/plone/app/event/dx/behaviors.py
@@ -15,7 +15,6 @@
 from plone.app.event.dx.interfaces import IDXEvent
 from plone.app.event.dx.interfaces import IDXEventRecurrence
 from plone.app.textfield.value import RichTextValue
-from plone.app.widgets.dx import DatetimeWidget
 from plone.app.z3cform.interfaces import IPloneFormLayer
 from plone.autoform import directives as form
 from plone.autoform.interfaces import IFormFieldProvider
@@ -31,11 +30,9 @@
 from z3c.form.widget import FieldWidget
 from zope import schema
 from zope.component import adapter
-from zope.component import adapts
 from zope.interface import Invalid
 from zope.interface import alsoProvides
 from zope.interface import implementer
-from zope.interface import implements
 from zope.interface import invariant
 from zope.interface import provider
 from zope.schema.interfaces import IContextAwareDefaultFactory
@@ -43,6 +40,15 @@
 # TODO: altern., for backwards compat., we could import from plone.z3cform
 from z3c.form.browser.textlines import TextLinesFieldWidget
 
+import pkg_resources
+
+try:
+    # Plone 5
+    pkg_resources.get_distribution('plone.app.z3cform')
+    from plone.app.z3cform.widget import DatetimeWidget
+except pkg_resources.DistributionNotFound:
+    from plone.app.widgets.dx import DatetimeWidget
+
 
 def first_weekday_sun0():
     return wkday_to_mon1(first_weekday())
@@ -285,89 +291,19 @@ class IEventContact(model.Schema):
 alsoProvides(IEventContact, IFormFieldProvider)
 
 
-def data_postprocessing(start, end, whole_day, open_end):
-    """Adjust start and end according to whole_day and open_end setting.
-    """
-
-    def _fix_dt(dt, tz):
-        """Fix datetime: Apply missing timezones, remove microseconds.
-        """
-        if dt.tzinfo is None:
-            dt = tz.localize(dt)
-
-        return dt.replace(microsecond=0)
-
-    tz_default = default_timezone(as_tzinfo=True)
-
-    tz_start = getattr(start, 'tzinfo', None) or tz_default
-    tz_end = getattr(end, 'tzinfo', None) or tz_default
-    start = _fix_dt(start, tz_start)
-    end = _fix_dt(end, tz_end)
-
-    # Adapt for whole day
-    if whole_day:
-        start = dt_start_of_day(start)
-    if open_end:
-        end = start  # Open end events end on same day
-    if open_end or whole_day:
-        end = dt_end_of_day(end)
-
-    # TODO:
-    """
-    if not obj.sync_uid:
-        # sync_uid has to be set for icalendar data exchange.
-        uid = IUUID(obj)
-        # We don't want to fail when getRequest() returns None, e.g when
-        # creating an event during test layer setup time.
-        request = getRequest() or {}
-        domain = request.get('HTTP_HOST')
-        obj.sync_uid = '%s%s' % (
-            uid,
-            domain and '@%s' % domain or ''
-        )
-    """
-
-    return start, end, whole_day, open_end
-
-
-def data_postprocessing_handler(event):
-    """Event handler called after extractData step of z3c.form to adjust form
-    data.
-    """
-    data = event.data
-
-    if not 'IEventBasic.start' in data:
-        # is not a IEventBasic form
-        return
-    if data.get('processed', False):
-        # data was already manipulated
-        return
-
-    # TODO: e.g. on open_end events, there is no IEventBasic.end data in the
-    # data. In that case, we have to add it.
-    start = data['IEventBasic.start']
-    end = data.get('IEventBasic.end') or start  # end can be missing
-    whole_day = data['IEventBasic.whole_day']
-    open_end = data['IEventBasic.open_end']
-
-    start, end, whole_day, open_end = data_postprocessing(
-        start, end, whole_day, open_end)
-
-    data['IEventBasic.start'] = start
-    if data.get('IEventBasic.end'):  # end can be missing
-        data['IEventBasic.end'] = end
-    data['IEventBasic.whole_day'] = whole_day
-    data['IEventBasic.open_end'] = open_end
-
-    data['processed'] = True
-
-
-def data_postprocessing_context(context):
-    """Convenience method to adjust data on the context.
-    """
-    context.start, context.end, context.whole_day, context.open_end =\
-        data_postprocessing(
-            context.start, context.end, context.whole_day, context.open_end)
+"""
+if not obj.sync_uid:
+    # sync_uid has to be set for icalendar data exchange.
+    uid = IUUID(obj)
+    # We don't want to fail when getRequest() returns None, e.g when
+    # creating an event during test layer setup time.
+    request = getRequest() or {}
+    domain = request.get('HTTP_HOST')
+    obj.sync_uid = '%s%s' % (
+        uid,
+        '@%s' % domain if domain else ''
+    )
+"""
 
 
 ## Attribute indexer
@@ -375,19 +311,13 @@ def data_postprocessing_context(context):
 # Start indexer
 @indexer(IDXEvent)
 def start_indexer(obj):
-    event = IEventBasic(obj)
-    if event.start is None:
-        return None
-    return DT(event.start)
+    return IEventAccessor(obj).start
 
 
 # End indexer
 @indexer(IDXEvent)
 def end_indexer(obj):
-    event = IEventBasic(obj)
-    if event.end is None:
-        return None
-    return DT(event.end)
+    return IEventAccessor(obj).end
 
 
 # Location indexer
@@ -431,12 +361,12 @@ def searchable_text_indexer(obj):
 
 # Object adapters
 
+@adapter(IDXEvent)
+@implementer(IEventAccessor)
 class EventAccessor(object):
     """Generic event accessor adapter implementation for Dexterity content
        objects.
     """
-    implements(IEventAccessor)
-    adapts(IDXEvent)
 
     def __init__(self, context):
         object.__setattr__(self, 'context', context)
@@ -502,16 +432,40 @@ def duration(self):
         return self.end - self.start
 
     @property
+    def start(self):
+        start = IEventBasic(self.context).start
+        if self.whole_day:
+            start = dt_start_of_day(start)
+        return start
+
+    @start.setter
+    def start(self, value):
+        return setattr(self, 'start', value)
+
+    @property
+    def end(self):
+        end = IEventBasic(self.context).end
+        if self.open_end:
+            end = IEventBasic(self.context).start
+        if self.open_end or self.whole_day:
+            end = dt_end_of_day(end)
+        return end
+
+    @end.setter
+    def end(self, value):
+        return setattr(self, 'end', value)
+
+    @property
     def timezone(self):
         """Returns the timezone name for the event. If the start timezone
         differs from the end timezone, it returns a tuple with
         (START_TIMEZONENAME, END_TIMEZONENAME).
         """
         tz_start = tz_end = None
-        tz = getattr(self.start, 'tzinfo', None)
+        tz = getattr(IEventBasic(self.context).start, 'tzinfo', None)
         if tz:
             tz_start = tz.zone
-        tz = getattr(self.end, 'tzinfo', None)
+        tz = getattr(IEventBasic(self.context).end, 'tzinfo', None)
         if tz:
             tz_end = tz.zone
         return tz_start if tz_start == tz_end else (tz_start, tz_end)
diff --git a/plone/app/event/dx/configure.zcml b/plone/app/event/dx/configure.zcml
index 539824d..3ff68a6 100644
--- a/plone/app/event/dx/configure.zcml
+++ b/plone/app/event/dx/configure.zcml
@@ -6,7 +6,6 @@
     <include package="plone.dexterity" />
     <include package="plone.app.dexterity" /><!-- To initialize DublinCore behaviors -->
     <include package="plone.behavior" file="meta.zcml" />
-    <include package=".upgrades" />
 
     <!-- http://groups.google.com/group/zope-core-dev/browse_thread/thread/6c10ebc16027017f -->
     <!-- ZCML of this package fails in Zope 2.13 for strange reason -->
@@ -31,9 +30,6 @@
     <adapter name="SearchableText" factory=".behaviors.searchable_text_indexer" />
     <adapter name="sync_uid" factory=".behaviors.sync_uid_indexer" />
 
-    <subscriber for="z3c.form.interfaces.IDataExtractedEvent"
-                handler=".behaviors.data_postprocessing_handler" />
-
     <plone:behavior
         title="Event Basic"
         description="Basic Event schema."
diff --git a/plone/app/event/dx/traverser.py b/plone/app/event/dx/traverser.py
index e6b402f..165f1fa 100644
--- a/plone/app/event/dx/traverser.py
+++ b/plone/app/event/dx/traverser.py
@@ -1,17 +1,17 @@
 from plone.app.event.recurrence import OccurrenceTraverser as DefaultTraverser
 from plone.app.event.dx.interfaces import IDXEventRecurrence
 from plone.dexterity.browser.traversal import DexterityPublishTraverse
-from zope.component import adapts
+from zope.component import adapter
 from zope.publisher.interfaces.browser import IBrowserRequest
 
 
+@adapter(IDXEventRecurrence, IBrowserRequest)
 class OccurrenceTraverser(DefaultTraverser):
     """Occurrence Traverser for Dexterity based contexts.
 
     Please note: here is not ImageTraverser support included, since accessing
     images is done by calling the @@images view.
     """
-    adapts(IDXEventRecurrence, IBrowserRequest)
 
     def fallbackTraverse(self, request, name):
         return DexterityPublishTraverse(
diff --git a/plone/app/event/dx/upgrades/__init__.py b/plone/app/event/dx/upgrades/__init__.py
deleted file mode 100644
index e69de29..0000000
diff --git a/plone/app/event/dx/upgrades/configure.zcml b/plone/app/event/dx/upgrades/configure.zcml
deleted file mode 100644
index 2e1d561..0000000
--- a/plone/app/event/dx/upgrades/configure.zcml
+++ /dev/null
@@ -1,24 +0,0 @@
-<configure
-    xmlns="http://namespaces.zope.org/zope"
-    xmlns:genericsetup="http://namespaces.zope.org/genericsetup">
-
-  <genericsetup:upgradeStep
-      source="12"
-      destination="13"
-      title="New IRichText behavior"
-      description="Enable the new IRichText instead of the IEventSummary behavior."
-      profile="plone.app.event:default"
-      handler=".upgrades.enable_richtext_behavior"
-      />
-
-  <genericsetup:upgradeStep
-      source="12"
-      destination="13"
-      title="Attribute storage"
-      description="Migrate fields from annotation storage to attribute storage."
-      profile="plone.app.event:default"
-      handler=".upgrades.upgrade_attribute_storage"
-      />
-
-</configure>
-
diff --git a/plone/app/event/dx/upgrades/upgrades.py b/plone/app/event/dx/upgrades/upgrades.py
deleted file mode 100644
index aa4e7c2..0000000
--- a/plone/app/event/dx/upgrades/upgrades.py
+++ /dev/null
@@ -1,78 +0,0 @@
-# -*- coding: utf-8 -*-
-from Products.CMFCore.utils import getToolByName
-from plone.app.event.dx.interfaces import IDXEvent
-from plone.app.event.dx.behaviors import IEventAttendees
-from plone.app.event.dx.behaviors import IEventContact
-from plone.app.event.dx.behaviors import IEventLocation
-from plone.dexterity.interfaces import IDexterityFTI
-from zope.annotation.interfaces import IAnnotatable
-from zope.annotation.interfaces import IAnnotations
-from zope.event import notify
-from zope.component import queryUtility
-from zope.component.hooks import getSite
-from zope.lifecycleevent import ObjectModifiedEvent
-
-import logging
-log = logging.getLogger(__name__)
-
-BEHAVIOR_LIST = [
-    IEventAttendees,
-    IEventContact,
-    IEventLocation,
-]
-
-
-def enable_richtext_behavior(self):
-    fti = queryUtility(IDexterityFTI, name="Event", default=None)
-    if not fti:
-        return
-    behaviors = [it for it in fti.behaviors
-                 if 'plone.app.event.dx.behaviors.IEventSummary' not in it]
-    behaviors.extend([
-        'plone.app.contenttypes.behaviors.richtext.IRichText',
-    ])
-    behaviors = tuple(set(behaviors))
-    fti._updateProperty('behaviors', behaviors)
-
-
-def upgrade_attribute_storage(context):
-    portal = getSite()
-    catalog = getToolByName(portal, 'portal_catalog')
-    query = {}
-    query['object_provides'] = IDXEvent.__identifier__
-    results = catalog(**query)
-    log.info('There are {0} in total, stating migration...'.format(
-        len(results)))
-    for result in results:
-        try:
-            event = result.getObject()
-        except:
-            log.warning(
-                'Not possible to fetch event object from catalog result for '
-                'item: {0}.'.format(result.getPath()))
-            continue
-        if not IAnnotatable.providedBy(event):
-            log.warning(
-                'The event at {0} does provide annotation capabilities, '
-                'skipping.'.format(event.absolute_url()))
-            continue
-        annotations = IAnnotations(event)
-        did_work = False
-        for behavior in BEHAVIOR_LIST:
-            for name in behavior.names():
-                fullname = '{0}.{1}'.format(behavior.__identifier__, name)
-                oldvalue = annotations.get(fullname, None)
-                # Only write the old value if there is no new value yet
-                if oldvalue and not getattr(event, name, None):
-                    setattr(event, name, oldvalue)
-                    did_work = True
-        # The old IEventSummary behavior is gone, just look for the old name
-        # inside the annotation storage
-        oldvalue = annotations.get(
-            'plone.app.event.dx.behaviors.IEventSummary.text', None)
-        if oldvalue and not getattr(event, 'text', None):
-            setattr(event, 'text', oldvalue)
-            did_work = True
-        if did_work:
-            notify(ObjectModifiedEvent(event))
-        log.debug('Handled event at {0}'.format(event.absolute_url()))
diff --git a/plone/app/event/ical/configure.zcml b/plone/app/event/ical/configure.zcml
index 581a946..d7dfe96 100644
--- a/plone/app/event/ical/configure.zcml
+++ b/plone/app/event/ical/configure.zcml
@@ -39,13 +39,6 @@
         />
 
     <adapter
-        for="plone.app.collection.interfaces.ICollection"
-        provides="plone.event.interfaces.IICalendar"
-        factory=".exporter.calendar_from_collection"
-        zcml:condition="installed plone.app.collection"
-        />
-
-    <adapter
         for="plone.app.contenttypes.interfaces.ICollection"
         provides="plone.event.interfaces.IICalendar"
         factory=".exporter.calendar_from_collection"
@@ -86,15 +79,6 @@
         />
 
     <browser:page
-        for="plone.app.collection.interfaces.ICollection"
-        name="ics_view"
-        class=".exporter.EventsICal"
-        permission="zope2.View"
-        zcml:condition="installed plone.app.collection"
-        layer="..interfaces.IBrowserLayer"
-        />
-
-    <browser:page
         for="plone.app.contenttypes.interfaces.ICollection"
         name="ics_view"
         class=".exporter.EventsICal"
diff --git a/plone/app/event/ical/exporter.py b/plone/app/event/ical/exporter.py
index bc02ebf..273034e 100644
--- a/plone/app/event/ical/exporter.py
+++ b/plone/app/event/ical/exporter.py
@@ -14,7 +14,6 @@
 from plone.event.utils import tzdel
 from plone.event.utils import utc
 from zope.interface import implementer
-from zope.interface import implements
 from zope.publisher.browser import BrowserView
 
 import icalendar
@@ -44,7 +43,7 @@ def construct_icalendar(context, events):
         cal.add('x-wr-timezone', cal_tz)
 
     tzmap = {}
-    if not hasattr(events, '__getslice__'):  # LazyMap doesn't have __iter__
+    if not getattr(events, '__getslice__', False):  # LazyMap doesn't have __iter__  # noqa
         events = [events]
     for event in events:
         if ICatalogBrain.providedBy(event) or\
@@ -90,6 +89,23 @@ def construct_icalendar(context, events):
 
 
 def add_to_zones_map(tzmap, tzid, dt):
+    """Build a dictionary of timezone information from a timezone identifier
+    and a date/time object for which the timezone information should be
+    calculated.
+
+    :param tzmap: An existing dictionary of timezone information to be extended
+                  or an empty dictionary.
+    :type tzmap: dictionary
+    :param tzid: A timezone identifier.
+    :type tzid: string
+    :param dt: A datetime object.
+    :type dt: datetime
+
+    :returns: A dictionary with timezone information needed to build VTIMEZONE
+              entries.
+    :rtype: dictionary
+    """
+
     if tzid.lower() == 'utc' or not is_datetime(dt):
         # no need to define UTC nor timezones for date objects.
         return tzmap
@@ -108,11 +124,11 @@ def add_to_zones_map(tzmap, tzid, dt):
     #     way we get the maximum transition time which is smaller than the
     #     given datetime.
     transition = max(transitions,
-                     key=lambda item: item <= dtzl and item or null)
+                     key=lambda item: item if item <= dtzl else null)
 
     # get previous transition to calculate tzoffsetfrom
     idx = transitions.index(transition)
-    prev_idx = idx > 0 and idx - 1 or idx
+    prev_idx = idx - 1 if idx > 0 else idx
     prev_transition = transitions[prev_idx]
 
     def localize(tz, dt):
@@ -172,10 +188,10 @@ def calendar_from_collection(context):
     return construct_icalendar(context, result)
 
 
+@implementer(IICalendarEventComponent)
 class ICalendarEventComponent(object):
     """Returns an icalendar object of the event.
     """
-    implements(IICalendarEventComponent)
 
     def __init__(self, context):
         self.context = context
diff --git a/plone/app/event/ical/importer.py b/plone/app/event/ical/importer.py
index 3f2f428..8d92ac7 100644
--- a/plone/app/event/ical/importer.py
+++ b/plone/app/event/ical/importer.py
@@ -17,12 +17,12 @@
 from z3c.form import button
 from z3c.form import form, field
 from zope import schema
-from zope.component import adapts
+from zope.component import adapter
 from zope.container.interfaces import INameChooser
 from zope.event import notify
 from zope.interface import Interface
 from zope.interface import alsoProvides, noLongerProvides
-from zope.interface import implements
+from zope.interface import implementer
 from zope.lifecycleevent import ObjectModifiedEvent
 
 import datetime
@@ -61,12 +61,12 @@ def _from_list(ical, prop):
 
         TODO: component property parameters like TZID are not used here.
         """
-        val = prop in ical and ical[prop] or []
+        val = ical[prop] if prop in ical else []
         if not isinstance(val, list):
             val = [val]
         #ret = ''
         #for item in val:
-        #    ret = ret and '%s\n' % ret or ret  # insert linebreak
+        #    ret = '%s\n' % ret if ret else ret  # insert linebreak
         #    ret = '%s%s:%s' % (ret, prop, item.to_ical())
         #return ret
 
@@ -75,9 +75,9 @@ def _from_list(ical, prop):
         # https://github.com/collective/jquery.recurrenceinput.js/issues/15
         ret = ''
         for item in val:
-            ret = ret and '%s,' % ret or ret  # insert linebreak
+            ret = '%s,' % ret if ret else ret  # insert linebreak
             ret = '%s%s' % (ret, item.to_ical())
-        return ret and '%s:%s' % (prop, ret) or None
+        return '%s:%s' % (prop, ret) if ret else None
 
     count = 0
     for item in events:
@@ -126,7 +126,7 @@ def _from_list(ical, prop):
         url = _get_prop('URL', item)
 
         rrule = _get_prop('RRULE', item)
-        rrule = rrule and 'RRULE:%s' % rrule.to_ical() or ''
+        rrule = 'RRULE:%s' % rrule.to_ical() if rrule else ''
         rdates = _from_list(item, 'RDATE')
         exdates = _from_list(item, 'EXDATE')
         rrule = '\n'.join([it for it in [rrule, rdates, exdates] if it])
@@ -137,7 +137,7 @@ def _from_list(ical, prop):
 
         contact = _get_prop('CONTACT', item)
         categories = item.get('CATEGORIES', ())
-        if hasattr(categories, '__iter__'):
+        if getattr(categories, '__iter__', False):
             categories = tuple([safe_unicode(it) for it in categories])
 
         ext_modified = utc(_get_prop('LAST-MODIFIED', item))
@@ -203,12 +203,6 @@ def _from_list(ical, prop):
             event.sync_uid = sync_uid
         notify(ObjectModifiedEvent(content))
 
-        # Archetypes specific code
-        if getattr(content, 'processForm', False):
-            # Will finish Archetypes content item creation process,
-            # rename-after-creation and such
-            content.processForm()
-
         # Use commits instead of savepoints to avoid "FileStorageError:
         # description too long" on large imports.
         transaction.get().commit()  # Commit before rename
@@ -236,7 +230,7 @@ class IIcalendarImportSettings(Interface):
             'ical_import_event_type_desc',
             default=u"Content type of the event, which is created when "
                     u"importing icalendar resources."),
-        vocabulary='plone.app.event.EventTypes',
+        vocabulary='plone.app.vocabularies.ReallyUserFriendlyTypes',
         required=True
     )
 
@@ -277,11 +271,11 @@ class IIcalendarImportSettings(Interface):
     )
 
 
+@adapter(Interface)
+@implementer(IIcalendarImportSettings)
 class IcalendarImportSettings(AnnotationAdapter):
     """Annotation Adapter for IIcalendarImportSettings.
     """
-    implements(IIcalendarImportSettings)
-    adapts(Interface)
     #adapts(IFolder) ## ?? TODO: when adapting this in z3c.form, why is a
                      ## ATFolder not adaptable to this adapter, when it
                      ## implements IFolder?
diff --git a/plone/app/event/locales/ca/LC_MESSAGES/plone.app.event.po b/plone/app/event/locales/ca/LC_MESSAGES/plone.app.event.po
new file mode 100644
index 0000000..fb3b54f
--- /dev/null
+++ b/plone/app/event/locales/ca/LC_MESSAGES/plone.app.event.po
@@ -0,0 +1,669 @@
+msgid ""
+msgstr ""
+"Project-Id-Version: \n"
+"POT-Creation-Date: 2014-04-11 09:40+0000\n"
+"PO-Revision-Date: 2014-10-20 16:09+0100\n"
+"Last-Translator: Corina Riba Santos <corina.riba@upcnet.es>\n"
+"Language-Team: LANGUAGE <plone.team@upcnet.es>\n"
+"Language: ca\n"
+"MIME-Version: 1.0\n"
+"Content-Type: text/plain; charset=utf-8\n"
+"Content-Transfer-Encoding: 8bit\n"
+"Plural-Forms: nplurals=1; plural=0;\n"
+"Language-Code: ca\n"
+"Language-Name: Catalan\n"
+"Preferred-Encodings: utf-8 latin1\n"
+"Domain: plone.app.event\n"
+
+#. Default: "Events in next 7 days."
+#: plone/app/event/browser/event_listing.py:240
+msgid "7days_events"
+msgstr "Esdeveniments dels propers 7 dies"
+
+#: plone/app/event/portlets/portlet_calendar.py:217
+msgid "Add Calendar Portlet"
+msgstr "Afegeix portlets de Calendari"
+
+#: plone/app/event/portlets/portlet_events.py:130
+msgid "Add Events Portlet"
+msgstr "Afegeix un portlet d'esdeveniment"
+
+#: plone/app/event/browser/event_summary.pt:40
+msgid "All dates"
+msgstr "Totes les dates"
+
+#: plone/app/event/interfaces.py:36
+msgid "Available timezones"
+msgstr "Zones horaries disponibles"
+
+#: plone/app/event/portlets/portlet_calendar.py:59
+msgid "Calendar"
+msgstr "Calendari"
+
+#: plone/app/event/browser/controlpanel.pt:33
+msgid "Date/Time based on the current event settings:"
+msgstr "Data/Hora basat en la configuració dels esdeveniments actuals:"
+
+#: plone/app/event/portlets/portlet_calendar.py:229
+msgid "Edit Calendar Portlet"
+msgstr "Edita el portlet de Calendari"
+
+#: plone/app/event/portlets/portlet_events.py:143
+msgid "Edit Events Portlet"
+msgstr "Edita el portlet d'esdeveniments"
+
+#: plone/app/event/profiles/default/controlpanel.xml
+msgid "Event Settings"
+msgstr "Configuració de l'esdeveniment"
+
+#: plone/app/event/portlets/portlet_events.py:71
+msgid "Events"
+msgstr "Esdeveniments"
+
+#: plone/app/event/portlets/portlet_events.py:26
+msgid "How many items to list."
+msgstr "Quants elements llistar."
+
+#: plone/app/event/portlets/portlet_calendar.py:33
+#: plone/app/event/portlets/portlet_events.py:33
+msgid "Items in which workflow state to show."
+msgstr "Elements en els quals mostrar l'estat del circuit."
+
+#: plone/app/event/portlets/portlet_events.py:25
+msgid "Number of items to display"
+msgstr "Nombre d'elements a mostrar"
+
+#: plone/app/event/interfaces.py:25
+msgid "Portal default timezone"
+msgstr "Zona Horaria per defecte del lloc"
+
+#: plone/app/event/portlets/portlet_calendar.py:218
+msgid "This portlet displays events in a calendar."
+msgstr "Aquest portlet mostra els esdeveniments del calendari"
+
+#: plone/app/event/portlets/portlet_events.py:131
+msgid "This portlet lists upcoming Events."
+msgstr "Aquest portlet llista els propers esdeveniments."
+
+#: plone/app/event/portlets/portlet_calendar.py:32
+#: plone/app/event/portlets/portlet_events.py:32
+msgid "Workflow state"
+msgstr "Estat del circuit"
+
+#. Default: "All events"
+#: plone/app/event/browser/event_listing.py:224
+msgid "all_events"
+msgstr "Tots els esdeveniments"
+
+#. Default: "Upcoming Events"
+#: plone/app/event/portlets/portlet_events.pt:10
+msgid "box_events"
+msgstr "Propers esdeveniments"
+
+#. Default: "Previous events…"
+#: plone/app/event/portlets/portlet_events.pt:50
+msgid "box_previous_events"
+msgstr "Esdeveniments anteriors…"
+
+#. Default: "Upcoming events…"
+#: plone/app/event/portlets/portlet_events.pt:57
+msgid "box_upcoming_events"
+msgstr "Propers esdeveniments…"
+
+#. Default: "Attendees"
+#: plone/app/event/browser/event_summary.pt:82
+msgid "contact_attendees"
+msgstr "Assistents"
+
+#. Default: "Contact Name"
+#: plone/app/event/browser/event_listing.pt:130
+#: plone/app/event/browser/event_summary.pt:69
+msgid "contact_name"
+msgstr "Nom de contacte"
+
+#. Default: "Contact Phone"
+#: plone/app/event/browser/event_summary.pt:77
+msgid "contact_phone"
+msgstr "Telèfon de contacte"
+
+#. Default: "End date must be after start date."
+#: plone/app/event/at/content.py:575 plone/app/event/dx/behaviors.py:142
+msgid "error_end_must_be_after_start_date"
+msgstr "La data de finalització ha de ser posterior a la data d'inici."
+
+#. Default: "Invalid start or end date"
+#: plone/app/event/dx/behaviors.py:62
+msgid "error_invalid_date"
+msgstr "Data d'inici o fi incorrecta"
+
+#. Default: "End date is not valid."
+#: plone/app/event/at/content.py:565
+msgid "error_invalid_end_date"
+msgstr "La data de finalització no és vàlida."
+
+#. Default: "Start date is not valid."
+#: plone/app/event/at/content.py:550
+msgid "error_invalid_start_date"
+msgstr "La data d'inici no és vàlida."
+
+#. Default: "Event"
+#: plone/app/event/browser/event_summary.pt:15
+#, fuzzy
+msgid "event_event"
+msgstr "Quan"
+
+#. Default: "Web"
+#: plone/app/event/browser/event_summary.pt:89
+msgid "event_url"
+msgstr "URL de l'esdeveniment"
+
+#. Default: "What"
+#: plone/app/event/browser/event_summary.pt:21
+msgid "event_what"
+msgstr "Què"
+
+#. Default: "When"
+#: plone/app/event/browser/event_summary.pt:27
+msgid "event_when"
+msgstr "Quan"
+
+#. Default: "${startdate} to ${enddate}"
+#: plone/app/event/browser/formatted_date.pt:27
+msgid "event_when_differentday"
+msgstr "${startdate} a ${linebreak} ${enddate}"
+
+#: plone/app/event/browser/formatted_date.pt:20
+msgid "event_when_differentday_optional_word_between_date_and_time"
+msgstr "a"
+
+#. Default: "${date} from ${starttime} to ${endtime}"
+#: plone/app/event/browser/formatted_date.pt:71
+msgid "event_when_sameday"
+msgstr "${date} ${linebreak} de ${starttime} a ${endtime}"
+
+#. Default: "${date} from ${starttime}"
+#: plone/app/event/browser/formatted_date.pt:52
+msgid "event_when_sameday_openend"
+msgstr "${date} des de/d' ${starttime}\""
+
+#. Default: "Where"
+#: plone/app/event/browser/event_summary.pt:62
+msgid "event_where"
+msgstr "On"
+
+#. Default: "${from} until ${until}."
+#: plone/app/event/browser/event_listing.py:241
+msgid "events_from_until"
+msgstr "${from} fins el ${until}."
+
+#. Default: "Events in ${month} ${year}"
+#: plone/app/event/browser/event_listing.py:298
+msgid "events_in_month"
+msgstr "Esdeveniments de/d' ${month} ${year}"
+
+#. Default: "Events in week ${weeknumber}"
+#: plone/app/event/browser/event_listing.py:275
+msgid "events_in_week"
+msgstr "Esdeveniments en la setmana ${weeknumber}"
+
+#. Default: "Events on ${day}"
+#: plone/app/event/browser/event_listing.py:261
+msgid "events_on_day"
+msgstr "Esdeveniments en ${day}"
+
+#. Default: "Visit external website"
+#: plone/app/event/browser/event_listing.pt:118
+#: plone/app/event/browser/event_summary.pt:91
+msgid "external_website"
+msgstr "Lloc web relacionat"
+
+#. Default: "Future events"
+#: plone/app/event/browser/event_listing.py:230
+msgid "future_events"
+msgstr "Propers esdeveniments"
+
+#. Default: "Add event to calendar"
+#: plone/app/event/browser/event_summary.pt:97
+msgid "heading_add_to_calendar"
+msgstr "Afegeix un esdeveniment al calendari"
+
+#. Default: "The timezones, which should be available for the portal. Can be set for users and events"
+#: plone/app/event/interfaces.py:37
+msgid "help_available_timezones"
+msgstr ""
+"Los zones horàries disponibles per al lloc. Es poden configurar per usuari i "
+"esdeveniments"
+
+#. Default: "Search events in current folder only."
+#: plone/app/event/browser/event_listing.py:446
+msgid "help_current_folder"
+msgstr "Cerca esdeveniments només en la carpeta actual."
+
+#: plone/app/event/at/content.py:302
+msgid "help_event_announcement"
+msgstr ""
+
+#. Default: "List of attendees."
+#: plone/app/event/at/content.py:199 plone/app/event/dx/behaviors.py:235
+msgid "help_event_attendees"
+msgstr "Lista d'assistens"
+
+#. Default: "Email address to contact about this event."
+#: plone/app/event/at/content.py:236 plone/app/event/dx/behaviors.py:267
+msgid "help_event_contact_email"
+msgstr "Adreça de contacte de l'esdeveniment."
+
+#. Default: "Name of a person to contact about this event."
+#: plone/app/event/at/content.py:217 plone/app/event/dx/behaviors.py:255
+msgid "help_event_contact_name"
+msgstr "Responsable de l'esdeveniment."
+
+#. Default: "Phone number to contact about this event."
+#: plone/app/event/at/content.py:255 plone/app/event/dx/behaviors.py:279
+msgid "help_event_contact_phone"
+msgstr "Telèfon de contacte de l'esdeveniment"
+
+#. Default: "Date and Time, when the event ends."
+#: plone/app/event/at/content.py:87 plone/app/event/dx/behaviors.py:88
+msgid "help_event_end"
+msgstr "Data i hora en la que finalitza l'esdeveniment."
+
+#. Default: "Settings for the event listing view."
+#: plone/app/event/profiles/default/actions.xml
+msgid "help_event_listing_settings"
+msgstr "Configuració de la llista d'esdeveniments."
+
+#. Default: "Location of the event."
+#: plone/app/event/at/content.py:182 plone/app/event/dx/behaviors.py:219
+msgid "help_event_location"
+msgstr "Lloc de l'esdeveniment."
+
+#. Default: "This event is open ended."
+#: plone/app/event/at/content.py:124 plone/app/event/dx/behaviors.py:112
+msgid "help_event_open_end"
+msgstr "Esdeveniment sense data de fi."
+
+#. Default: "Define the event recurrence rule."
+#: plone/app/event/at/content.py:161 plone/app/event/dx/behaviors.py:189
+msgid "help_event_recurrence"
+msgstr "Defineix la regla de periodicitat de l'esdeveniment"
+
+#. Default: "Event related settings like timezone, etc."
+#: plone/app/event/browser/controlpanel.py:15
+msgid "help_event_settings"
+msgstr "Configuració de l'esdeveniment: zona horària, etc."
+
+#. Default: "Date and Time, when the event begins."
+#: plone/app/event/at/content.py:65 plone/app/event/dx/behaviors.py:76
+msgid "help_event_start"
+msgstr "Data i hora d'inici de l'esdeveniment."
+
+#. Default: "Select the Timezone, where this event happens."
+#: plone/app/event/at/content.py:144 plone/app/event/dx/behaviors.py:125
+msgid "help_event_timezone"
+msgstr "Selecciona la zona horària en la que comença l'esdeveniment."
+
+#. Default: "Web address with more info about the event. Add http:// for external links."
+#: plone/app/event/at/content.py:274 plone/app/event/dx/behaviors.py:291
+msgid "help_event_url"
+msgstr ""
+"Adreça web amb més informació sobre l'esdeveniment. Afegiu http:// si es "
+"tracta d'un enllaç extern."
+
+#. Default: "Event lasts whole day."
+#: plone/app/event/at/content.py:107 plone/app/event/dx/behaviors.py:100
+msgid "help_event_whole_day"
+msgstr "Esdeveniments de dia complet"
+
+#. Default: "First day in the Week."
+#: plone/app/event/interfaces.py:47
+msgid "help_first_weekday"
+msgstr "Primer dia de la setmana"
+
+#. Default: "Import Events from icalendar files."
+#: plone/app/event/profiles/default/actions.xml
+msgid "help_ical_import"
+msgstr "Importa esdeveniments des d'un arxiu iCalendar"
+
+#. Default: "Click to disable the icalendar import feature on this context."
+#: plone/app/event/profiles/default/actions.xml
+msgid "help_ical_import_disable"
+msgstr "Click per deshabilitar l'importació des d'un arxiu iCalendar."
+
+#. Default: "Click to enable the icalendar import feature on this context."
+#: plone/app/event/profiles/default/actions.xml
+msgid "help_ical_import_enable"
+msgstr "Click per habilitar l'importació des d'un arxiu iCalendar"
+
+#. Default: "The timezone setting of the portal. Users can set their own timezone, if available timezones are defined."
+#: plone/app/event/interfaces.py:26
+msgid "help_portal_timezone"
+msgstr ""
+"La configuració de la zona horària del lloc. Els usuaris poden establir la "
+"seva pròpia zona horària, si n'hi ha definides."
+
+#. Default: "Content type of the event, which is created when importing icalendar resources."
+#: plone/app/event/ical/importer.py:232
+msgid "ical_import_event_type_desc"
+msgstr ""
+"Tipus de contingut de l'esdeveniment, que serà creat quan s'importi des d'un "
+"arxiu iCal"
+
+#. Default: "Event Type"
+#: plone/app/event/ical/importer.py:231
+msgid "ical_import_event_type_title"
+msgstr "Esdeveniment"
+
+#. Default: "Icalendar resource file, if no URL is given."
+#: plone/app/event/ical/importer.py:250
+msgid "ical_import_file_desc"
+msgstr "Font de l'iCalendar, si no es proporciona un esdeveniment."
+
+#. Default: "Icalendar File"
+#: plone/app/event/ical/importer.py:249
+msgid "ical_import_file_title"
+msgstr "Arxiu iCalendar"
+
+#. Default: "${num} events imported from ${filename}"
+#: plone/app/event/ical/importer.py:357
+msgid "ical_import_imported"
+msgstr "${num} esdeveniments importats des de/d' ${filename}"
+
+#. Default: "Please provide either a icalendar ics file or a URL to a file."
+#: plone/app/event/ical/importer.py:364
+msgid "ical_import_no_ics"
+msgstr "Si us plau, proporciona un arxiu iCalendar o un enllaç a un arxiu."
+
+#. Default: "Defines how to synchronize:\n1) \"Keep newer\": Import, if the imported event is modified after the existing\n   one.\n2) \"Keep mine\": On conflicts, just do nothing.\n3) \"Keep theirs\": On conflicts, update the existing event with the external\n   one.\n4) \"No Syncing\": Don't synchronize but import events and create new ones, even\n    if they already exist. For each one, create a new sync_uid."
+#: plone/app/event/ical/importer.py:261
+msgid "ical_import_sync_strategy_desc"
+msgstr ""
+"Defineix com sincronitzar:\n"
+"1) \"Conserva els nous\": Importa, si l'esdeveniment importat s'ha modificat "
+"desprès de l'existent.\n"
+"2) \"Conserva el meu\": Si hi ha conflicte, no facis res.\n"
+"3) \"Conserva el seu\": Si hi ha conflicte, actualitza l'esdeveniment "
+"existent amb l'importat.\n"
+"4) \"No sincronitzar\": No sincronitzis però importa els esdeveniments nous, "
+"inclós si ja existeixen\n"
+".Per cada un crea un nou sync_uid."
+
+#. Default: "Synchronization Strategy"
+#: plone/app/event/ical/importer.py:257
+msgid "ical_import_sync_strategy_title"
+msgstr "Estratègia de sincronització"
+
+#. Default: "URL to an external icalendar resource file."
+#: plone/app/event/ical/importer.py:242
+msgid "ical_import_url_desc"
+msgstr "URL del arxiu iCalendar extern."
+
+#. Default: "Icalendar URL"
+#: plone/app/event/ical/importer.py:241
+msgid "ical_import_url_title"
+msgstr "URL de l'iCalendar"
+
+#. Default: "iCal"
+#: plone/app/event/browser/event_listing.pt:48
+#: plone/app/event/browser/event_summary.pt:106
+msgid "label_add_to_ical"
+msgstr "iCal"
+
+#. Default: "Current folder"
+#: plone/app/event/browser/event_listing.py:445
+msgid "label_current_folder"
+msgstr "Carpeta actual"
+
+#. Default: "Email"
+#: plone/app/event/browser/event_listing.pt:128
+msgid "label_email"
+msgstr "Correu electrònic"
+
+#. Default: "Event body text"
+#: plone/app/event/at/content.py:298
+msgid "label_event_announcement"
+msgstr "Text de l'esdeveniment"
+
+#. Default: "Attendees"
+#: plone/app/event/at/content.py:195 plone/app/event/dx/behaviors.py:231
+msgid "label_event_attendees"
+msgstr "Assistents"
+
+#. Default: "Contact E-mail"
+#: plone/app/event/at/content.py:232 plone/app/event/dx/behaviors.py:263
+msgid "label_event_contact_email"
+msgstr "Adreça de correu de contacte"
+
+#. Default: "Contact Name"
+#: plone/app/event/at/content.py:213 plone/app/event/dx/behaviors.py:251
+msgid "label_event_contact_name"
+msgstr "Nom de contacte"
+
+#. Default: "Contact Phone"
+#: plone/app/event/at/content.py:251 plone/app/event/dx/behaviors.py:275
+msgid "label_event_contact_phone"
+msgstr "Telèfon de contacte"
+
+#. Default: "Event Ends"
+#: plone/app/event/at/content.py:83 plone/app/event/dx/behaviors.py:84
+msgid "label_event_end"
+msgstr "L'event finalitza"
+
+#. Default: "Location"
+#: plone/app/event/at/content.py:178 plone/app/event/dx/behaviors.py:215
+msgid "label_event_location"
+msgstr "Ubicació de l'event"
+
+#. Default: "Open End"
+#: plone/app/event/at/content.py:120 plone/app/event/dx/behaviors.py:108
+msgid "label_event_open_end"
+msgstr "Finalització oberta"
+
+#. Default: "Recurrence"
+#: plone/app/event/at/content.py:157 plone/app/event/dx/behaviors.py:185
+msgid "label_event_recurrence"
+msgstr "Periodicitat de l'esdeveniment"
+
+#. Default: "Event settings"
+#: plone/app/event/browser/controlpanel.py:14
+msgid "label_event_settings"
+msgstr "Configuració de l'esdeveniment"
+
+#. Default: "Event Starts"
+#: plone/app/event/at/content.py:61 plone/app/event/dx/behaviors.py:72
+msgid "label_event_start"
+msgstr "L'event comença"
+
+#. Default: "Timezone"
+#: plone/app/event/at/content.py:140 plone/app/event/dx/behaviors.py:121
+msgid "label_event_timezone"
+msgstr "Zona horària"
+
+#. Default: "Event URL"
+#: plone/app/event/at/content.py:270 plone/app/event/dx/behaviors.py:287
+msgid "label_event_url"
+msgstr "URL de l'esdeveniment"
+
+#. Default: "Whole Day"
+#: plone/app/event/at/content.py:103 plone/app/event/dx/behaviors.py:96
+msgid "label_event_whole_day"
+msgstr "Esdeveniment de tot el dia"
+
+#. Default: "First Weekday"
+#: plone/app/event/interfaces.py:46
+msgid "label_first_weekday"
+msgstr "Primera setmana"
+
+#: plone/app/event/browser/event_listing.pt:140
+msgid "label_phone"
+msgstr "Telèfon"
+
+#. Default: "Web"
+#: plone/app/event/browser/event_listing.pt:118
+msgid "label_web"
+msgstr "Web"
+
+#. Default: "Day"
+#: plone/app/event/browser/event_listing.pt:39
+msgid "mode_day_link"
+msgstr "Dia"
+
+#. Default: "Upcoming"
+#: plone/app/event/browser/event_listing.pt:27
+msgid "mode_future_link"
+msgstr "Propers"
+
+#. Default: "Month"
+#: plone/app/event/browser/event_listing.pt:33
+msgid "mode_month_link"
+msgstr "Mes"
+
+#. Default: "Past"
+#: plone/app/event/browser/event_listing.pt:30
+msgid "mode_past_link"
+msgstr "Pasat"
+
+#. Default: "Week"
+#: plone/app/event/browser/event_listing.pt:36
+msgid "mode_week_link"
+msgstr "Setmana"
+
+#. Default: "Ical import settings saved."
+#: plone/app/event/ical/importer.py:319
+msgid "msg_ical_import_settings_saved"
+msgstr "Configuració de la importació iCal desada"
+
+#. Default: "Next Day"
+#: plone/app/event/browser/event_listing.pt:71
+msgid "next_day_link"
+msgstr "Demà"
+
+#. Default: "Next Month"
+#: plone/app/event/browser/event_listing.pt:57
+msgid "next_month_link"
+msgstr "El proper mes"
+
+#. Default: "Next Week"
+#: plone/app/event/browser/event_listing.pt:64
+msgid "next_week_link"
+msgstr "Propera setmana"
+
+#. Default: "Past events"
+#: plone/app/event/browser/event_listing.py:227
+msgid "past_events"
+msgstr "Esdeveniments passats"
+
+#. Default: "Select search base folder to search for events. This folder will also be used to link to in calendar searches. If empty, the whole site will be searched and the event listing view will be called on the site root."
+#: plone/app/event/portlets/portlet_calendar.py:42
+#: plone/app/event/portlets/portlet_events.py:43
+msgid "portlet_help_search_base"
+msgstr ""
+"Selecciona la carpeta on cerca els esdeveniments. Aquesta carpeta es farà "
+"servir per enllaçar en les cerques del calendari. Si no s'especifica, es "
+"cercaran a tot el lloc i la llista serà cridada des de l'arrel."
+
+#. Default: "Search base"
+#: plone/app/event/portlets/portlet_calendar.py:41
+#: plone/app/event/portlets/portlet_events.py:42
+msgid "portlet_label_search_base"
+msgstr "Cerca"
+
+#. Default: "Previous Day"
+#: plone/app/event/browser/event_listing.pt:69
+msgid "prev_day_link"
+msgstr "Ahir"
+
+#. Default: "Previous Month"
+#: plone/app/event/browser/event_listing.pt:55
+msgid "prev_month_link"
+msgstr "Mes anterior"
+
+#. Default: "Previous Week"
+#: plone/app/event/browser/event_listing.pt:62
+msgid "prev_week_link"
+msgstr "Setmana anterior"
+
+#. Default: "Event details"
+#: plone/app/event/browser/event_summary.pt:12
+msgid "summary_event_details"
+msgstr "Detalls de l'event"
+
+#. Default: "Keep mine"
+#: plone/app/event/vocabularies.py:141
+msgid "sync_keep_mine"
+msgstr "Conservar els meus"
+
+#. Default: "Keep newer"
+#: plone/app/event/vocabularies.py:140
+msgid "sync_keep_newer"
+msgstr "Conservar els més nous"
+
+#. Default: "Keep theirs"
+#: plone/app/event/vocabularies.py:142
+msgid "sync_keep_theirs"
+msgstr "Conservar els seus"
+
+#. Default: "No Syncing"
+#: plone/app/event/vocabularies.py:143
+msgid "sync_none"
+msgstr "No sincronitzar"
+
+#. Default: "This Month"
+#: plone/app/event/browser/event_listing.pt:56
+msgid "this_month_link"
+msgstr "Aquest mes"
+
+#. Default: "This Week"
+#: plone/app/event/browser/event_listing.pt:63
+msgid "this_week_link"
+msgstr "Aquesta setmana"
+
+#. Default: "Download this event in iCal format"
+#: plone/app/event/browser/event_listing.pt:43
+#: plone/app/event/browser/event_summary.pt:100
+msgid "title_add_to_ical"
+msgstr "Baixa aquest esdeveniment en format iCal"
+
+#. Default: "Event Listing Settings"
+#: plone/app/event/profiles/default/actions.xml
+msgid "title_event_listing_settings"
+msgstr "Configuració de la llista d'esdeveniments"
+
+#. Default: "Ical import"
+#: plone/app/event/profiles/default/actions.xml
+msgid "title_ical_import"
+msgstr "Importació iCal"
+
+#. Default: "Disable icalendar import"
+#: plone/app/event/profiles/default/actions.xml
+msgid "title_ical_import_disable"
+msgstr "No permetre impotar d'iCalendar"
+
+#. Default: "Enable icalendar import"
+#: plone/app/event/profiles/default/actions.xml
+msgid "title_ical_import_enable"
+msgstr "Permetre importar d'iCalendar"
+
+#. Default: "Today"
+#: plone/app/event/browser/event_listing.pt:70
+msgid "today_link"
+msgstr "Avui"
+
+#. Default: "Todays events"
+#: plone/app/event/browser/event_listing.py:237
+msgid "todays_events"
+msgstr "Esdeveniments d'avui"
+
+#. Default: "Todays upcoming events"
+#: plone/app/event/browser/event_listing.py:233
+msgid "todays_upcoming_events"
+msgstr "Propoers esdeveniments d'avui"
+
+#~ msgid "Go to the original Event."
+#~ msgstr "Anar a l'esdeveniment original"
+
+#~ msgid "More occurrences of this event:"
+#~ msgstr "Més aparicions d'aquest esdeveniments:"
+
+#~ msgid "This event is part of a recurring Event."
+#~ msgstr "aquest esdeveniment es part d'un esdeveniment periòdic"
diff --git a/plone/app/event/locales/ca/LC_MESSAGES/plone.po b/plone/app/event/locales/ca/LC_MESSAGES/plone.po
new file mode 100644
index 0000000..526cb1b
--- /dev/null
+++ b/plone/app/event/locales/ca/LC_MESSAGES/plone.po
@@ -0,0 +1,29 @@
+# Translation of plone.app.event.pot to Catalan
+#
+msgid ""
+msgstr ""
+"Project-Id-Version: \n"
+"POT-Creation-Date: 2013-04-19 23:38+0000\n"
+"PO-Revision-Date: 2014-10-20 16:20+0100\n"
+"Last-Translator: FULL NAME <EMAIL@ADDRESS>\n"
+"Language-Team: LANGUAGE <LL@li.org>\n"
+"MIME-Version: 1.0\n"
+"Content-Type: text/plain; charset=utf-8\n"
+"Content-Transfer-Encoding: 8bit\n"
+"Plural-Forms: nplurals=2; plural=n!=1;\n"
+"Language-Code: ca\n"
+"Language-Name: Catalan\n"
+"Preferred-Encodings: utf-8 latin1\n"
+"Domain: plone\n"
+"Language: ca\n"
+"X-Generator: Poedit 1.6.10\n"
+
+# TRANSLATE VIEW NAMES
+#
+#. Default: "Event Listing"
+msgid "event_listing"
+msgstr "Llista d'esdeveniments"
+
+#. Default: "Event"
+msgid "event_view"
+msgstr "Esdeveniment"
diff --git a/plone/app/event/locales/cs/LC_MESSAGES/plone.app.event.po b/plone/app/event/locales/cs/LC_MESSAGES/plone.app.event.po
new file mode 100644
index 0000000..e851763
--- /dev/null
+++ b/plone/app/event/locales/cs/LC_MESSAGES/plone.app.event.po
@@ -0,0 +1,662 @@
+# plone.app.event locales
+msgid ""
+msgstr ""
+"Project-Id-Version: plone.app.event\n"
+"POT-Creation-Date: 2014-04-11 09:40+0000\n"
+"PO-Revision-Date: 2014-08-24 09:10+0100\n"
+"Last-Translator: Radim Novotny <novotny.radim@gmail.com>\n"
+"Language-Team: Czech <cs@li.org>\n"
+"MIME-Version: 1.0\n"
+"Content-Type: text/plain; charset=UTF-8\n"
+"Content-Transfer-Encoding: 8bit\n"
+"Plural-Forms: nplurals=1; plural=0;\n"
+"Language-Code: cs\n"
+"Language-Name: Czech\n"
+"Preferred-Encodings: utf-8 latin1\n"
+"Domain: plone.app.event\n"
+"Language: cs\n"
+"X-Generator: Poedit 1.6.8\n"
+
+#. Default: "Events in next 7 days."
+#: plone/app/event/browser/event_listing.py:240
+msgid "7days_events"
+msgstr "Události v následujícím týdnu."
+
+#: plone/app/event/portlets/portlet_calendar.py:217
+msgid "Add Calendar Portlet"
+msgstr "Přidat portlet s kalendářem"
+
+#: plone/app/event/portlets/portlet_events.py:130
+msgid "Add Events Portlet"
+msgstr "Přidat portlet s událostmi"
+
+#: plone/app/event/browser/event_summary.pt:40
+msgid "All dates"
+msgstr "Všechny datumy"
+
+#: plone/app/event/interfaces.py:36
+msgid "Available timezones"
+msgstr "Dostupná časová pásma"
+
+#: plone/app/event/portlets/portlet_calendar.py:59
+msgid "Calendar"
+msgstr "Kalendář"
+
+#: plone/app/event/browser/controlpanel.pt:33
+msgid "Date/Time based on the current event settings:"
+msgstr "Datum a čas podle aktuálního nastavení události:"
+
+#: plone/app/event/portlets/portlet_calendar.py:229
+msgid "Edit Calendar Portlet"
+msgstr "Upravit portlet kalendáře"
+
+#: plone/app/event/portlets/portlet_events.py:143
+msgid "Edit Events Portlet"
+msgstr "Upravit portlet událostí"
+
+#: plone/app/event/profiles/default/controlpanel.xml
+msgid "Event Settings"
+msgstr "Nastavení událostí"
+
+#: plone/app/event/portlets/portlet_events.py:71
+msgid "Events"
+msgstr "Události"
+
+#: plone/app/event/portlets/portlet_events.py:26
+msgid "How many items to list."
+msgstr "Počet zobrazených položek."
+
+#: plone/app/event/portlets/portlet_calendar.py:33
+#: plone/app/event/portlets/portlet_events.py:33
+msgid "Items in which workflow state to show."
+msgstr "Zobrazit položky v následujících stavech workflow."
+
+#: plone/app/event/portlets/portlet_events.py:25
+msgid "Number of items to display"
+msgstr "Počet položek k zobrazní"
+
+#: plone/app/event/interfaces.py:25
+msgid "Portal default timezone"
+msgstr "Výchozí časové pásmo"
+
+#: plone/app/event/portlets/portlet_calendar.py:218
+msgid "This portlet displays events in a calendar."
+msgstr "Tento portlet zobrazuje události v kalendáři"
+
+#: plone/app/event/portlets/portlet_events.py:131
+msgid "This portlet lists upcoming Events."
+msgstr "Tento portlet zobrazuje nadcházející události"
+
+#: plone/app/event/portlets/portlet_calendar.py:32
+#: plone/app/event/portlets/portlet_events.py:32
+msgid "Workflow state"
+msgstr "Stav workflow"
+
+#. Default: "All events"
+#: plone/app/event/browser/event_listing.py:224
+msgid "all_events"
+msgstr "Všechny události"
+
+#. Default: "Upcoming Events"
+#: plone/app/event/portlets/portlet_events.pt:10
+msgid "box_events"
+msgstr "Nadcházející události"
+
+#. Default: "Previous events…"
+#: plone/app/event/portlets/portlet_events.pt:50
+msgid "box_previous_events"
+msgstr "Uskutečněné události...."
+
+#. Default: "Upcoming events…"
+#: plone/app/event/portlets/portlet_events.pt:57
+msgid "box_upcoming_events"
+msgstr "Nadcházející události..."
+
+#. Default: "Attendees"
+#: plone/app/event/browser/event_summary.pt:82
+msgid "contact_attendees"
+msgstr "Účastníci"
+
+#. Default: "Contact Name"
+#: plone/app/event/browser/event_listing.pt:130
+#: plone/app/event/browser/event_summary.pt:69
+msgid "contact_name"
+msgstr "Jméno kontaktu"
+
+#. Default: "Contact Phone"
+#: plone/app/event/browser/event_summary.pt:77
+msgid "contact_phone"
+msgstr "Kontaktní telefon"
+
+#. Default: "End date must be after start date."
+#: plone/app/event/at/content.py:575 plone/app/event/dx/behaviors.py:142
+msgid "error_end_must_be_after_start_date"
+msgstr "Datum ukončení musí být po datu začátku události."
+
+#. Default: "Invalid start or end date"
+#: plone/app/event/dx/behaviors.py:62
+msgid "error_invalid_date"
+msgstr "Neplatné datum začátku nebo ukončení"
+
+#. Default: "End date is not valid."
+#: plone/app/event/at/content.py:565
+msgid "error_invalid_end_date"
+msgstr "Datum ukončení není platné."
+
+#. Default: "Start date is not valid."
+#: plone/app/event/at/content.py:550
+msgid "error_invalid_start_date"
+msgstr "Datum začátku není platné."
+
+#. Default: "Event"
+#: plone/app/event/browser/event_summary.pt:15
+msgid "event_event"
+msgstr "Událost"
+
+#. Default: "Web"
+#: plone/app/event/browser/event_summary.pt:89
+msgid "event_url"
+msgstr "Adresa události"
+
+#. Default: "What"
+#: plone/app/event/browser/event_summary.pt:21
+msgid "event_what"
+msgstr "Co"
+
+#. Default: "When"
+#: plone/app/event/browser/event_summary.pt:27
+msgid "event_when"
+msgstr "Kdy"
+
+#. Default: "${startdate} to ${enddate}"
+#: plone/app/event/browser/formatted_date.pt:27
+msgid "event_when_differentday"
+msgstr "${startdate} do ${enddate}"
+
+#: plone/app/event/browser/formatted_date.pt:20
+msgid "event_when_differentday_optional_word_between_date_and_time"
+msgstr "&nbsp;"
+
+#. Default: "${date} from ${starttime} to ${endtime}"
+#: plone/app/event/browser/formatted_date.pt:71
+msgid "event_when_sameday"
+msgstr "${date} od ${starttime} do ${endtime}"
+
+#. Default: "${date} from ${starttime}"
+#: plone/app/event/browser/formatted_date.pt:52
+msgid "event_when_sameday_openend"
+msgstr "${date} od ${starttime}"
+
+#. Default: "Where"
+#: plone/app/event/browser/event_summary.pt:62
+msgid "event_where"
+msgstr "Kde"
+
+#. Default: "${from} until ${until}."
+#: plone/app/event/browser/event_listing.py:241
+msgid "events_from_until"
+msgstr "${from} do ${until}."
+
+#. Default: "Events in ${month} ${year}"
+#: plone/app/event/browser/event_listing.py:298
+msgid "events_in_month"
+msgstr "Události v ${month} ${year}"
+
+#. Default: "Events in week ${weeknumber}"
+#: plone/app/event/browser/event_listing.py:275
+msgid "events_in_week"
+msgstr "Události v týdnu ${weeknumber}"
+
+#. Default: "Events on ${day}"
+#: plone/app/event/browser/event_listing.py:261
+msgid "events_on_day"
+msgstr "Události dne ${day}"
+
+#. Default: "Visit external website"
+#: plone/app/event/browser/event_listing.pt:118
+#: plone/app/event/browser/event_summary.pt:91
+msgid "external_website"
+msgstr "Přejít na stránku události"
+
+#. Default: "Future events"
+#: plone/app/event/browser/event_listing.py:230
+msgid "future_events"
+msgstr "Nadcházející události"
+
+#. Default: "Add event to calendar"
+#: plone/app/event/browser/event_summary.pt:97
+msgid "heading_add_to_calendar"
+msgstr "Přidat událost do kalendáře"
+
+#. Default: "The timezones, which should be available for the portal. Can be set for users and events"
+#: plone/app/event/interfaces.py:37
+msgid "help_available_timezones"
+msgstr ""
+"Časová pásma, která budou používána v portálu. Mohou být nastavena pro "
+"události a také jednotlivými uživateli."
+
+#. Default: "Search events in current folder only."
+#: plone/app/event/browser/event_listing.py:446
+msgid "help_current_folder"
+msgstr "Vyhledávat události pouze v aktuální složce."
+
+#: plone/app/event/at/content.py:302
+msgid "help_event_announcement"
+msgstr "Text k události"
+
+#. Default: "List of attendees."
+#: plone/app/event/at/content.py:199 plone/app/event/dx/behaviors.py:235
+msgid "help_event_attendees"
+msgstr "Seznam účastníku."
+
+#. Default: "Email address to contact about this event."
+#: plone/app/event/at/content.py:236 plone/app/event/dx/behaviors.py:267
+msgid "help_event_contact_email"
+msgstr ""
+"Emailová adresa, kam mohou zájemci napsat o bližší informace k této události."
+
+#. Default: "Name of a person to contact about this event."
+#: plone/app/event/at/content.py:217 plone/app/event/dx/behaviors.py:255
+msgid "help_event_contact_name"
+msgstr "Jméno osoby,. která má na starosti kontakt s účastníky a veřejností."
+
+#. Default: "Phone number to contact about this event."
+#: plone/app/event/at/content.py:255 plone/app/event/dx/behaviors.py:279
+msgid "help_event_contact_phone"
+msgstr ""
+"Telefonní číslo, kde mohou zájemci získat bližší informace o této události."
+
+#. Default: "Date and Time, when the event ends."
+#: plone/app/event/at/content.py:87 plone/app/event/dx/behaviors.py:88
+msgid "help_event_end"
+msgstr "Datum a čas, kdy událost končí"
+
+#. Default: "Settings for the event listing view."
+#: plone/app/event/profiles/default/actions.xml
+msgid "help_event_listing_settings"
+msgstr "Nastavení zobrazení události"
+
+#. Default: "Location of the event."
+#: plone/app/event/at/content.py:182 plone/app/event/dx/behaviors.py:219
+msgid "help_event_location"
+msgstr "Místo konání události."
+
+#. Default: "This event is open ended."
+#: plone/app/event/at/content.py:124 plone/app/event/dx/behaviors.py:112
+msgid "help_event_open_end"
+msgstr "Tato událost nemá přesně určený konec."
+
+#. Default: "Define the event recurrence rule."
+#: plone/app/event/at/content.py:161 plone/app/event/dx/behaviors.py:189
+msgid "help_event_recurrence"
+msgstr "Definice pravidla pro opakování události."
+
+#. Default: "Event related settings like timezone, etc."
+#: plone/app/event/browser/controlpanel.py:15
+msgid "help_event_settings"
+msgstr "Nastavení vlastností události jako je časové pásmo atd."
+
+#. Default: "Date and Time, when the event begins."
+#: plone/app/event/at/content.py:65 plone/app/event/dx/behaviors.py:76
+msgid "help_event_start"
+msgstr "Datum a čas začátku události."
+
+#. Default: "Select the Timezone, where this event happens."
+#: plone/app/event/at/content.py:144 plone/app/event/dx/behaviors.py:125
+msgid "help_event_timezone"
+msgstr "Vyberte časové pásmo, ve kterém se událost koná."
+
+#. Default: "Web address with more info about the event. Add http:// for external links."
+#: plone/app/event/at/content.py:274 plone/app/event/dx/behaviors.py:291
+msgid "help_event_url"
+msgstr ""
+"Adresa stránky, kde se nacházejí bližší informace o události. Pro odkazy "
+"mimo tento portál musíte použít i prefix http://"
+
+#. Default: "Event lasts whole day."
+#: plone/app/event/at/content.py:107 plone/app/event/dx/behaviors.py:100
+msgid "help_event_whole_day"
+msgstr "Událost trvá celý den."
+
+#. Default: "First day in the Week."
+#: plone/app/event/interfaces.py:47
+msgid "help_first_weekday"
+msgstr "První den v týdnu."
+
+#. Default: "Import Events from icalendar files."
+#: plone/app/event/profiles/default/actions.xml
+msgid "help_ical_import"
+msgstr "Import událostí ze souborů icalendar."
+
+#. Default: "Click to disable the icalendar import feature on this context."
+#: plone/app/event/profiles/default/actions.xml
+msgid "help_ical_import_disable"
+msgstr "Pokud chcete zakázat icalendar import pro tuto položku, klepněte zde."
+
+#. Default: "Click to enable the icalendar import feature on this context."
+#: plone/app/event/profiles/default/actions.xml
+msgid "help_ical_import_enable"
+msgstr "Pokud chcete povolit icalendar import pro tuto položku, klepněte zde."
+
+#. Default: "The timezone setting of the portal. Users can set their own timezone, if available timezones are defined."
+#: plone/app/event/interfaces.py:26
+msgid "help_portal_timezone"
+msgstr ""
+"Nastavení časového pásma portálu. Uživatelé si mohou vybrat jiné časové "
+"pásmo ze seznamu povolených časových pásem."
+
+#. Default: "Content type of the event, which is created when importing icalendar resources."
+#: plone/app/event/ical/importer.py:232
+msgid "ical_import_event_type_desc"
+msgstr "Typ položky, která je vytvořena v případě icalendar importu událostí."
+
+#. Default: "Event Type"
+#: plone/app/event/ical/importer.py:231
+msgid "ical_import_event_type_title"
+msgstr "Typ položky"
+
+#. Default: "Icalendar resource file, if no URL is given."
+#: plone/app/event/ical/importer.py:250
+msgid "ical_import_file_desc"
+msgstr ""
+"Pokud není zadána adresa icalendar souboru, nahrajte icalendar soubor zde."
+
+#. Default: "Icalendar File"
+#: plone/app/event/ical/importer.py:249
+msgid "ical_import_file_title"
+msgstr "Soubor s icalendar"
+
+#. Default: "${num} events imported from ${filename}"
+#: plone/app/event/ical/importer.py:357
+msgid "ical_import_imported"
+msgstr "Počet událostí importovaných z ${filename}: ${num}"
+
+#. Default: "Please provide either a icalendar ics file or a URL to a file."
+#: plone/app/event/ical/importer.py:364
+msgid "ical_import_no_ics"
+msgstr "Zadejste prosím soubor icalendar (ics) nebo jeho webovou adresu"
+
+#. Default: "Defines how to synchronize:\n1) \"Keep newer\": Import, if the imported event is modified after the existing\n   one.\n2) \"Keep mine\": On conflicts, just do nothing.\n3) \"Keep theirs\": On conflicts, update the existing event with the external\n   one.\n4) \"No Syncing\": Don't synchronize but import events and create new ones, even\n    if they already exist. For each one, create a new sync_uid."
+#: plone/app/event/ical/importer.py:261
+msgid "ical_import_sync_strategy_desc"
+msgstr ""
+"Nastavení synchronizace:\n"
+"1) \"Ponechat novější\": Importovat, pokud importovaná událost je změněna po "
+"událost v portálu.\n"
+"2) \"Ponechat moje\":V případě konfliktu, nedělat nic\n"
+"3) \"Použít jejich\": V případě konfliktu nahradit událost z importovaného "
+"spuboru.\n"
+"4) \"Nesynchronizovat\": Nesynchronizovat existující události, ale "
+"importovat události a vytvořit novéi když už takové události existují. Pro "
+"každou nově importovanou vytvořit nové unikátní ID pro synchropnizaci"
+
+#. Default: "Synchronization Strategy"
+#: plone/app/event/ical/importer.py:257
+msgid "ical_import_sync_strategy_title"
+msgstr "Strategie synchronizace"
+
+#. Default: "URL to an external icalendar resource file."
+#: plone/app/event/ical/importer.py:242
+msgid "ical_import_url_desc"
+msgstr "Webová adresa souboru s icalendar"
+
+#. Default: "Icalendar URL"
+#: plone/app/event/ical/importer.py:241
+msgid "ical_import_url_title"
+msgstr "icalendar URL"
+
+#. Default: "iCal"
+#: plone/app/event/browser/event_listing.pt:48
+#: plone/app/event/browser/event_summary.pt:106
+msgid "label_add_to_ical"
+msgstr "iCal"
+
+#. Default: "Current folder"
+#: plone/app/event/browser/event_listing.py:445
+msgid "label_current_folder"
+msgstr "Aktuální složka"
+
+#. Default: "Email"
+#: plone/app/event/browser/event_listing.pt:128
+msgid "label_email"
+msgstr "E-mail"
+
+#. Default: "Event body text"
+#: plone/app/event/at/content.py:298
+msgid "label_event_announcement"
+msgstr "Informace o události"
+
+#. Default: "Attendees"
+#: plone/app/event/at/content.py:195 plone/app/event/dx/behaviors.py:231
+msgid "label_event_attendees"
+msgstr "Účastníci"
+
+#. Default: "Contact E-mail"
+#: plone/app/event/at/content.py:232 plone/app/event/dx/behaviors.py:263
+msgid "label_event_contact_email"
+msgstr "Kontaktní e-mail"
+
+#. Default: "Contact Name"
+#: plone/app/event/at/content.py:213 plone/app/event/dx/behaviors.py:251
+msgid "label_event_contact_name"
+msgstr "Jméno kontaktu"
+
+#. Default: "Contact Phone"
+#: plone/app/event/at/content.py:251 plone/app/event/dx/behaviors.py:275
+msgid "label_event_contact_phone"
+msgstr "Kontaktní telefon"
+
+#. Default: "Event Ends"
+#: plone/app/event/at/content.py:83 plone/app/event/dx/behaviors.py:84
+msgid "label_event_end"
+msgstr "Konec události"
+
+#. Default: "Location"
+#: plone/app/event/at/content.py:178 plone/app/event/dx/behaviors.py:215
+msgid "label_event_location"
+msgstr "Místo konání"
+
+#. Default: "Open End"
+#: plone/app/event/at/content.py:120 plone/app/event/dx/behaviors.py:108
+msgid "label_event_open_end"
+msgstr "Neurčitý konec"
+
+#. Default: "Recurrence"
+#: plone/app/event/at/content.py:157 plone/app/event/dx/behaviors.py:185
+msgid "label_event_recurrence"
+msgstr "Opakování"
+
+#. Default: "Event settings"
+#: plone/app/event/browser/controlpanel.py:14
+msgid "label_event_settings"
+msgstr "Nastavení události"
+
+#. Default: "Event Starts"
+#: plone/app/event/at/content.py:61 plone/app/event/dx/behaviors.py:72
+msgid "label_event_start"
+msgstr "Začátek události"
+
+#. Default: "Timezone"
+#: plone/app/event/at/content.py:140 plone/app/event/dx/behaviors.py:121
+msgid "label_event_timezone"
+msgstr "Časové pásmo"
+
+#. Default: "Event URL"
+#: plone/app/event/at/content.py:270 plone/app/event/dx/behaviors.py:287
+msgid "label_event_url"
+msgstr "Adresa události"
+
+#. Default: "Whole Day"
+#: plone/app/event/at/content.py:103 plone/app/event/dx/behaviors.py:96
+msgid "label_event_whole_day"
+msgstr "Celý den"
+
+#. Default: "First Weekday"
+#: plone/app/event/interfaces.py:46
+msgid "label_first_weekday"
+msgstr "První den v týdnu"
+
+#: plone/app/event/browser/event_listing.pt:140
+msgid "label_phone"
+msgstr "Telefon"
+
+#. Default: "Web"
+#: plone/app/event/browser/event_listing.pt:118
+msgid "label_web"
+msgstr "Adresa"
+
+#. Default: "Day"
+#: plone/app/event/browser/event_listing.pt:39
+msgid "mode_day_link"
+msgstr "Den"
+
+#. Default: "Upcoming"
+#: plone/app/event/browser/event_listing.pt:27
+msgid "mode_future_link"
+msgstr "Nadcházející"
+
+#. Default: "Month"
+#: plone/app/event/browser/event_listing.pt:33
+msgid "mode_month_link"
+msgstr "Měsíc"
+
+#. Default: "Past"
+#: plone/app/event/browser/event_listing.pt:30
+msgid "mode_past_link"
+msgstr "Uskutečněné"
+
+#. Default: "Week"
+#: plone/app/event/browser/event_listing.pt:36
+msgid "mode_week_link"
+msgstr "Týden"
+
+#. Default: "Ical import settings saved."
+#: plone/app/event/ical/importer.py:319
+msgid "msg_ical_import_settings_saved"
+msgstr "Nastavení ical importu bylo uloženo"
+
+#. Default: "Next Day"
+#: plone/app/event/browser/event_listing.pt:71
+msgid "next_day_link"
+msgstr "Následující den"
+
+#. Default: "Next Month"
+#: plone/app/event/browser/event_listing.pt:57
+msgid "next_month_link"
+msgstr "Následující měsíc"
+
+#. Default: "Next Week"
+#: plone/app/event/browser/event_listing.pt:64
+msgid "next_week_link"
+msgstr "Následující týden"
+
+#. Default: "Past events"
+#: plone/app/event/browser/event_listing.py:227
+msgid "past_events"
+msgstr "Uskutečněné události"
+
+#. Default: "Select search base folder to search for events. This folder will also be used to link to in calendar searches. If empty, the whole site will be searched and the event listing view will be called on the site root."
+#: plone/app/event/portlets/portlet_calendar.py:42
+#: plone/app/event/portlets/portlet_events.py:43
+msgid "portlet_help_search_base"
+msgstr ""
+"Vyberte výchozí složku, kde budou vyhledávány události. Tato složka bude "
+"také použita jako odkaz ve vyhledávání z kalendáře. Pokud není složka "
+"uvedena, pak se budou vyhledávat události v celém portálu."
+
+#. Default: "Search base"
+#: plone/app/event/portlets/portlet_calendar.py:41
+#: plone/app/event/portlets/portlet_events.py:42
+msgid "portlet_label_search_base"
+msgstr "Výchozí složka vyhledávání"
+
+#. Default: "Previous Day"
+#: plone/app/event/browser/event_listing.pt:69
+msgid "prev_day_link"
+msgstr "Předchozí den"
+
+#. Default: "Previous Month"
+#: plone/app/event/browser/event_listing.pt:55
+msgid "prev_month_link"
+msgstr "Předchozí měsíc"
+
+#. Default: "Previous Week"
+#: plone/app/event/browser/event_listing.pt:62
+msgid "prev_week_link"
+msgstr "Předchozí týden"
+
+#. Default: "Event details"
+#: plone/app/event/browser/event_summary.pt:12
+msgid "summary_event_details"
+msgstr "Podrobnosti k události"
+
+#. Default: "Keep mine"
+#: plone/app/event/vocabularies.py:141
+msgid "sync_keep_mine"
+msgstr "Ponechat moje"
+
+#. Default: "Keep newer"
+#: plone/app/event/vocabularies.py:140
+msgid "sync_keep_newer"
+msgstr "Ponechat novější"
+
+#. Default: "Keep theirs"
+#: plone/app/event/vocabularies.py:142
+msgid "sync_keep_theirs"
+msgstr "Použít jejich"
+
+#. Default: "No Syncing"
+#: plone/app/event/vocabularies.py:143
+msgid "sync_none"
+msgstr "Nesynchronizovat"
+
+#. Default: "This Month"
+#: plone/app/event/browser/event_listing.pt:56
+msgid "this_month_link"
+msgstr "Tento měsíc"
+
+#. Default: "This Week"
+#: plone/app/event/browser/event_listing.pt:63
+msgid "this_week_link"
+msgstr "Tento týden"
+
+#. Default: "Download this event in iCal format"
+#: plone/app/event/browser/event_listing.pt:43
+#: plone/app/event/browser/event_summary.pt:100
+msgid "title_add_to_ical"
+msgstr "Stáhnout tuto událost ve formátu iCal"
+
+#. Default: "Event Listing Settings"
+#: plone/app/event/profiles/default/actions.xml
+msgid "title_event_listing_settings"
+msgstr "Nastavení přehledu událostí"
+
+#. Default: "Ical import"
+#: plone/app/event/profiles/default/actions.xml
+msgid "title_ical_import"
+msgstr "ical import"
+
+#. Default: "Disable icalendar import"
+#: plone/app/event/profiles/default/actions.xml
+msgid "title_ical_import_disable"
+msgstr "Zakázat icalendar import"
+
+#. Default: "Enable icalendar import"
+#: plone/app/event/profiles/default/actions.xml
+msgid "title_ical_import_enable"
+msgstr "Povolit icalendar import"
+
+#. Default: "Today"
+#: plone/app/event/browser/event_listing.pt:70
+msgid "today_link"
+msgstr "Dnes"
+
+#. Default: "Todays events"
+#: plone/app/event/browser/event_listing.py:237
+msgid "todays_events"
+msgstr "Dnešní události"
+
+#. Default: "Todays upcoming events"
+#: plone/app/event/browser/event_listing.py:233
+msgid "todays_upcoming_events"
+msgstr "Dnešní nadcházející události"
diff --git a/plone/app/event/locales/cs/LC_MESSAGES/plone.po b/plone/app/event/locales/cs/LC_MESSAGES/plone.po
new file mode 100644
index 0000000..af7a216
--- /dev/null
+++ b/plone/app/event/locales/cs/LC_MESSAGES/plone.po
@@ -0,0 +1,28 @@
+# --- PLEASE EDIT THE LINES BELOW CORRECTLY ---
+msgid ""
+msgstr ""
+"Project-Id-Version: plone\n"
+"POT-Creation-Date: 2013-04-19 23:38+0000\n"
+"PO-Revision-Date: 2014-08-24 08:28+0100\n"
+"Last-Translator: Radim Novotny <novotny.radim@gmail.com>\n"
+"Language-Team: Czech <cs@li.org>\n"
+"MIME-Version: 1.0\n"
+"Content-Type: text/plain; charset=UTF-8\n"
+"Content-Transfer-Encoding: 8bit\n"
+"Plural-Forms: nplurals=1; plural=0;\n"
+"Language-Code: cs\n"
+"Language-Name: Czech\n"
+"Preferred-Encodings: utf-8 latin1\n"
+"Domain: plone\n"
+"Language: cs\n"
+"X-Generator: Poedit 1.6.8\n"
+
+# TRANSLATE VIEW NAMES
+#
+#. Default: "Event Listing"
+msgid "event_listing"
+msgstr "Seznam událostí"
+
+#. Default: "Event"
+msgid "event_view"
+msgstr "Událost"
diff --git a/plone/app/event/locales/de/LC_MESSAGES/plone.app.event.po b/plone/app/event/locales/de/LC_MESSAGES/plone.app.event.po
index e8d3c9f..f23e4e4 100644
--- a/plone/app/event/locales/de/LC_MESSAGES/plone.app.event.po
+++ b/plone/app/event/locales/de/LC_MESSAGES/plone.app.event.po
@@ -549,7 +549,7 @@ msgstr "Nächster Tag"
 #. Default: "Next Month"
 #: plone/app/event/browser/event_listing.pt:57
 msgid "next_month_link"
-msgstr "Nächstes Monat"
+msgstr "Nächster Monat"
 
 #. Default: "Next Week"
 #: plone/app/event/browser/event_listing.pt:64
@@ -581,7 +581,7 @@ msgstr "Vorheriger Tag"
 #. Default: "Previous Month"
 #: plone/app/event/browser/event_listing.pt:55
 msgid "prev_month_link"
-msgstr "Vorheriges Monat"
+msgstr "Vorheriger Monat"
 
 #. Default: "Previous Week"
 #: plone/app/event/browser/event_listing.pt:62
@@ -616,7 +616,7 @@ msgstr "Keine Synchronisation"
 #. Default: "This Month"
 #: plone/app/event/browser/event_listing.pt:56
 msgid "this_month_link"
-msgstr "Dieses Monat"
+msgstr "Dieser Monat"
 
 #. Default: "This Week"
 #: plone/app/event/browser/event_listing.pt:63
diff --git a/plone/app/event/locales/es/LC_MESSAGES/plone.app.event.po b/plone/app/event/locales/es/LC_MESSAGES/plone.app.event.po
new file mode 100644
index 0000000..6fb63ba
--- /dev/null
+++ b/plone/app/event/locales/es/LC_MESSAGES/plone.app.event.po
@@ -0,0 +1,672 @@
+msgid ""
+msgstr ""
+"Project-Id-Version: plone.app.event\n"
+"POT-Creation-Date: 2014-04-11 09:40+0000\n"
+"PO-Revision-Date: 2014-10-20 16:11+0100\n"
+"Last-Translator: Corina Riba Santos <corina.riba@upcnet.es>\n"
+"Language-Team: Plone Team @ UPCnet <plone.team@upcnet.es>\n"
+"Language: es\n"
+"MIME-Version: 1.0\n"
+"Content-Type: text/plain; charset=UTF-8\n"
+"Content-Transfer-Encoding: 8bit\n"
+"Plural-Forms: nplurals=1; plural=0;\n"
+"Language-Code: es\n"
+"Language-Name: Spanish\n"
+"Preferred-Encodings: utf-8 latin1\n"
+"Domain: plone.app.event\n"
+
+#. Default: "Events in next 7 days."
+#: plone/app/event/browser/event_listing.py:240
+msgid "7days_events"
+msgstr "Eventos en los próximos 7 días"
+
+#: plone/app/event/portlets/portlet_calendar.py:217
+msgid "Add Calendar Portlet"
+msgstr "Añadir portlet de calendario"
+
+#: plone/app/event/portlets/portlet_events.py:130
+msgid "Add Events Portlet"
+msgstr "Agregar Portlet de Eventos"
+
+#: plone/app/event/browser/event_summary.pt:40
+msgid "All dates"
+msgstr "Todas las fechas"
+
+#: plone/app/event/interfaces.py:36
+msgid "Available timezones"
+msgstr "Zonas horarias disponibles"
+
+#: plone/app/event/portlets/portlet_calendar.py:59
+msgid "Calendar"
+msgstr "Calendario"
+
+#: plone/app/event/browser/controlpanel.pt:33
+msgid "Date/Time based on the current event settings:"
+msgstr "Fecha/hora basada en la configuración del evento actual"
+
+#: plone/app/event/portlets/portlet_calendar.py:229
+msgid "Edit Calendar Portlet"
+msgstr "Editar el portlet de calendario"
+
+#: plone/app/event/portlets/portlet_events.py:143
+msgid "Edit Events Portlet"
+msgstr "Editar Portlet de Eventos"
+
+#: plone/app/event/profiles/default/controlpanel.xml
+msgid "Event Settings"
+msgstr "Configuración del evento"
+
+#: plone/app/event/portlets/portlet_events.py:71
+msgid "Events"
+msgstr "Eventos"
+
+#: plone/app/event/portlets/portlet_events.py:26
+msgid "How many items to list."
+msgstr "Cuántos elementos a listar."
+
+#: plone/app/event/portlets/portlet_calendar.py:33
+#: plone/app/event/portlets/portlet_events.py:33
+msgid "Items in which workflow state to show."
+msgstr "Elementos a mostrar en su estado de flujo de trabajo."
+
+#: plone/app/event/portlets/portlet_events.py:25
+msgid "Number of items to display"
+msgstr "Número de elementos a mostrar"
+
+#: plone/app/event/interfaces.py:25
+msgid "Portal default timezone"
+msgstr "Zona horaria del sitio por defecto"
+
+#: plone/app/event/portlets/portlet_calendar.py:218
+msgid "This portlet displays events in a calendar."
+msgstr "Este portlet muestra los eventos de un calendario"
+
+#: plone/app/event/portlets/portlet_events.py:131
+msgid "This portlet lists upcoming Events."
+msgstr "Este portlet lista los Eventos próximos."
+
+#: plone/app/event/portlets/portlet_calendar.py:32
+#: plone/app/event/portlets/portlet_events.py:32
+msgid "Workflow state"
+msgstr "Estado de flujo de trabajo"
+
+#. Default: "All events"
+#: plone/app/event/browser/event_listing.py:224
+msgid "all_events"
+msgstr "Todos los eventos"
+
+#. Default: "Upcoming Events"
+#: plone/app/event/portlets/portlet_events.pt:10
+msgid "box_events"
+msgstr "Próximos eventos"
+
+#. Default: "Previous events…"
+#: plone/app/event/portlets/portlet_events.pt:50
+msgid "box_previous_events"
+msgstr "Eventos anteriores…"
+
+#. Default: "Upcoming events…"
+#: plone/app/event/portlets/portlet_events.pt:57
+msgid "box_upcoming_events"
+msgstr "Eventos próximos…"
+
+#. Default: "Attendees"
+#: plone/app/event/browser/event_summary.pt:82
+msgid "contact_attendees"
+msgstr "Asistentes"
+
+#. Default: "Contact Name"
+#: plone/app/event/browser/event_listing.pt:130
+#: plone/app/event/browser/event_summary.pt:69
+msgid "contact_name"
+msgstr "Nombre"
+
+#. Default: "Contact Phone"
+#: plone/app/event/browser/event_summary.pt:77
+msgid "contact_phone"
+msgstr "Teléfono de contacto"
+
+#. Default: "End date must be after start date."
+#: plone/app/event/at/content.py:575 plone/app/event/dx/behaviors.py:142
+msgid "error_end_must_be_after_start_date"
+msgstr "La fecha de finalización debe ser posterior a la fecha de inicio."
+
+#. Default: "Invalid start or end date"
+#: plone/app/event/dx/behaviors.py:62
+msgid "error_invalid_date"
+msgstr "Fecha de inicio o fin incorrecta"
+
+#. Default: "End date is not valid."
+#: plone/app/event/at/content.py:565
+msgid "error_invalid_end_date"
+msgstr "La fecha de finalización no es válida."
+
+#. Default: "Start date is not valid."
+#: plone/app/event/at/content.py:550
+msgid "error_invalid_start_date"
+msgstr "La fecha de inicio no es válida."
+
+#. Default: "Event"
+#: plone/app/event/browser/event_summary.pt:15
+#, fuzzy
+msgid "event_event"
+msgstr "Cuándo"
+
+#. Default: "Web"
+#: plone/app/event/browser/event_summary.pt:89
+msgid "event_url"
+msgstr "Enlace del evento"
+
+#. Default: "What"
+#: plone/app/event/browser/event_summary.pt:21
+msgid "event_what"
+msgstr "Qué"
+
+#. Default: "When"
+#: plone/app/event/browser/event_summary.pt:27
+msgid "event_when"
+msgstr "Cuándo"
+
+#. Default: "${startdate} to ${enddate}"
+#: plone/app/event/browser/formatted_date.pt:27
+msgid "event_when_differentday"
+msgstr "${startdate} a ${linebreak} ${enddate}"
+
+#: plone/app/event/browser/formatted_date.pt:20
+msgid "event_when_differentday_optional_word_between_date_and_time"
+msgstr " a "
+
+#. Default: "${date} from ${starttime} to ${endtime}"
+#: plone/app/event/browser/formatted_date.pt:71
+msgid "event_when_sameday"
+msgstr "${date} ${linebreak} de ${starttime} a ${endtime}"
+
+#. Default: "${date} from ${starttime}"
+#: plone/app/event/browser/formatted_date.pt:52
+msgid "event_when_sameday_openend"
+msgstr "${date} a ${starttime}"
+
+#. Default: "Where"
+#: plone/app/event/browser/event_summary.pt:62
+msgid "event_where"
+msgstr "Dónde"
+
+#. Default: "${from} until ${until}."
+#: plone/app/event/browser/event_listing.py:241
+msgid "events_from_until"
+msgstr "${from} hasta ${until}."
+
+#. Default: "Events in ${month} ${year}"
+#: plone/app/event/browser/event_listing.py:298
+msgid "events_in_month"
+msgstr "Eventos en ${month} ${year}"
+
+#. Default: "Events in week ${weeknumber}"
+#: plone/app/event/browser/event_listing.py:275
+msgid "events_in_week"
+msgstr "Eventos en la semana ${weeknumber}"
+
+#. Default: "Events on ${day}"
+#: plone/app/event/browser/event_listing.py:261
+msgid "events_on_day"
+msgstr "Eventos en ${day}"
+
+#. Default: "Visit external website"
+#: plone/app/event/browser/event_listing.pt:118
+#: plone/app/event/browser/event_summary.pt:91
+msgid "external_website"
+msgstr "Página web externa"
+
+#. Default: "Future events"
+#: plone/app/event/browser/event_listing.py:230
+msgid "future_events"
+msgstr "Próximos eventos"
+
+#. Default: "Add event to calendar"
+#: plone/app/event/browser/event_summary.pt:97
+msgid "heading_add_to_calendar"
+msgstr "Agregar evento al calendario"
+
+#. Default: "The timezones, which should be available for the portal. Can be set for users and events"
+#: plone/app/event/interfaces.py:37
+msgid "help_available_timezones"
+msgstr ""
+"Zonas horarias disponibles para este sitio. Puede ser configurado por los "
+"usuariios o los eventos."
+
+#. Default: "Search events in current folder only."
+#: plone/app/event/browser/event_listing.py:446
+msgid "help_current_folder"
+msgstr "Buscar eventos solo en la carpeta actual"
+
+#: plone/app/event/at/content.py:302
+msgid "help_event_announcement"
+msgstr ""
+
+#. Default: "List of attendees."
+#: plone/app/event/at/content.py:199 plone/app/event/dx/behaviors.py:235
+msgid "help_event_attendees"
+msgstr "Lista de asistentes"
+
+#. Default: "Email address to contact about this event."
+#: plone/app/event/at/content.py:236 plone/app/event/dx/behaviors.py:267
+msgid "help_event_contact_email"
+msgstr "Dirección de correo de contacto de este evento"
+
+#. Default: "Name of a person to contact about this event."
+#: plone/app/event/at/content.py:217 plone/app/event/dx/behaviors.py:255
+msgid "help_event_contact_name"
+msgstr "Persona de contacto responsable de este evento "
+
+#. Default: "Phone number to contact about this event."
+#: plone/app/event/at/content.py:255 plone/app/event/dx/behaviors.py:279
+msgid "help_event_contact_phone"
+msgstr "Número de teléfono de contacto de este evento"
+
+#. Default: "Date and Time, when the event ends."
+#: plone/app/event/at/content.py:87 plone/app/event/dx/behaviors.py:88
+msgid "help_event_end"
+msgstr "Fecha y hora a la que finaliza el evento"
+
+#. Default: "Settings for the event listing view."
+#: plone/app/event/profiles/default/actions.xml
+msgid "help_event_listing_settings"
+msgstr "Configuración de la vista de eventos"
+
+#. Default: "Location of the event."
+#: plone/app/event/at/content.py:182 plone/app/event/dx/behaviors.py:219
+msgid "help_event_location"
+msgstr "Ubicación del evento"
+
+#. Default: "This event is open ended."
+#: plone/app/event/at/content.py:124 plone/app/event/dx/behaviors.py:112
+msgid "help_event_open_end"
+msgstr "Este evento es abierto"
+
+#. Default: "Define the event recurrence rule."
+#: plone/app/event/at/content.py:161 plone/app/event/dx/behaviors.py:189
+msgid "help_event_recurrence"
+msgstr "Introduzca las reglas de periodicidad, una por línea."
+
+#. Default: "Event related settings like timezone, etc."
+#: plone/app/event/browser/controlpanel.py:15
+msgid "help_event_settings"
+msgstr "Ajustes relativos al evento como zona horaria, etc."
+
+#. Default: "Date and Time, when the event begins."
+#: plone/app/event/at/content.py:65 plone/app/event/dx/behaviors.py:76
+msgid "help_event_start"
+msgstr "Fecha y hora en la que empieza el evento"
+
+#. Default: "Select the Timezone, where this event happens."
+#: plone/app/event/at/content.py:144 plone/app/event/dx/behaviors.py:125
+msgid "help_event_timezone"
+msgstr "Seleccionar la zona horaria en la que se celebra el evento"
+
+#. Default: "Web address with more info about the event. Add http:// for external links."
+#: plone/app/event/at/content.py:274 plone/app/event/dx/behaviors.py:291
+msgid "help_event_url"
+msgstr ""
+"Dirección web con más información sobre el evento. Agregue http:// para los "
+"enlaces externos."
+
+#. Default: "Event lasts whole day."
+#: plone/app/event/at/content.py:107 plone/app/event/dx/behaviors.py:100
+msgid "help_event_whole_day"
+msgstr "El evento dura todo el día"
+
+#. Default: "First day in the Week."
+#: plone/app/event/interfaces.py:47
+msgid "help_first_weekday"
+msgstr "Primer día de la semana"
+
+#. Default: "Import Events from icalendar files."
+#: plone/app/event/profiles/default/actions.xml
+msgid "help_ical_import"
+msgstr "Importar eventos de un fichero iCalendar"
+
+#. Default: "Click to disable the icalendar import feature on this context."
+#: plone/app/event/profiles/default/actions.xml
+msgid "help_ical_import_disable"
+msgstr ""
+"Hacer clic para desactivar la importación desde archivos iCalendar en este "
+"contexto"
+
+#. Default: "Click to enable the icalendar import feature on this context."
+#: plone/app/event/profiles/default/actions.xml
+msgid "help_ical_import_enable"
+msgstr ""
+"Hacer clic para habilitar la impotación de archivos iCalendar en este cotexto"
+
+#. Default: "The timezone setting of the portal. Users can set their own timezone, if available timezones are defined."
+#: plone/app/event/interfaces.py:26
+msgid "help_portal_timezone"
+msgstr ""
+"configuración de la zona horaria del sitio. Los usuarios pueden configurar "
+"su propia zona horaria, si hay zonas horarias disponibles definidas"
+
+#. Default: "Content type of the event, which is created when importing icalendar resources."
+#: plone/app/event/ical/importer.py:232
+msgid "ical_import_event_type_desc"
+msgstr ""
+"Tipo de contenido del evento que se crea al importar archivos iCalendar"
+
+#. Default: "Event Type"
+#: plone/app/event/ical/importer.py:231
+msgid "ical_import_event_type_title"
+msgstr "Tipo de evento"
+
+#. Default: "Icalendar resource file, if no URL is given."
+#: plone/app/event/ical/importer.py:250
+msgid "ical_import_file_desc"
+msgstr " Archivo iCalendar, si no se proporciona una URL."
+
+#. Default: "Icalendar File"
+#: plone/app/event/ical/importer.py:249
+msgid "ical_import_file_title"
+msgstr "Archivo iCalendar"
+
+#. Default: "${num} events imported from ${filename}"
+#: plone/app/event/ical/importer.py:357
+msgid "ical_import_imported"
+msgstr "${num} eventos importados de ${filename}"
+
+#. Default: "Please provide either a icalendar ics file or a URL to a file."
+#: plone/app/event/ical/importer.py:364
+msgid "ical_import_no_ics"
+msgstr ""
+"Por favor, proporcione un archivo iCalendar (ics) o una URL a un archivo"
+
+#. Default: "Defines how to synchronize:\n1) \"Keep newer\": Import, if the imported event is modified after the existing\n   one.\n2) \"Keep mine\": On conflicts, just do nothing.\n3) \"Keep theirs\": On conflicts, update the existing event with the external\n   one.\n4) \"No Syncing\": Don't synchronize but import events and create new ones, even\n    if they already exist. For each one, create a new sync_uid."
+#: plone/app/event/ical/importer.py:261
+msgid "ical_import_sync_strategy_desc"
+msgstr ""
+"Definir como sincronizar: :\n"
+"1) \"Mantener los nuevos\": Importa si los eventos importados han sido "
+"modificados después de los existentes.\n"
+"2) \"Mantener los míos\": Si hay conflicto, no hagas nada.\n"
+"3) \"Manten los suyos\": Si hay conflicto, actualiza los eventos existentes "
+"con los externos.\n"
+"4) \"No sincronices\": No sincronices, pero importa los eventos existentes y "
+"crea nuevos, incluso si ya existen. Para cada uno de ellos crea un nuevo "
+"sync_uid."
+
+#. Default: "Synchronization Strategy"
+#: plone/app/event/ical/importer.py:257
+msgid "ical_import_sync_strategy_title"
+msgstr "Estrategia de sincronización"
+
+#. Default: "URL to an external icalendar resource file."
+#: plone/app/event/ical/importer.py:242
+msgid "ical_import_url_desc"
+msgstr "URL del archivo del iCalendar externo"
+
+#. Default: "Icalendar URL"
+#: plone/app/event/ical/importer.py:241
+msgid "ical_import_url_title"
+msgstr "URL del iCalendar"
+
+#. Default: "iCal"
+#: plone/app/event/browser/event_listing.pt:48
+#: plone/app/event/browser/event_summary.pt:106
+msgid "label_add_to_ical"
+msgstr "iCal"
+
+#. Default: "Current folder"
+#: plone/app/event/browser/event_listing.py:445
+msgid "label_current_folder"
+msgstr "Carpeta actual"
+
+#. Default: "Email"
+#: plone/app/event/browser/event_listing.pt:128
+msgid "label_email"
+msgstr "Correo"
+
+#. Default: "Event body text"
+#: plone/app/event/at/content.py:298
+msgid "label_event_announcement"
+msgstr "Cuerpo del texto del evento"
+
+#. Default: "Attendees"
+#: plone/app/event/at/content.py:195 plone/app/event/dx/behaviors.py:231
+msgid "label_event_attendees"
+msgstr "Asistentes"
+
+#. Default: "Contact E-mail"
+#: plone/app/event/at/content.py:232 plone/app/event/dx/behaviors.py:263
+msgid "label_event_contact_email"
+msgstr "Email de contacto"
+
+#. Default: "Contact Name"
+#: plone/app/event/at/content.py:213 plone/app/event/dx/behaviors.py:251
+msgid "label_event_contact_name"
+msgstr "Nombre de contacto"
+
+#. Default: "Contact Phone"
+#: plone/app/event/at/content.py:251 plone/app/event/dx/behaviors.py:275
+msgid "label_event_contact_phone"
+msgstr "Teléfono de contacto"
+
+#. Default: "Event Ends"
+#: plone/app/event/at/content.py:83 plone/app/event/dx/behaviors.py:84
+msgid "label_event_end"
+msgstr "Fin del Evento"
+
+#. Default: "Location"
+#: plone/app/event/at/content.py:178 plone/app/event/dx/behaviors.py:215
+msgid "label_event_location"
+msgstr "Lugar del Evento"
+
+#. Default: "Open End"
+#: plone/app/event/at/content.py:120 plone/app/event/dx/behaviors.py:108
+msgid "label_event_open_end"
+msgstr "Finalización abierta"
+
+#. Default: "Recurrence"
+#: plone/app/event/at/content.py:157 plone/app/event/dx/behaviors.py:185
+msgid "label_event_recurrence"
+msgstr "Periodicidad del Evento"
+
+#. Default: "Event settings"
+#: plone/app/event/browser/controlpanel.py:14
+msgid "label_event_settings"
+msgstr "Configuración del evento"
+
+#. Default: "Event Starts"
+#: plone/app/event/at/content.py:61 plone/app/event/dx/behaviors.py:72
+msgid "label_event_start"
+msgstr "Inicio del Evento"
+
+#. Default: "Timezone"
+#: plone/app/event/at/content.py:140 plone/app/event/dx/behaviors.py:121
+msgid "label_event_timezone"
+msgstr "Zona horaria"
+
+#. Default: "Event URL"
+#: plone/app/event/at/content.py:270 plone/app/event/dx/behaviors.py:287
+msgid "label_event_url"
+msgstr "URL del Evento"
+
+#. Default: "Whole Day"
+#: plone/app/event/at/content.py:103 plone/app/event/dx/behaviors.py:96
+msgid "label_event_whole_day"
+msgstr "Evento de día completo"
+
+#. Default: "First Weekday"
+#: plone/app/event/interfaces.py:46
+msgid "label_first_weekday"
+msgstr "Primer día de la semana"
+
+#: plone/app/event/browser/event_listing.pt:140
+msgid "label_phone"
+msgstr "Teléfono"
+
+#. Default: "Web"
+#: plone/app/event/browser/event_listing.pt:118
+msgid "label_web"
+msgstr "Web"
+
+#. Default: "Day"
+#: plone/app/event/browser/event_listing.pt:39
+msgid "mode_day_link"
+msgstr "Día"
+
+#. Default: "Upcoming"
+#: plone/app/event/browser/event_listing.pt:27
+msgid "mode_future_link"
+msgstr "Próximo"
+
+#. Default: "Month"
+#: plone/app/event/browser/event_listing.pt:33
+msgid "mode_month_link"
+msgstr "Mes"
+
+#. Default: "Past"
+#: plone/app/event/browser/event_listing.pt:30
+msgid "mode_past_link"
+msgstr "Pasado"
+
+#. Default: "Week"
+#: plone/app/event/browser/event_listing.pt:36
+msgid "mode_week_link"
+msgstr "Semana"
+
+#. Default: "Ical import settings saved."
+#: plone/app/event/ical/importer.py:319
+msgid "msg_ical_import_settings_saved"
+msgstr "Ajustes de importación de iCal guardados"
+
+#. Default: "Next Day"
+#: plone/app/event/browser/event_listing.pt:71
+msgid "next_day_link"
+msgstr "Próximo día"
+
+#. Default: "Next Month"
+#: plone/app/event/browser/event_listing.pt:57
+msgid "next_month_link"
+msgstr "Próximo mes"
+
+#. Default: "Next Week"
+#: plone/app/event/browser/event_listing.pt:64
+msgid "next_week_link"
+msgstr "Próxima semana"
+
+#. Default: "Past events"
+#: plone/app/event/browser/event_listing.py:227
+msgid "past_events"
+msgstr "Eventos pasados"
+
+#. Default: "Select search base folder to search for events. This folder will also be used to link to in calendar searches. If empty, the whole site will be searched and the event listing view will be called on the site root."
+#: plone/app/event/portlets/portlet_calendar.py:42
+#: plone/app/event/portlets/portlet_events.py:43
+msgid "portlet_help_search_base"
+msgstr ""
+"Seleccionar la carpeta dónde buscar los eventos. Esta carpeta será la que se "
+"use para enlazar las búsquedas. Si no se especifica, la búsqueda se "
+"realizará en todo el sitio y la lista de eventos se llamará desde la raíz. "
+
+#. Default: "Search base"
+#: plone/app/event/portlets/portlet_calendar.py:41
+#: plone/app/event/portlets/portlet_events.py:42
+msgid "portlet_label_search_base"
+msgstr "Cerca"
+
+#. Default: "Previous Day"
+#: plone/app/event/browser/event_listing.pt:69
+msgid "prev_day_link"
+msgstr "Día anterior"
+
+#. Default: "Previous Month"
+#: plone/app/event/browser/event_listing.pt:55
+msgid "prev_month_link"
+msgstr "Mes anterior"
+
+#. Default: "Previous Week"
+#: plone/app/event/browser/event_listing.pt:62
+msgid "prev_week_link"
+msgstr "Semana anterior"
+
+#. Default: "Event details"
+#: plone/app/event/browser/event_summary.pt:12
+msgid "summary_event_details"
+msgstr "Detalles del evento"
+
+#. Default: "Keep mine"
+#: plone/app/event/vocabularies.py:141
+msgid "sync_keep_mine"
+msgstr "Manten los míos"
+
+#. Default: "Keep newer"
+#: plone/app/event/vocabularies.py:140
+msgid "sync_keep_newer"
+msgstr "Manten los nuevos"
+
+#. Default: "Keep theirs"
+#: plone/app/event/vocabularies.py:142
+msgid "sync_keep_theirs"
+msgstr "Manten los suyos"
+
+#. Default: "No Syncing"
+#: plone/app/event/vocabularies.py:143
+msgid "sync_none"
+msgstr "No sincronizar"
+
+#. Default: "This Month"
+#: plone/app/event/browser/event_listing.pt:56
+msgid "this_month_link"
+msgstr "Este mes"
+
+#. Default: "This Week"
+#: plone/app/event/browser/event_listing.pt:63
+msgid "this_week_link"
+msgstr "Esta semana"
+
+#. Default: "Download this event in iCal format"
+#: plone/app/event/browser/event_listing.pt:43
+#: plone/app/event/browser/event_summary.pt:100
+msgid "title_add_to_ical"
+msgstr "Descargar este evento en formato iCal"
+
+#. Default: "Event Listing Settings"
+#: plone/app/event/profiles/default/actions.xml
+msgid "title_event_listing_settings"
+msgstr "Configuración del listado de eventos"
+
+#. Default: "Ical import"
+#: plone/app/event/profiles/default/actions.xml
+msgid "title_ical_import"
+msgstr "Importar iCal"
+
+#. Default: "Disable icalendar import"
+#: plone/app/event/profiles/default/actions.xml
+msgid "title_ical_import_disable"
+msgstr "Deshabilitar la importación de iCal"
+
+#. Default: "Enable icalendar import"
+#: plone/app/event/profiles/default/actions.xml
+msgid "title_ical_import_enable"
+msgstr "Habilitar la importación de iCal"
+
+#. Default: "Today"
+#: plone/app/event/browser/event_listing.pt:70
+msgid "today_link"
+msgstr "Hoy"
+
+#. Default: "Todays events"
+#: plone/app/event/browser/event_listing.py:237
+msgid "todays_events"
+msgstr "Eventos de hoy"
+
+#. Default: "Todays upcoming events"
+#: plone/app/event/browser/event_listing.py:233
+msgid "todays_upcoming_events"
+msgstr "Próximos eventos de hoy"
+
+#~ msgid "Go to the original Event."
+#~ msgstr "Ir al evento original"
+
+#~ msgid "More occurrences of this event:"
+#~ msgstr "Más ocurrencias de este evento:"
+
+#~ msgid "This event is part of a recurring Event."
+#~ msgstr "Este evento es parte de un evento periódico"
diff --git a/plone/app/event/locales/es/LC_MESSAGES/plone.po b/plone/app/event/locales/es/LC_MESSAGES/plone.po
new file mode 100644
index 0000000..31db314
--- /dev/null
+++ b/plone/app/event/locales/es/LC_MESSAGES/plone.po
@@ -0,0 +1,29 @@
+# Translation of plone.app.event.pot to Spanish
+#
+msgid ""
+msgstr ""
+"Project-Id-Version: \n"
+"POT-Creation-Date: 2013-04-19 23:38+0000\n"
+"PO-Revision-Date: 2014-10-20 16:20+0100\n"
+"Last-Translator: FULL NAME <EMAIL@ADDRESS>\n"
+"Language-Team: LANGUAGE <LL@li.org>\n"
+"MIME-Version: 1.0\n"
+"Content-Type: text/plain; charset=utf-8\n"
+"Content-Transfer-Encoding: 8bit\n"
+"Plural-Forms: nplurals=2; plural=n!=1;\n"
+"Language-Code: es\n"
+"Language-Name: Spanish\n"
+"Preferred-Encodings: utf-8 latin1\n"
+"Domain: plone\n"
+"Language: es\n"
+"X-Generator: Poedit 1.6.10\n"
+
+# TRANSLATE VIEW NAMES
+#
+#. Default: "Event Listing"
+msgid "event_listing"
+msgstr "Lista de eventos"
+
+#. Default: "Event"
+msgid "event_view"
+msgstr "Evento"
diff --git a/plone/app/event/portlets/configure.zcml b/plone/app/event/portlets/configure.zcml
index 30c6979..40c0fd1 100644
--- a/plone/app/event/portlets/configure.zcml
+++ b/plone/app/event/portlets/configure.zcml
@@ -1,16 +1,8 @@
 <configure xmlns="http://namespaces.zope.org/zope"
-    xmlns:browser="http://namespaces.zope.org/browser"
     xmlns:plone="http://namespaces.plone.org/plone"
     xmlns:zcml="http://namespaces.zope.org/zcml"
     i18n_domain="plone.app.event">
 
-    <browser:resource
-        name="plone.app.event.portlet_calendar.js"
-        file="portlet_calendar.js"
-        permission="zope.Public"
-        layer="..interfaces.IBrowserLayer"
-        />
-
     <plone:portlet
         name="portlets.Calendar"
         interface=".portlet_calendar.ICalendarPortlet"
diff --git a/plone/app/event/portlets/portlet_calendar.js b/plone/app/event/portlets/portlet_calendar.js
deleted file mode 100644
index d50b880..0000000
--- a/plone/app/event/portlets/portlet_calendar.js
+++ /dev/null
@@ -1,45 +0,0 @@
-/*jslint browser: true*/
-/*global $, jQuery, plone, portal_url */
-
-(function ($) {
-
-    function load_portlet_calendar(event, elem) {
-        // depends on plone_javascript_variables.js for portal_url
-        event.preventDefault();
-        var pw, elem_data, portlethash, url;
-        pw = elem.closest('.portletWrapper');
-        elem_data = elem.data();
-        portlethash = pw.attr('id');
-        portlethash = portlethash.substring(15, portlethash.length);
-        url = portal_url +
-              '/@@render-portlet?portlethash=' + portlethash +
-              '&year=' + elem_data.year +
-              '&month=' + elem_data.month;
-        $.ajax({
-            url: url,
-            success: function (data) {
-                pw.html(data);
-                rebind_portlet_calendar();
-            }
-        });
-    }
-
-    function rebind_portlet_calendar() {
-        // ajaxify each portletCalendar
-        $('.portletCalendar a.calendarNext').click(function (event) {
-            load_portlet_calendar(event, $(this));
-        });
-        $('.portletCalendar a.calendarPrevious').click(function (event) {
-            load_portlet_calendar(event, $(this));
-        });
-        $('.portletCalendar dd a[title]').tooltip({
-            offset: [-10, 0],
-            tipClass: 'pae_calendar_tooltip'
-        });
-    }
-
-    $(document).ready(function () {
-        rebind_portlet_calendar();
-    });
-
-}(jQuery));
diff --git a/plone/app/event/portlets/portlet_calendar.pt b/plone/app/event/portlets/portlet_calendar.pt
index b7ba183..f17f21d 100644
--- a/plone/app/event/portlets/portlet_calendar.pt
+++ b/plone/app/event/portlets/portlet_calendar.pt
@@ -3,19 +3,19 @@
       xmlns:i18n="http://xml.zope.org/namespaces/i18n"
       i18n:domain="plone"
       tal:omit-tag="">
-<section class="portlet portletCalendar"
+<section class="portlet portletCalendar" role="section"
     tal:define="navigation_root_url context/@@plone_portal_state/navigation_root_url;
                 month view/month;
                 year view/year;">
 
   <header class="portletHeader">
-    <span class="portletTopLeft"></span>
-    <a href="#" rel="nofollow" class="calendarPrevious" title="Previous month"
+    <a href="#" rel="nofollow" class="calendarPrevious pat-contentloader" title="Previous month"
         tal:define="prev_month view/prev_month;
                     prev_year view/prev_year"
         tal:attributes="href view/prev_query;
                         data-year prev_year;
-                        data-month prev_month;"
+                        data-month prev_month;
+                        data-pat-contentloader python: view.nav_pattern_options(prev_year, prev_month)"
         i18n:attributes="title title_previous_month;">&laquo;</a>
 
     <span i18n:translate="" tal:omit-tag="">
@@ -27,17 +27,17 @@
           tal:omit-tag="">year</span>
     </span>
 
-    <a href="#" rel="nofollow" class="calendarNext" title="Next month"
+    <a href="#" rel="nofollow" class="calendarNext pat-contentloader" title="Next month"
          tal:define="next_month view/next_month;
                      next_year view/next_year"
          tal:attributes="href view/next_query;
                          data-year next_year;
-                         data-month next_month;"
+                         data-month next_month;
+                         data-pat-contentloader python: view.nav_pattern_options(next_year, next_month)"
          i18n:attributes="title title_next_month;">&raquo;</a>
-    <span class="portletTopRight"></span>
   </header>
 
-  <div class="portletContent">
+  <section class="portletContent">
     <table class="ploneCalendar" summary="Calendar"
         i18n:attributes="summary summary_calendar">
       <caption class="hiddenStructure"
@@ -57,14 +57,19 @@
                           events day/events;
                           limit python:len(events) if events is not None else 0"
               tal:attributes="class python:u'event%s%s%s%s' %
-                          ((today and ' today' or ''),
-                          (next_month and ' cal_next_month' or ''),
-                          (prev_month and ' cal_prev_month' or ''),
-                          (events and ' cal_has_events' or ''))">
+                          ((' today' if today else ''),
+                          (' cal_next_month' if next_month else ''),
+                          (' cal_prev_month' if prev_month else ''),
+                          (' cal_has_events' if events else ''))">
+            <tal:comment tal:condition="nothing">Add span or a to style td children and not td</tal:comment>
+            <span
+                tal:condition="not:events"
+                tal:content="day/day"></span>
             <a href=""
-                tal:omit-tag="not:events"
+                tal:condition="events"
                 tal:attributes="href python:view.date_events_url(day['date_string']);
                                 title day/events_string;"
+                
                 tal:content="day/day">31</a>
 
           </td>
@@ -72,8 +77,6 @@
         </tr>
       </tbody>
     </table>
-    <span class="portletBottomLeft"></span>
-    <span class="portletBottomRight"></span>
-  </div>
+  </section>
 </section>
 </html>
diff --git a/plone/app/event/portlets/portlet_calendar.py b/plone/app/event/portlets/portlet_calendar.py
index f6d997b..4dda7bb 100644
--- a/plone/app/event/portlets/portlet_calendar.py
+++ b/plone/app/event/portlets/portlet_calendar.py
@@ -16,10 +16,12 @@
 from plone.portlets.interfaces import IPortletDataProvider
 from zExceptions import NotFound
 from zope import schema
+from zope.component.hooks import getSite
 from zope.i18nmessageid import MessageFactory
-from zope.interface import implements
+from zope.interface import implementer
 
 import calendar
+import json
 
 
 PLMF = MessageFactory('plonelocales')
@@ -52,8 +54,8 @@ class ICalendarPortlet(IPortletDataProvider):
     )
 
 
+@implementer(ICalendarPortlet)
 class Assignment(base.Assignment):
-    implements(ICalendarPortlet)
     title = _(u'Calendar')
 
     # reduce upgrade pain
@@ -209,9 +211,9 @@ def cal_data(self):
                     events_string += base % (
                         accessor.url,
                         accessor.title,
-                        not whole_day and u' %s' % time or u'',
-                        not whole_day and location and u', ' or u'',
-                        location and u' %s' % location or u'')
+                        u' %s' % time if not whole_day else u'',
+                        u', ' if not whole_day and location else u'',
+                        u' %s' % location if location else u'')
 
             caldata[-1].append(
                 {'date': dat,
@@ -227,6 +229,21 @@ def cal_data(self):
                  'events': date_events})
         return caldata
 
+    def nav_pattern_options(self, year, month):
+        return json.dumps({
+            'url': '%s/@@render-portlet?portlethash=%s&year=%s&month=%s' % (
+                getSite().absolute_url(),
+                self.hash,
+                year, month),
+            'target': '#portletwrapper-%s > *' % self.hash
+        })
+
+    @property
+    def hash(self):
+        return self.request.form.get(
+            'portlethash',
+            getattr(self, '__portlet_metadata__', {}).get('hash', ''))
+
 
 class AddForm(base.AddForm):
     schema = ICalendarPortlet
diff --git a/plone/app/event/portlets/portlet_events.pt b/plone/app/event/portlets/portlet_events.pt
index 3db4760..8c83666 100644
--- a/plone/app/event/portlets/portlet_events.pt
+++ b/plone/app/event/portlets/portlet_events.pt
@@ -6,7 +6,6 @@
     i18n:domain="plone.app.event">
 
   <header class="portletHeader">
-    <span class="portletTopLeft"></span>
     <a href="" class="tile"
         tal:define="next_link view/next_url"
         tal:omit-tag="not:next_link"
@@ -14,34 +13,36 @@
         i18n:translate="box_events">
         Upcoming Events
     </a>
-    <span class="portletTopRight"></span>
   </header>
-
-  <ul class="portletContent">
-    <tal:events repeat="item view/events">
-    <li class="portletItem"
-        tal:define="oddrow repeat/item/odd"
-        tal:attributes="class python:oddrow and 'portletItem even' or 'portletItem odd'">
-      <a href="#" class="tile"
-          tal:attributes="href item/url;
-                          title item/description">
-        <span tal:replace="item/title">Some Event</span>
-      </a>
-      <span class="portletItemDetails">
-        <tal:date replace="structure python:view.formatted_date(item)" />
-        <span tal:define="tz item/timezone" tal:condition="tz">(<tal:tzname replace="tz">TZ</tal:tzname>)</span>
-        <span class="location"
-            tal:define="location python:view.get_location(item)"
-            tal:condition="location"> &mdash;
-          <tal:location content="structure location">Location</tal:location>
+  <section class="portletContent">
+    <ul>
+      <tal:events repeat="item view/events">
+      <li class="portletItem"
+          tal:define="oddrow repeat/item/odd"
+          tal:attributes="class python:'portletItem odd' if oddrow else 'portletItem even'">
+        <a href="#" class="tile"
+            tal:attributes="href item/url;
+                            title item/description">
+          <span tal:replace="item/title">Some Event</span>
+        </a>
+        <span class="portletItemDetails">
+          <tal:date replace="structure python:view.formatted_date(item)" />
+          <span class="timezone"
+              tal:define="tz item/timezone"
+              tal:condition="tz">
+            (<tal:tzname replace="tz">TZ</tal:tzname>)
+          </span>
+          <span class="location"
+              tal:condition="item/location"> &mdash;
+            <tal:location content="structure item/location">Location</tal:location>
+          </span>
         </span>
-      </span>
-    </li>
-    </tal:events>
-  </ul>
-
+      </li>
+      </tal:events>
+    </ul>
+  </section>
   <footer class="portletFooter">
-    <a class="tile"
+    <a class="tile previous-events"
         tal:define="prev_link view/prev_url"
         tal:condition="prev_link"
         tal:attributes="href prev_link"
@@ -49,14 +50,12 @@
       Previous events&hellip;
     </a>
 
-    <a class="tile"
+    <a class="tile upcoming-events"
         tal:define="next_link view/next_url"
         tal:attributes="href next_link"
         i18n:translate="box_upcoming_events">
       Upcoming events&hellip;
     </a>
-    <span class="portletBottomLeft"></span>
-    <span class="portletBottomRight"></span>
   </footer>
 </section>
 </html>
diff --git a/plone/app/event/portlets/portlet_events.py b/plone/app/event/portlets/portlet_events.py
index ad9c597..a29d9ea 100644
--- a/plone/app/event/portlets/portlet_events.py
+++ b/plone/app/event/portlets/portlet_events.py
@@ -4,7 +4,6 @@
 from plone.app.event.base import RET_MODE_ACCESSORS
 from plone.app.event.base import get_events
 from plone.app.event.base import localized_now
-from plone.app.event.browser.event_view import get_location
 from plone.app.event.portlets import get_calendar_url
 from plone.app.portlets import PloneMessageFactory as _
 from plone.app.portlets.portlets import base
@@ -18,7 +17,7 @@
 from zope import schema
 from zope.component import getMultiAdapter
 from zope.contentprovider.interfaces import IContentProvider
-from zope.interface import implements
+from zope.interface import implementer
 
 
 class IEventsPortlet(IPortletDataProvider):
@@ -54,8 +53,8 @@ class IEventsPortlet(IPortletDataProvider):
     )
 
 
+@implementer(IEventsPortlet)
 class Assignment(base.Assignment):
-    implements(IEventsPortlet)
 
     # reduce upgrade pain
     search_base = None
@@ -140,9 +139,6 @@ def formatted_date(self, event):
         )
         return provider(event)
 
-    def get_location(self, event):
-        return get_location(event)
-
 
 class AddForm(base.AddForm):
     schema = IEventsPortlet
diff --git a/plone/app/event/profiles/default/actions.xml b/plone/app/event/profiles/default/actions.xml
index 5ba4ac7..3ce0e03 100644
--- a/plone/app/event/profiles/default/actions.xml
+++ b/plone/app/event/profiles/default/actions.xml
@@ -3,17 +3,6 @@
    xmlns:i18n="http://xml.zope.org/namespaces/i18n">
 
  <object name="object" meta_type="CMF Action Category">
-  <object name="event_listing_settings" meta_type="CMF Action" i18n:domain="plone.app.event">
-   <property name="title" i18n:translate="title_event_listing_settings">Event Listing Settings</property>
-   <property name="description" i18n:translate="help_event_listing_settings">Settings for the event listing view.</property>
-   <property name="url_expr">string:${object_url}/@@event_listing_settings</property>
-   <property name="icon_expr"></property>
-   <property name="available_expr">python:object.defaultView()=='event_listing' and object.portal_type not in ('Collection', 'Topic')</property>
-   <property name="permissions">
-    <element value="Manage properties"/>
-   </property>
-   <property name="visible">True</property>
-  </object>
   <object name="ical_import_settings" meta_type="CMF Action" i18n:domain="plone.app.event">
    <property name="title" i18n:translate="title_ical_import">Ical import</property>
    <property name="description" i18n:translate="help_ical_import">Import Events from icalendar files.</property>
diff --git a/plone/app/event/profiles/default/jsregistry.xml b/plone/app/event/profiles/default/jsregistry.xml
index 49b8dc6..2704c91 100644
--- a/plone/app/event/profiles/default/jsregistry.xml
+++ b/plone/app/event/profiles/default/jsregistry.xml
@@ -10,13 +10,4 @@
       inline="False"
       />
 
-  <javascript
-      cacheable="True"
-      compression="safe"
-      cookable="True"
-      enabled="True"
-      id="++resource++plone.app.event.portlet_calendar.js"
-      inline="False"
-      />
-
 </object>
diff --git a/plone/app/event/profiles/default/metadata.xml b/plone/app/event/profiles/default/metadata.xml
index 0999b8c..0508d3d 100644
--- a/plone/app/event/profiles/default/metadata.xml
+++ b/plone/app/event/profiles/default/metadata.xml
@@ -1,6 +1,6 @@
 <?xml version="1.0"?>
 <metadata>
-  <version>14</version>
+  <version>15</version>
   <dependencies>
     <dependency>profile-plone.app.registry:default</dependency>
     <dependency>profile-plone.app.widgets:default</dependency>
diff --git a/plone/app/event/profiles/default/types.xml b/plone/app/event/profiles/default/types.xml
index 296c504..f62133b 100644
--- a/plone/app/event/profiles/default/types.xml
+++ b/plone/app/event/profiles/default/types.xml
@@ -1,11 +1,6 @@
 <?xml version="1.0" encoding="UTF-8"?>
 <object name="portal_types" meta_type="Plone Types Tool">
-  <object name="Plone Site"
-    meta_type="Factory-based Type Information with dynamic views"/>
-  <object name="Folder"
-    meta_type="Factory-based Type Information with dynamic views"/>
-  <object name="Collection"
-    meta_type="Factory-based Type Information with dynamic views"/>
-  <object name="Topic"
-    meta_type="Factory-based Type Information with dynamic views"/>
+  <object name="Plone Site" meta_type="Factory-based Type Information with dynamic views"/>
+  <object name="Folder"     meta_type="Dexterity FTI"/>
+  <object name="Collection" meta_type="Dexterity FTI"/>
 </object>
diff --git a/plone/app/event/profiles/default/types/Topic.xml b/plone/app/event/profiles/default/types/Topic.xml
deleted file mode 100644
index d726815..0000000
--- a/plone/app/event/profiles/default/types/Topic.xml
+++ /dev/null
@@ -1,6 +0,0 @@
-<?xml version="1.0" encoding="UTF-8"?>
-<object name="Topic">
- <property name="view_methods" purge="False">
-  <element value="event_listing"/>
- </property>
-</object>
diff --git a/plone/app/event/recurrence.py b/plone/app/event/recurrence.py
index ee5aec0..0c4e6e2 100644
--- a/plone/app/event/recurrence.py
+++ b/plone/app/event/recurrence.py
@@ -10,9 +10,9 @@
 from plone.event.recurrence import recurrence_sequence_ical
 from plone.event.utils import is_same_day
 from plone.namedfile.scaling import ImageScale as DXImageScaling
-from zope.component import adapts
+from zope.component import adapter
 from zope.interface import Interface
-from zope.interface import implements
+from zope.interface import implementer
 from zope.publisher.interfaces.browser import IBrowserRequest
 
 try:
@@ -37,11 +37,11 @@ class IDXEvent(Interface):
     pass
 
 
+@adapter(IEventRecurrence)
+@implementer(IRecurrenceSupport)
 class RecurrenceSupport(object):
     """IRecurrenceSupport Adapter.
     """
-    implements(IRecurrenceSupport)
-    adapts(IEventRecurrence)
 
     def __init__(self, context):
         self.context = context
@@ -98,13 +98,13 @@ def get_obj(start):
             yield get_obj(start)
 
 
+@adapter(IEventRecurrence, IBrowserRequest)
 class OccurrenceTraverser(DefaultPublishTraverse):
     """Generic Occurrence traverser.
 
     Please note: the .at and .dx subpackages implement their own Occurrence
     traversers.
     """
-    adapts(IEventRecurrence, IBrowserRequest)
 
     def publishTraverse(self, request, name):
         context = self.context
@@ -121,11 +121,11 @@ def fallbackTraverse(self, request, name):
         return super(OccurrenceTraverser, self).publishTraverse(request, name)
 
 
+@implementer(IOccurrence)
 class Occurrence(SimpleItem):
     """Transient Occurrence object, representing an individual event in a
     recurrecne set.
     """
-    implements(IOccurrence)
 
     def __init__(self, id, start, end):
         self.id = id
@@ -134,11 +134,11 @@ def __init__(self, id, start, end):
         self.portal_type = 'Occurrence'
 
 
+@adapter(IOccurrence)
+@implementer(IEventAccessor)
 class EventOccurrenceAccessor(object):
     """Generic event accessor adapter implementation for Occurrence objects.
     """
-    implements(IEventAccessor)
-    adapts(IOccurrence)
 
     def __init__(self, context):
         object.__setattr__(self, 'context', context)
diff --git a/plone/app/event/setuphandlers.py b/plone/app/event/setuphandlers.py
index 470cbc2..612f4d8 100644
--- a/plone/app/event/setuphandlers.py
+++ b/plone/app/event/setuphandlers.py
@@ -1,8 +1,7 @@
 from Products.CMFCore.utils import getToolByName
 from Products.CMFPlone.interfaces import INonInstallable
 from Products.ZCatalog.Catalog import CatalogError
-from zope.component.hooks import getSite
-from zope.interface import implements
+from zope.interface import implementer
 
 import logging
 
@@ -10,8 +9,8 @@
 logger = logging.getLogger(__name__)
 
 
+@implementer(INonInstallable)
 class HiddenProfiles(object):
-    implements(INonInstallable)
 
     def getNonInstallableProfiles(self):
         """Prevents profiles, which should not be user-installable from showing
@@ -23,7 +22,7 @@ def getNonInstallableProfiles(self):
         return [u'plone.app.event:testing', ]
 
 
-def catalog_setup(context):
+def setup_catalog(context):
     """Setup plone.app.event's indices in the catalog.
 
     Doing it here instead of in profiles/default/catalog.xml means we
@@ -34,8 +33,10 @@ def catalog_setup(context):
         emptying-the-indexes-td2302709.html
         https://mail.zope.org/pipermail/zope-cmf/2007-March/025664.html
     """
-    site = getSite()
-    catalog = getToolByName(site, 'portal_catalog')
+    if context.readDataFile('plone.app.event-default.txt') is None:
+        return
+    portal = context.getSite()
+    catalog = getToolByName(portal, 'portal_catalog')
     date_idxs = ['start', 'end']
     field_idxs = ['sync_uid']
     idxs = date_idxs + field_idxs
@@ -64,11 +65,3 @@ class extra(object):
             logger.info('Catalog metadata column %s created.' % name)
         except CatalogError:
             logger.info('Catalog metadata column %s already exists.' % name)
-
-
-def setup_misc(context):
-    if context.readDataFile('plone.app.event-default.txt') is None:
-        return
-
-    portal = context.getSite()
-    catalog_setup(portal)
diff --git a/plone/app/event/testing.py b/plone/app/event/testing.py
index 9335381..ee1b6f7 100644
--- a/plone/app/event/testing.py
+++ b/plone/app/event/testing.py
@@ -1,5 +1,4 @@
 from Products.CMFPlone.utils import getFSVersionTuple
-from Products.CMFPlone.utils import getToolByName
 from plone.app.event.interfaces import IBrowserLayer
 from plone.app.robotframework.testing import AUTOLOGIN_LIBRARY_FIXTURE
 from plone.app.testing import FunctionalTesting
@@ -37,7 +36,7 @@ def set_env_timezone(tz):
 
 
 def os_zone():
-    return 'TZ' in os.environ.keys() and os.environ['TZ'] or None
+    return os.environ['TZ'] if 'TZ' in os.environ.keys() else None
 
 
 def make_fake_response(request):
diff --git a/plone/app/event/tests/INACTIVE_test_robot.py b/plone/app/event/tests/INACTIVE_test_robot.py
new file mode 100644
index 0000000..33d0e7b
--- /dev/null
+++ b/plone/app/event/tests/INACTIVE_test_robot.py
@@ -0,0 +1,26 @@
+from plone.app.event.testing import PAEventDX_ROBOT_TESTING
+from plone.app.testing.interfaces import ROBOT_TEST_LEVEL
+from plone.testing import layered
+
+import robotsuite
+import unittest
+
+
+# TODO: Remove
+# The robot test fails irregularily, most probably when run on end-of-day, even
+# with this fix in place:
+# https://github.com/plone/plone.app.event/commit/623cec04872a847e2b9f810346424a6d663c6370
+# Example test failure:
+# Job started: 31.08.2014 22:07:05
+# http://jenkins.plone.org/job/plone-5.0-python-2.7/3136/testReport/junit/plone.app.event.tests.test_robot/RobotTestCase/Scenario_Create_and_view_an_event/  # noqa
+# Scenario: plone.app.event.tests.test_robot.RobotTestCase.Scenario Create and view an event  # noqa
+# Message: Value of text field 'css=#formfield-form-widgets-IEventBasic-end input.pattern-pickadate-date' should have been 'February 10, 2014' but was 'February 11, 2014'  # noqa
+@unittest.skip("Skipping due to irregular failures")
+def INACTIVE_test_suite():
+    suite = unittest.TestSuite()
+    suite.level = ROBOT_TEST_LEVEL
+    suite.addTests([
+        layered(robotsuite.RobotTestSuite('robot'),
+                layer=PAEventDX_ROBOT_TESTING),
+    ])
+    return suite
diff --git a/plone/app/event/tests/base_setup.py b/plone/app/event/tests/base_setup.py
index 6ef4135..dee3fef 100644
--- a/plone/app/event/tests/base_setup.py
+++ b/plone/app/event/tests/base_setup.py
@@ -2,7 +2,6 @@
 from datetime import datetime
 from datetime import timedelta
 from plone.app.event.dx import behaviors
-from plone.app.event.dx.behaviors import data_postprocessing_context
 from plone.app.event.testing import set_browserlayer
 from plone.app.event.testing import set_timezone
 from plone.app.testing import TEST_USER_ID
@@ -45,7 +44,7 @@ def event_factory(self, container, **kwargs):
     def make_dates(self):
         tz = pytz.timezone(TEST_TIMEZONE)
         now = self.now = patched_now()
-        tomorrow = self.tomorrow = tz.normalize(now + timedelta(days=1))
+        self.tomorrow = tz.normalize(now + timedelta(days=1))
         past = self.past = tz.normalize(now - timedelta(days=10))
         future = self.future = tz.normalize(now + timedelta(days=10))
         far = self.far = tz.normalize(now + timedelta(days=30))
@@ -53,6 +52,23 @@ def make_dates(self):
         return (now, past, future, far, duration)
 
     def setUp(self):
+        """Construct sample contents.
+
+        These are all events:
+
+        'Long Event: 2013-04-25T10:00:00+02:00 - 2013-06-04T10:00:00+02:00'
+
+        'Past Event: 2013-04-25T00:00:00+02:00 - 2013-04-25T23:59:59+02:00'
+        'Past Event: 2013-04-26T00:00:00+02:00 - 2013-04-26T23:59:59+02:00'
+        'Past Event: 2013-04-27T00:00:00+02:00 - 2013-04-27T23:59:59+02:00'
+
+        'Now Event: 2013-05-05T10:00:00+02:00 - 2013-05-05T11:00:00+02:00'
+        'Now Event: 2013-05-07T10:00:00+02:00 - 2013-05-07T11:00:00+02:00'
+        'Now Event: 2013-05-09T10:00:00+02:00 - 2013-05-09T11:00:00+02:00'
+
+        'Future Event: 2013-05-15T10:00:00+02:00 - 2013-05-15T11:00:00+02:00'
+
+        """
         self.portal = self.layer['portal']
         self.app = self.layer['app']
         self.request = self.layer['request']
@@ -76,7 +92,6 @@ def setUp(self):
             recurrence='RRULE:FREQ=DAILY;COUNT=3')
         workflow.doActionFor(self.past_event, 'publish')
         # adjust start and end according to whole_day and open_end
-        data_postprocessing_context(self.past_event)
         self.past_event.reindexObject()
 
         self.now_event = factory(
@@ -98,7 +113,6 @@ def setUp(self):
         # https://github.com/plone/plone.dexterity/pull/18
         # https://github.com/plone/plone.app.dexterity/issues/118
         workflow.doActionFor(self.now_event, 'publish')
-        data_postprocessing_context(self.now_event)
         self.now_event.reindexObject()
 
         self.future_event = factory(
@@ -109,7 +123,6 @@ def setUp(self):
             end=future + duration,
             location=u'Graz')
         workflow.doActionFor(self.future_event, 'publish')
-        data_postprocessing_context(self.future_event)
         self.future_event.reindexObject()
 
         self.portal.invokeFactory('Folder', 'sub', title=u'sub')
@@ -121,11 +134,9 @@ def setUp(self):
             end=far,
             location=u'Schaftal')
         workflow.doActionFor(self.long_event, 'publish')
-        data_postprocessing_context(self.long_event)
         self.long_event.reindexObject()
 
-        # For AT based tests, this is a plone.app.collection ICollection type
-        # For DX based tests, it's a plone.app.contenttypes ICollection type
+        # plone.app.contenttypes ICollection type
         self.portal.invokeFactory('Collection', 'collection', title=u'Col')
         collection = self.portal.collection
         collection.sort_on = u'start'
diff --git a/plone/app/event/tests/robot/test_event_roundtrip.robot b/plone/app/event/tests/robot/test_event_roundtrip.robot
index 589ddfd..6afc790 100644
--- a/plone/app/event/tests/robot/test_event_roundtrip.robot
+++ b/plone/app/event/tests/robot/test_event_roundtrip.robot
@@ -70,6 +70,10 @@ I select a date in calendar overlay
   Select from list  css=div[data-fieldname="form.widgets.IEventBasic.start"] .picker__select--month  1
   Select from list  css=div[data-fieldname="form.widgets.IEventBasic.start"] select.picker__select--year  2014
   Click Element  xpath=//div[@data-fieldname="form.widgets.IEventBasic.start"]//div[contains(@class, 'picker__day')][contains(text(), "10")]
+# Select Times
+  Click Element  xpath=//div[@data-fieldname="form.widgets.IEventBasic.start"]//input[contains(@class,"pattern-pickadate-time")]
+  Click Element  xpath=//div[@data-fieldname="form.widgets.IEventBasic.start"]//div[contains(@class, 'picker--time')]//li[contains(@class, 'picker__list-item')][contains(text(), "10:00 a.m.")]
+
 
 I click on Recurrence Add
   Click Link  css=a[name='riedit']
@@ -99,7 +103,9 @@ I open the event listing
 
 it should be filled in the form
   Textfield Value Should Be  css=#formfield-form-widgets-IEventBasic-start input.pattern-pickadate-date  February 10, 2014
+  Textfield Value Should Be  css=#formfield-form-widgets-IEventBasic-start input.pattern-pickadate-time  10:00 a.m.
   Textfield Value Should Be  css=#formfield-form-widgets-IEventBasic-end input.pattern-pickadate-date  February 10, 2014
+  Textfield Value Should Be  css=#formfield-form-widgets-IEventBasic-end input.pattern-pickadate-time  11:00 a.m.
 
 I should see the recurrence overlay
   Page Should Contain  Recurrence
diff --git a/plone/app/event/tests/test_base_module.py b/plone/app/event/tests/test_base_module.py
index 3fe2d86..1d2ec0c 100644
--- a/plone/app/event/tests/test_base_module.py
+++ b/plone/app/event/tests/test_base_module.py
@@ -19,7 +19,6 @@
 from plone.app.event.base import find_site
 from plone.app.event.base import get_events
 from plone.app.event.base import localized_now
-from plone.app.event.dx.behaviors import data_postprocessing_context
 from plone.app.event.testing import PAEventDX_INTEGRATION_TESTING
 from plone.app.event.testing import PAEvent_INTEGRATION_TESTING
 from plone.app.event.testing import set_env_timezone
@@ -105,7 +104,7 @@ def test_DT(self):
             DateTime('2011/11/11 11:00:00 Europe/Vienna')
         )
 
-        ## TEST WITH/WITHOUT MICROSECONDS
+        # TEST WITH/WITHOUT MICROSECONDS
 
         # From Python datetime
 
@@ -556,8 +555,6 @@ def test_get_event_limit(self):
             location=u"Dornbirn",
             recurrence='RRULE:FREQ=WEEKLY;COUNT=4',
         )
-        # data_postprocessing normalization is not needed, as we values are set
-        # correctly in the first place.
 
         tomorrow = factory(
             container=self.portal,
@@ -568,9 +565,6 @@ def test_get_event_limit(self):
             open_end=True,
             location=u"Dornbirn",
         )
-        # Normalize values and reindex, what normally the form would do
-        # (especially, end time isn't set like open_end settings requests to.
-        data_postprocessing_context(tomorrow)
         tomorrow.reindexObject()
 
         limit = get_events(self.portal, start=self.now, expand=True,
@@ -610,7 +604,9 @@ def _num_events(values):
             start=date(2013, 5, 1),
             end=date(2013, 5, 31)
         )
-        self.assertEqual(_num_events(cal.values()), 34)
+        self.assertEqual(_num_events(cal.values()), 35)
+        # First day must also be set in the calendar
+        self.assertTrue('2013-05-01' in cal.keys())
 
         # invalid start
         def _invalid_start():
@@ -655,8 +651,6 @@ def setUp(self):
             location=u"Dornbirn",
             recurrence='RRULE:FREQ=WEEKLY;COUNT=4',
         )
-        # data_postprocessing normalization is not needed, as we values are set
-        # correctly in the first place.
 
         tomorrow = factory(
             container=self.portal,
@@ -667,9 +661,6 @@ def setUp(self):
             open_end=True,
             location=u"Dornbirn",
         )
-        # Normalize values and reindex, what normally the form would do
-        # (especially, end time isn't set like open_end settings requests to.
-        data_postprocessing_context(tomorrow)
         tomorrow.reindexObject()
 
         self.occ = [
@@ -698,7 +689,7 @@ def fmt(self, seq):
                  x.end.strftime('%Y-%m-%d %H:%M:%S'))
                 for x in seq]
 
-    ### expand=True: events
+    # expand=True: events
 
     def test_expand_all(self):
         # all occurrences, sorted by start
@@ -730,7 +721,7 @@ def test_expand_start_limit(self):
         expect = self.occ[1:2] + self.occ[6:8]  # includes ongoing long event
         self.assertEqual(res, expect, self.diff(res, expect))
 
-    ### expand=False: events
+    # expand=False: events
 
     def test_noexpand_all(self):
         # all events
diff --git a/plone/app/event/tests/test_dx_behaviors.py b/plone/app/event/tests/test_dx_behaviors.py
index 13f6d5d..fb48f3c 100644
--- a/plone/app/event/tests/test_dx_behaviors.py
+++ b/plone/app/event/tests/test_dx_behaviors.py
@@ -1,5 +1,4 @@
 # -*- coding: utf-8 -*-
-from DateTime import DateTime
 from OFS.SimpleItem import SimpleItem
 from datetime import datetime, timedelta
 from plone.app.event import base
@@ -8,12 +7,11 @@
 from plone.app.event.dx.behaviors import IEventBasic
 from plone.app.event.dx.behaviors import IEventRecurrence
 from plone.app.event.dx.behaviors import StartBeforeEnd
-from plone.app.event.dx.behaviors import data_postprocessing_context
 from plone.app.event.dx.behaviors import default_end
 from plone.app.event.dx.behaviors import default_start
 from plone.app.event.dx.interfaces import IDXEvent
 from plone.app.event.dx.interfaces import IDXEventRecurrence
-from plone.app.event.dx.upgrades.upgrades import upgrade_attribute_storage
+from plone.app.event.upgrades.upgrades import upgrade_attribute_storage
 from plone.app.event.testing import PAEventDX_FUNCTIONAL_TESTING
 from plone.app.event.testing import PAEventDX_INTEGRATION_TESTING
 from plone.app.event.testing import set_browserlayer
@@ -221,7 +219,7 @@ def test_edit_context(self):
         self.assertTrue('23:59' in self.browser.contents)
 
 
-class TestDataPostprocessing(unittest.TestCase):
+class TestEventAccessor(unittest.TestCase):
     layer = PAEventDX_INTEGRATION_TESTING
 
     def setUp(self):
@@ -230,7 +228,28 @@ def setUp(self):
         set_browserlayer(self.request)
         setRoles(self.portal, TEST_USER_ID, ['Manager'])
 
-    def test_data_postprocessing(self):
+    def test_event_accessor(self):
+        tz = pytz.timezone("Europe/Vienna")
+        e1 = createContentInContainer(
+            self.portal,
+            'plone.app.event.dx.event',
+            title='event1',
+            start=tz.localize(datetime(2011, 11, 11, 11, 0)),
+            end=tz.localize(datetime(2011, 11, 11, 12, 0)),
+        )
+
+        # setting attributes via the accessor
+        acc = IEventAccessor(e1)
+        new_end = tz.localize(datetime(2011, 11, 13, 10, 0))
+        acc.end = new_end
+
+        # context's end should be set to new_end
+        self.assertEqual(e1.end, new_end)
+
+        # accessor's and context datetime should be the same
+        self.assertEqual(acc.end, e1.end)
+
+    def test_event_accessor_whole_day__open_end(self):
 
         at = pytz.timezone("Europe/Vienna")
 
@@ -247,25 +266,25 @@ def test_data_postprocessing(self):
             start=start,
             end=end
         )
+        acc = IEventAccessor(e1)
 
-        # See, if start isn't moved by timezone offset. Addressing issue #62
-        self.assertEqual(e1.start, start)
-        self.assertEqual(e1.end, end)
-        data_postprocessing_context(e1)
+        # check set
         self.assertEqual(e1.start, start)
         self.assertEqual(e1.end, end)
 
         # Setting open end
         e1.open_end = True
-        data_postprocessing_context(e1)
         self.assertEqual(e1.start, start)
-        self.assertEqual(e1.end, end_end)
+        self.assertEqual(e1.end, end)
+        self.assertEqual(acc.start, start)
+        self.assertEqual(acc.end, end_end)
 
         # Setting whole day
         e1.whole_day = True
-        data_postprocessing_context(e1)
-        self.assertEqual(e1.start, start_start)
-        self.assertEqual(e1.end, end_end)
+        self.assertEqual(e1.start, start)
+        self.assertEqual(e1.end, end)
+        self.assertEqual(acc.start, start_start)
+        self.assertEqual(acc.end, end_end)
 
 
 class TestDXIntegration(unittest.TestCase):
@@ -295,12 +314,14 @@ def test_end_default(self):
 
     def test_start_end_dates_indexed(self):
         tz = pytz.timezone("Europe/Vienna")
+        start = tz.localize(datetime(2011, 11, 11, 11, 0))
+        end = tz.localize(datetime(2011, 11, 11, 12, 0))
         e1 = createContentInContainer(
             self.portal,
             'plone.app.event.dx.event',
             title='event1',
-            start=tz.localize(datetime(2011, 11, 11, 11, 0)),
-            end=tz.localize(datetime(2011, 11, 11, 12, 0)),
+            start=start,
+            end=end
         )
 
         result = self.portal.portal_catalog(
@@ -308,15 +329,9 @@ def test_start_end_dates_indexed(self):
         )
         self.assertEqual(1, len(result))
 
-        # result returns Zope's DateTime
-        self.assertEqual(
-            result[0].start,
-            DateTime('2011/11/11 11:00:00 Europe/Vienna')
-        )
-        self.assertEqual(
-            result[0].end,
-            DateTime('2011/11/11 12:00:00 Europe/Vienna')
-        )
+        # The start and end datetime's are indexed as Python datetimes
+        self.assertEqual(result[0].start, start)
+        self.assertEqual(result[0].end, end)
 
     def test_recurrence_indexing(self):
         tz = pytz.timezone("Europe/Vienna")
@@ -348,27 +363,6 @@ def test_recurrence_indexing(self):
         )
         self.assertEqual(len(result), 4)
 
-    def test_event_accessor(self):
-        tz = pytz.timezone("Europe/Vienna")
-        e1 = createContentInContainer(
-            self.portal,
-            'plone.app.event.dx.event',
-            title='event1',
-            start=tz.localize(datetime(2011, 11, 11, 11, 0)),
-            end=tz.localize(datetime(2011, 11, 11, 12, 0)),
-        )
-
-        # setting attributes via the accessor
-        acc = IEventAccessor(e1)
-        new_end = tz.localize(datetime(2011, 11, 13, 10, 0))
-        acc.end = new_end
-
-        # context's end should be set to new_end
-        self.assertEqual(e1.end, new_end)
-
-        # accessor's and context datetime should be the same
-        self.assertEqual(acc.end, e1.end)
-
 
 class TestDXEventRecurrence(unittest.TestCase):
 
diff --git a/plone/app/event/tests/test_event_listing.py b/plone/app/event/tests/test_event_listing.py
index 5e074d3..54b4aac 100644
--- a/plone/app/event/tests/test_event_listing.py
+++ b/plone/app/event/tests/test_event_listing.py
@@ -7,46 +7,112 @@
 import mock
 
 
-class TestEventsListingDX(AbstractSampleDataEvents):
+class TestEventsListingPortal(AbstractSampleDataEvents):
     layer = PAEventDX_INTEGRATION_TESTING
 
+    def _listing_view(self, name='@@event_listing'):
+        return self.portal.restrictedTraverse(name)
+
     @mock.patch('plone.app.event.browser.event_listing.localized_now', new=PN)
     @mock.patch('plone.app.event.base.localized_now', new=PN)
     def test_get_events_future(self):
         # Default mode is to show all events from now on.
-        view = self.portal.restrictedTraverse('@@event_listing')
-        self.assertEqual(len(view._get_events()), 5)
+        view = self._listing_view()
+        self.assertEqual(len(view.events(batch=False)), 5)
 
     @mock.patch('plone.app.event.browser.event_listing.localized_now', new=PN)
     @mock.patch('plone.app.event.base.localized_now', new=PN)
     def test_get_events_past(self):
         self.request.form.update({'mode': 'past'})
-        view = self.portal.restrictedTraverse('@@event_listing')
-        self.assertEqual(len(view._get_events()), 5)
+        view = self._listing_view()
+        self.assertEqual(len(view.events(batch=False)), 5)
 
     @mock.patch('plone.app.event.browser.event_listing.localized_now', new=PN)
     @mock.patch('plone.app.event.base.localized_now', new=PN)
     def test_get_events_all(self):
         self.request.form.update({'mode': 'all'})
-        view = self.portal.restrictedTraverse('@@event_listing')
-        self.assertEqual(len(view._get_events()), 8)
+        view = self._listing_view()
+        self.assertEqual(len(view.events(batch=False)), 8)
 
     @mock.patch('plone.app.event.browser.event_listing.localized_now', new=PN)
     @mock.patch('plone.app.event.base.localized_now', new=PN)
     def test_get_events_today(self):
         today = localized_today().isoformat()
         self.request.form.update({'mode': 'day', 'date': today})
-        view = self.portal.restrictedTraverse('@@event_listing')
-        self.assertEqual(len(view._get_events()), 2)
+        view = self._listing_view()
+        self.assertEqual(len(view.events(batch=False)), 2)
 
     @mock.patch('plone.app.event.browser.event_listing.localized_now', new=PN)
     @mock.patch('plone.app.event.base.localized_now', new=PN)
     def test_events_listing_ical(self):
         # Default mode is to show all events from now on.
         headers, output, request = make_fake_response(self.request)
-        view = self.portal.restrictedTraverse('@@event_listing_ical')
+        view = self._listing_view(name='@@event_listing_ical')
         view()
         self.assertEqual(len(headers), 2)
         self.assertEqual(headers['Content-Type'], 'text/calendar')
         icalstr = ''.join(output)
         self.assertTrue('Long Event' in icalstr)
+
+
+class TestEventsListingCollection(TestEventsListingPortal):
+
+    def _listing_view(self, name='@@event_listing'):
+        return self.portal.collection.restrictedTraverse(name)
+
+    def test_date_filtering(self):
+        """Test if date filters are available on Collections without start or
+        end search criterias.
+        """
+        # plone.app.contenttypes ICollection type
+        self.portal.invokeFactory(
+            'Collection', 'col_without_date_criterion', title=u'Col')
+        collection = self.portal.col_without_date_criterion
+        collection.query = [
+            {'i': 'portal_type',
+             'o': 'plone.app.querystring.operation.selection.is',
+             'v': ['Event', 'plone.app.event.dx.event']
+             },
+        ]
+        view = self.portal.col_without_date_criterion.restrictedTraverse(
+            '@@event_listing'
+        )
+        out = view()
+        for _class in [
+            'mode_future',
+            'mode_past',
+            'mode_month',
+            'mode_week',
+            'mode_day',
+        ]:
+            self.assertTrue(_class in out)
+
+    def test_no_date_filtering(self):
+        """Test if date filters are not available on Collections with start or
+        end search criterias.
+        """
+        # plone.app.contenttypes ICollection type
+        self.portal.invokeFactory(
+            'Collection', 'col_with_date_criterion', title=u'Col')
+        collection = self.portal.col_with_date_criterion
+        collection.query = [
+            {'i': 'portal_type',
+             'o': 'plone.app.querystring.operation.selection.is',
+             'v': ['Event', 'plone.app.event.dx.event']
+             },
+            {'i': 'start',
+             'o': 'plone.app.querystring.operation.date.afterToday',
+             'v': ''}
+        ]
+        view = self.portal.col_with_date_criterion.restrictedTraverse(
+            '@@event_listing'
+        )
+        out = view()
+        for _class in [
+            'mode_future',
+            'mode_past',
+            'mode_month',
+            'mode_week',
+            'mode_day',
+        ]:
+            self.assertTrue(_class not in out)
diff --git a/plone/app/event/tests/test_event_summary.py b/plone/app/event/tests/test_event_summary.py
index 734074c..9328657 100644
--- a/plone/app/event/tests/test_event_summary.py
+++ b/plone/app/event/tests/test_event_summary.py
@@ -33,13 +33,12 @@ def test_event_summary__recurring(self):
         view = self.portal.now.restrictedTraverse('@@event_summary')
 
         self.assertEqual(view.is_occurrence, False)
-        self.assertEqual(view.get_location, u'Vienna')
         self.assertEqual(len(view.next_occurrences), 3)
         self.assertEqual(view.num_more_occurrences, 0)
 
         output = view()
 
-        #self.assertTrue('Now Event' not in output)  # Title not shown by def.
+        # self.assertTrue('Now Event' not in output)  # Title not shown by def.
         self.assertTrue('2013-05-05' in output)
         self.assertTrue('All dates' in output)
         self.assertTrue('2013-05-07' in output)
@@ -54,7 +53,6 @@ def test_event_summary__recurring_occurrence(self):
         view = occ.restrictedTraverse('@@event_summary')
 
         self.assertEqual(view.is_occurrence, True)
-        self.assertEqual(view.get_location, u'Vienna')
         self.assertEqual(len(view.next_occurrences), 3)
         self.assertEqual(view.num_more_occurrences, 0)
 
diff --git a/plone/app/event/tests/test_event_view.py b/plone/app/event/tests/test_event_view.py
index 95b83eb..6408de5 100644
--- a/plone/app/event/tests/test_event_view.py
+++ b/plone/app/event/tests/test_event_view.py
@@ -1,14 +1,14 @@
 from plone.app.event.dx.behaviors import EventAccessor as DXEventAccessor
 from plone.app.event.dx.traverser import OccurrenceTraverser as OccTravDX
-from plone.app.event.testing import PAEventDX_INTEGRATION_TESTING
+from plone.app.event.testing import PAEventDX_FUNCTIONAL_TESTING
 from plone.app.event.tests.base_setup import AbstractSampleDataEvents
 from plone.app.event.tests.base_setup import patched_now as PN
 
 import mock
 
 
-class TestEventViewDX(AbstractSampleDataEvents):
-    layer = PAEventDX_INTEGRATION_TESTING
+class FunctionalTestEventViewDX(AbstractSampleDataEvents):
+    layer = PAEventDX_FUNCTIONAL_TESTING
 
     @property
     def traverser(self):
diff --git a/plone/app/event/tests/test_icalendar.py b/plone/app/event/tests/test_icalendar.py
index 704837c..9f5fbbe 100644
--- a/plone/app/event/tests/test_icalendar.py
+++ b/plone/app/event/tests/test_icalendar.py
@@ -223,7 +223,7 @@ def test_event_listing_ical_portal__specific_date(self):
         self.assertTrue('Long Event' in icalstr)
 
     def test_collection_ical(self):
-        """Test basic icalendar export from ATTopics.
+        """Test basic icalendar export from Collections.
         """
         headers, output, request = make_fake_response(self.request)
         view = getMultiAdapter(
diff --git a/plone/app/event/tests/test_portlet_calendar.py b/plone/app/event/tests/test_portlet_calendar.py
index 6684baa..01e2436 100644
--- a/plone/app/event/tests/test_portlet_calendar.py
+++ b/plone/app/event/tests/test_portlet_calendar.py
@@ -188,7 +188,8 @@ def test_portlet_config(self):
 
     def test_long_event(self):
         tz = pytz.timezone(TZNAME)
-        start = tz.localize(datetime.now())
+        actual = tz.localize(datetime.now())
+        start = tz.localize(datetime(actual.year, actual.month, 1))
         end = start + timedelta(days=2)
 
         e1 = createContentInContainer(
diff --git a/plone/app/event/tests/test_robot.py b/plone/app/event/tests/test_robot.py
deleted file mode 100644
index 62ad36e..0000000
--- a/plone/app/event/tests/test_robot.py
+++ /dev/null
@@ -1,16 +0,0 @@
-from plone.app.event.testing import PAEventDX_ROBOT_TESTING
-from plone.app.testing.interfaces import ROBOT_TEST_LEVEL
-from plone.testing import layered
-
-import robotsuite
-import unittest
-
-
-def test_suite():
-    suite = unittest.TestSuite()
-    suite.level = ROBOT_TEST_LEVEL
-    suite.addTests([
-        layered(robotsuite.RobotTestSuite('robot'),
-                layer=PAEventDX_ROBOT_TESTING),
-    ])
-    return suite
diff --git a/plone/app/event/upgrades/__init__.py b/plone/app/event/upgrades/__init__.py
new file mode 100644
index 0000000..e69de29
diff --git a/plone/app/event/upgrades/configure.zcml b/plone/app/event/upgrades/configure.zcml
new file mode 100644
index 0000000..a517386
--- /dev/null
+++ b/plone/app/event/upgrades/configure.zcml
@@ -0,0 +1,32 @@
+<configure
+    xmlns="http://namespaces.zope.org/zope"
+    xmlns:genericsetup="http://namespaces.zope.org/genericsetup">
+
+  <genericsetup:upgradeStep
+      source="12"
+      destination="13"
+      title="New IRichText behavior"
+      description="Enable the new IRichText instead of the IEventSummary behavior."
+      profile="plone.app.event:default"
+      handler=".upgrades.enable_richtext_behavior"
+      />
+
+  <genericsetup:upgradeStep
+      source="12"
+      destination="13"
+      title="Attribute storage"
+      description="Migrate fields from annotation storage to attribute storage."
+      profile="plone.app.event:default"
+      handler=".upgrades.upgrade_attribute_storage"
+      />
+
+  <genericsetup:upgradeStep
+      source="14"
+      destination="15"
+      title="Remove object-action event_listing_settings"
+      description=""
+      profile="plone.app.event:default"
+      handler=".upgrades.remove_event_listing_settings"
+      />
+
+</configure>
diff --git a/plone/app/event/upgrades/upgrades.py b/plone/app/event/upgrades/upgrades.py
new file mode 100644
index 0000000..d7c8662
--- /dev/null
+++ b/plone/app/event/upgrades/upgrades.py
@@ -0,0 +1,87 @@
+# -*- coding: utf-8 -*-
+from Products.CMFCore.utils import getToolByName
+from plone.app.event.dx.interfaces import IDXEvent
+from plone.app.event.dx.behaviors import IEventAttendees
+from plone.app.event.dx.behaviors import IEventContact
+from plone.app.event.dx.behaviors import IEventLocation
+from plone.dexterity.interfaces import IDexterityFTI
+from zope.annotation.interfaces import IAnnotatable
+from zope.annotation.interfaces import IAnnotations
+from zope.event import notify
+from zope.component import queryUtility
+from zope.component.hooks import getSite
+from zope.lifecycleevent import ObjectModifiedEvent
+
+import logging
+log = logging.getLogger(__name__)
+
+BEHAVIOR_LIST = [
+    IEventAttendees,
+    IEventContact,
+    IEventLocation,
+]
+
+
+def enable_richtext_behavior(self):
+    fti = queryUtility(IDexterityFTI, name="Event", default=None)
+    if not fti:
+        return
+    behaviors = [it for it in fti.behaviors
+                 if 'plone.app.event.dx.behaviors.IEventSummary' not in it]
+    behaviors.extend([
+        'plone.app.contenttypes.behaviors.richtext.IRichText',
+    ])
+    behaviors = tuple(set(behaviors))
+    fti._updateProperty('behaviors', behaviors)
+
+
+def upgrade_attribute_storage(context):
+    portal = getSite()
+    catalog = getToolByName(portal, 'portal_catalog')
+    query = {}
+    query['object_provides'] = IDXEvent.__identifier__
+    results = catalog(**query)
+    log.info('There are {0} in total, stating migration...'.format(
+        len(results)))
+    for result in results:
+        try:
+            event = result.getObject()
+        except:
+            log.warning(
+                'Not possible to fetch event object from catalog result for '
+                'item: {0}.'.format(result.getPath()))
+            continue
+        if not IAnnotatable.providedBy(event):
+            log.warning(
+                'The event at {0} does provide annotation capabilities, '
+                'skipping.'.format(event.absolute_url()))
+            continue
+        annotations = IAnnotations(event)
+        did_work = False
+        for behavior in BEHAVIOR_LIST:
+            for name in behavior.names():
+                fullname = '{0}.{1}'.format(behavior.__identifier__, name)
+                oldvalue = annotations.get(fullname, None)
+                # Only write the old value if there is no new value yet
+                if oldvalue and not getattr(event, name, None):
+                    setattr(event, name, oldvalue)
+                    did_work = True
+        # The old IEventSummary behavior is gone, just look for the old name
+        # inside the annotation storage
+        oldvalue = annotations.get(
+            'plone.app.event.dx.behaviors.IEventSummary.text', None)
+        if oldvalue and not getattr(event, 'text', None):
+            setattr(event, 'text', oldvalue)
+            did_work = True
+        if did_work:
+            notify(ObjectModifiedEvent(event))
+        log.debug('Handled event at {0}'.format(event.absolute_url()))
+
+
+def remove_event_listing_settings(context):
+    portal = getSite()
+    actions = getToolByName(portal, 'portal_actions')
+    ob = getattr(actions, 'object')
+    if ob and getattr(ob, 'event_listing_settings', False):
+        actions.object.manage_delObjects(['event_listing_settings', ])
+        log.debug('Removed event_listing_settings from object actions.')
diff --git a/plone/app/event/vocabularies.py b/plone/app/event/vocabularies.py
index 08d5e1e..f62aa0f 100644
--- a/plone/app/event/vocabularies.py
+++ b/plone/app/event/vocabularies.py
@@ -1,56 +1,10 @@
-from Products.CMFCore.utils import getToolByName
 from plone.app.event import base
 from plone.app.event import messageFactory as _
-from plone.event.interfaces import IEvent
-from plone.memoize import forever
-from zope.component.hooks import getSite
 from zope.interface import provider
 from zope.schema.interfaces import IVocabularyFactory
 from zope.schema.vocabulary import SimpleTerm
 from zope.schema.vocabulary import SimpleVocabulary
 
-import random
-
-
-@provider(IVocabularyFactory)
-@forever.memoize
-def EventTypes(context):
-    # TODO: refactor for DX
-    """Vocabulary for available event types.
-
-    Insane stuff: All types are created temporary and checked if the provide
-    the IEvent interface. At least, this function is cached forever the Zope
-    process lives.
-    """
-    # TODO: I'd love to query the factory for types, who's instances are
-    # implementing a specific interface via the portal_factory API.
-
-    portal = getSite()
-    tmp_folder_id = 'event_types_temp_folder__%s' % random.randint(0, 99999999)
-    portal.invokeFactory('Folder', tmp_folder_id)
-    try:
-        tmp_folder = portal._getOb(tmp_folder_id)
-        portal_types = getToolByName(portal, 'portal_types')
-        all_types = portal_types.listTypeInfo(portal)
-        event_types = []
-        cnt = 0
-        for fti in all_types:
-            if not getattr(fti, 'global_allow', False):
-                continue
-            cnt += 1
-            tmp_id = 'temporary__event_types__%s' % cnt
-            tmp_obj = None
-            fti.constructInstance(tmp_folder, tmp_id)
-            tmp_obj = tmp_folder._getOb(tmp_id)
-            if tmp_obj:
-                if IEvent.providedBy(tmp_obj):
-                    event_types.append(fti.id)
-    finally:
-        # Delete the tmp_folder again
-        tmp_folder.__parent__.manage_delObjects([tmp_folder_id])
-
-    return SimpleVocabulary.fromValues(event_types)
-
 
 @provider(IVocabularyFactory)
 def SynchronizationStrategies(context):
diff --git a/plone/app/event/vocabularies.zcml b/plone/app/event/vocabularies.zcml
deleted file mode 100644
index 60d5405..0000000
--- a/plone/app/event/vocabularies.zcml
+++ /dev/null
@@ -1,13 +0,0 @@
-<configure xmlns="http://namespaces.zope.org/zope">
-
-  <utility
-      component=".vocabularies.EventTypes"
-      name="plone.app.event.EventTypes"
-      />
-
-  <utility
-      component=".vocabularies.SynchronizationStrategies"
-      name="plone.app.event.SynchronizationStrategies"
-      />
-
-</configure>
diff --git a/setup.py b/setup.py
index 3a99790..e3b7f3c 100644
--- a/setup.py
+++ b/setup.py
@@ -4,7 +4,7 @@
 import os
 
 
-version = '2.0a5.dev0'
+version = '2.0a9.dev0'
 
 
 setup(
@@ -53,7 +53,6 @@
         'plone.app.querystring',
         'plone.app.registry',
         'plone.app.textfield',
-        'plone.app.widgets [dexterity] >= 1.7.0',
         'plone.app.vocabularies >= 2.1.15.dev0',
         'plone.app.z3cform',
         'plone.autoform>=1.4',
@@ -91,7 +90,6 @@
         'dexterity': [],  # BBB, remove with next version
         'test': [
             'mock',
-            'plone.app.collection',
             'plone.app.contenttypes >= 1.2a3',
             'plone.app.robotframework',
             'plone.app.testing [robot]',
@@ -101,6 +99,12 @@
             'unittest2',
             'zExceptions',
             'zope.event',
+        ],
+        'plone43': [
+            'plone.app.widgets [dexterity] >= 1.7.0',
+        ],
+        'plone50': [  # optional, plone 5 already depends on these versions
+            'plone.app.z3cform >= 1.1.0.dev0',
         ]
     },
     entry_points="""
diff --git a/sources.cfg b/sources.cfg
index b8d71c8..460124e 100644
--- a/sources.cfg
+++ b/sources.cfg
@@ -17,4 +17,4 @@ icalendar                    = git git@github.com:collective/icalendar.git
 jquery.recurrenceinput.js    = git git@github.com:collective/jquery.recurrenceinput.js.git egg=false
 plone.app.event              = git git@github.com:plone/plone.app.event.git
 plone.event                  = git git@github.com:plone/plone.event.git
-plone.formwidget.recurrence  = git git@github.com:plone/plone.formwidget.recurrence.git
+plone.formwidget.recurrence  = git git@github.com:plone/plone.formwidget.recurrence.git branch=plone5
diff --git a/test-43.cfg b/test-43.cfg
index a366f69..7cc05e4 100644
--- a/test-43.cfg
+++ b/test-43.cfg
@@ -41,11 +41,11 @@ eggs =
     plone.app.robotframework [debug]
 
 [versions]
-plone.app.robotframework = 0.9.4
+plone.app.robotframework = 0.9.5
 robotframework = 2.8.4
 robotframework-selenium2library = 1.5.0
-robotsuite = 1.5.0
-selenium = 2.42.1
+robotsuite = 1.6.1
+selenium = 2.43.0
 robotframework-selenium2screenshots = 0.4.0
 sphinxcontrib-robotframework = 0.4.3
 robotframework-debuglibrary = 0.3
diff --git a/test.cfg b/test.cfg
index 65da253..7b44189 100644
--- a/test.cfg
+++ b/test.cfg
@@ -41,11 +41,11 @@ eggs =
     plone.app.robotframework [debug]
 
 [versions]
-plone.app.robotframework = 0.9.4
+plone.app.robotframework = 0.9.5
 robotframework = 2.8.4
 robotframework-selenium2library = 1.5.0
-robotsuite = 1.5.0
-selenium = 2.42.1
+robotsuite = 1.6.1
+selenium = 2.43.0
 robotframework-selenium2screenshots = 0.4.0
 sphinxcontrib-robotframework = 0.4.3
 robotframework-debuglibrary = 0.3
diff --git a/versions.cfg b/versions.cfg
index f2e9534..ac8cff6 100644
--- a/versions.cfg
+++ b/versions.cfg
@@ -6,19 +6,12 @@ versions = versions
 
 [versions]
 Products.DateRecurringIndex = 2.1
-icalendar = 3.8.2
-plone.app.event = 2.0a4
+icalendar = 3.9.0
+plone.app.event = 2.0a5
 plone.event = 1.1
 plone.formwidget.recurrence = 1.2.5
-
-z3c.form = 3.2.1
-plone.app.vocabularies = 2.1.15
-plone.app.portlets = 2.5.1
-plone.app.jquery = 1.8.3
+plone.app.contenttypes = 1.2a5
+plone.app.dexterity = 2.1.2
+# Plone 4.3 dependencies
 plone.app.widgets = 1.7.0
-
-plone.app.contenttypes = 1.2a3
-plone.app.dexterity = 2.1.1
-plone.app.relationfield = 1.2.2
-plone.app.z3cform = 1.0
-plone.dexterity = 2.2.3
+plone.app.z3cform = 1.0.1


Repository: plone.app.event
Branch: refs/heads/master
Date: 2015-04-18T11:02:05+09:00
Author: Manabu TERADA (terapyon) <terada@cmscom.jp>
Commit: https://github.com/plone/plone.app.event/commit/891595b7c3c1beffbc67afb8e0ba672f9d455c71

Merge branch 'master' of github.com:plone/plone.app.event

Files changed:
A plone/app/event/browser/leadimage_viewlet.py
M CHANGES.rst
M plone/app/event/bbb/portlets/portlet_calendar.py
M plone/app/event/bbb/portlets/portlet_events.py
M plone/app/event/browser/configure.zcml
M plone/app/event/browser/event_listing.pt
M plone/app/event/configure.zcml
M plone/app/event/locales/ca/LC_MESSAGES/plone.app.event.po
M plone/app/event/locales/cs/LC_MESSAGES/plone.app.event.po
M plone/app/event/locales/es/LC_MESSAGES/plone.app.event.po
M plone/app/event/locales/fr/LC_MESSAGES/plone.app.event.po
M plone/app/event/profiles/default/metadata.xml
M plone/app/event/recurrence.py
M plone/app/event/tests/test_recurrence.py

diff --git a/CHANGES.rst b/CHANGES.rst
index da027bf..d5f3d6b 100644
--- a/CHANGES.rst
+++ b/CHANGES.rst
@@ -4,7 +4,13 @@ Changelog
 2.0a9 (unreleased)
 ------------------
 
-- Nothing changed yet.
+- Fix ``ImageScalingViewFactory`` and add a custom ILeadImage viewlet for
+  Occurrences. Fixes the display of ILeadImage images from the originating
+  event in event views of occurrences by delegating to the parent object.
+  [thet]
+
+- Fix Plone 4.3 BBB z3c.form portlets to show their fields in Add/Edit Forms.
+  [thet]
 
 
 2.0a8 (2015-03-26)
diff --git a/plone/app/event/bbb/portlets/portlet_calendar.py b/plone/app/event/bbb/portlets/portlet_calendar.py
index 6e5ba65..7c4ff91 100644
--- a/plone/app/event/bbb/portlets/portlet_calendar.py
+++ b/plone/app/event/bbb/portlets/portlet_calendar.py
@@ -5,6 +5,7 @@
 from plone.app.event.portlets.portlet_calendar import Renderer as RendererBase
 from plone.app.event.portlets.portlet_calendar import ICalendarPortlet
 from plone.app.event.portlets.portlet_calendar import Assignment
+from z3c.form import field
 
 
 class Renderer(RendererBase):
@@ -12,7 +13,7 @@ class Renderer(RendererBase):
 
 
 class AddForm(AddForm):
-    schema = ICalendarPortlet
+    fields = field.Fields(ICalendarPortlet)
     label = _(u"Add Calendar Portlet")
     description = _(u"This portlet displays events in a calendar.")
 
@@ -22,6 +23,6 @@ def create(self, data):
 
 
 class EditForm(EditForm):
-    schema = ICalendarPortlet
+    fields = field.Fields(ICalendarPortlet)
     label = _(u"Edit Calendar Portlet")
     description = _(u"This portlet displays events in a calendar.")
diff --git a/plone/app/event/bbb/portlets/portlet_events.py b/plone/app/event/bbb/portlets/portlet_events.py
index d5a67e5..2fb8abd 100644
--- a/plone/app/event/bbb/portlets/portlet_events.py
+++ b/plone/app/event/bbb/portlets/portlet_events.py
@@ -5,6 +5,7 @@
 from plone.app.event.portlets.portlet_events import Renderer as RendererBase
 from plone.app.event.portlets.portlet_events import Assignment
 from plone.app.event.portlets.portlet_events import IEventsPortlet
+from z3c.form import field
 
 
 class Renderer(RendererBase):
@@ -12,7 +13,7 @@ class Renderer(RendererBase):
 
 
 class AddForm(AddForm):
-    schema = IEventsPortlet
+    fields = field.Fields(IEventsPortlet)
     label = _(u"Add Events Portlet")
     description = _(u"This portlet lists upcoming Events.")
 
@@ -23,6 +24,6 @@ def create(self, data):
 
 
 class EditForm(EditForm):
-    schema = IEventsPortlet
+    fields = field.Fields(IEventsPortlet)
     label = _(u"Edit Events Portlet")
     description = _(u"This portlet lists upcoming Events.")
diff --git a/plone/app/event/browser/configure.zcml b/plone/app/event/browser/configure.zcml
index 2c5c72d..391bf79 100644
--- a/plone/app/event/browser/configure.zcml
+++ b/plone/app/event/browser/configure.zcml
@@ -1,6 +1,7 @@
 <configure
     xmlns="http://namespaces.zope.org/zope"
     xmlns:browser="http://namespaces.zope.org/browser"
+    xmlns:zcml="http://namespaces.zope.org/zcml"
     i18n_domain="plone.app.event">
 
     <browser:resourceDirectory
@@ -78,6 +79,19 @@
         layer="..interfaces.IBrowserLayer"
         />
 
+    <configure
+        zcml:condition="installed plone.app.contenttypes"
+        package="plone.app.contenttypes.behaviors">
+      <browser:viewlet
+          name="contentleadimage"
+          for="plone.event.interfaces.IOccurrence"
+          class="plone.app.event.browser.leadimage_viewlet.LeadImageViewlet"
+          manager="plone.app.layout.viewlets.interfaces.IAboveContentTitle"
+          template="leadimage.pt"
+          permission="zope2.View"
+          />
+    </configure>
+
     <adapter
         name="formatted_date"
         provides="zope.contentprovider.interfaces.IContentProvider"
diff --git a/plone/app/event/browser/event_listing.pt b/plone/app/event/browser/event_listing.pt
index 9fb195c..02fbe20 100644
--- a/plone/app/event/browser/event_listing.pt
+++ b/plone/app/event/browser/event_listing.pt
@@ -110,7 +110,7 @@
           <ul class="horizontal metadata">
 
             <li tal:condition="data/subjects" itemprop="eventType" class="category">
-              <span tal:repeat="data data/subjects" tal:content="data" />
+              <span tal:repeat="cat data/subjects" tal:content="cat" />
             </li>
 
             <li tal:condition="data/event_url">
diff --git a/plone/app/event/browser/leadimage_viewlet.py b/plone/app/event/browser/leadimage_viewlet.py
new file mode 100644
index 0000000..f4349ff
--- /dev/null
+++ b/plone/app/event/browser/leadimage_viewlet.py
@@ -0,0 +1,13 @@
+from Acquisition import aq_parent
+from plone.app.contenttypes.behaviors.leadimage import ILeadImage
+from plone.app.layout.viewlets import ViewletBase
+
+
+class LeadImageViewlet(ViewletBase):
+    """plone.app.contenttypes LeadImageViewlet for Occurrence contexts, where
+    the image might be defined on the parent object.
+    """
+    def update(self):
+        parent = aq_parent(self.context)
+        self.available = ILeadImage.providedBy(parent) and\
+            True if getattr(parent, 'image', False) else False
diff --git a/plone/app/event/configure.zcml b/plone/app/event/configure.zcml
index 9dda541..959d631 100644
--- a/plone/app/event/configure.zcml
+++ b/plone/app/event/configure.zcml
@@ -14,6 +14,7 @@
   <include package="plone.formwidget.recurrence" />
   <include package="plone.app.portlets" />
   <include package="plone.app.registry" />
+  <include package="plone.app.z3cform" />
 
   <!-- internal dependencies -->
   <include file="permissions.zcml" />
diff --git a/plone/app/event/locales/ca/LC_MESSAGES/plone.app.event.po b/plone/app/event/locales/ca/LC_MESSAGES/plone.app.event.po
index fb3b54f..cab78ff 100644
--- a/plone/app/event/locales/ca/LC_MESSAGES/plone.app.event.po
+++ b/plone/app/event/locales/ca/LC_MESSAGES/plone.app.event.po
@@ -5,7 +5,6 @@ msgstr ""
 "PO-Revision-Date: 2014-10-20 16:09+0100\n"
 "Last-Translator: Corina Riba Santos <corina.riba@upcnet.es>\n"
 "Language-Team: LANGUAGE <plone.team@upcnet.es>\n"
-"Language: ca\n"
 "MIME-Version: 1.0\n"
 "Content-Type: text/plain; charset=utf-8\n"
 "Content-Transfer-Encoding: 8bit\n"
@@ -14,6 +13,7 @@ msgstr ""
 "Language-Name: Catalan\n"
 "Preferred-Encodings: utf-8 latin1\n"
 "Domain: plone.app.event\n"
+"Language: ca\n"
 
 #. Default: "Events in next 7 days."
 #: plone/app/event/browser/event_listing.py:240
@@ -127,7 +127,8 @@ msgid "contact_phone"
 msgstr "Telèfon de contacte"
 
 #. Default: "End date must be after start date."
-#: plone/app/event/at/content.py:575 plone/app/event/dx/behaviors.py:142
+#: plone/app/event/at/content.py:575
+#: plone/app/event/dx/behaviors.py:142
 msgid "error_end_must_be_after_start_date"
 msgstr "La data de finalització ha de ser posterior a la data d'inici."
 
@@ -230,9 +231,7 @@ msgstr "Afegeix un esdeveniment al calendari"
 #. Default: "The timezones, which should be available for the portal. Can be set for users and events"
 #: plone/app/event/interfaces.py:37
 msgid "help_available_timezones"
-msgstr ""
-"Los zones horàries disponibles per al lloc. Es poden configurar per usuari i "
-"esdeveniments"
+msgstr "Los zones horàries disponibles per al lloc. Es poden configurar per usuari i esdeveniments"
 
 #. Default: "Search events in current folder only."
 #: plone/app/event/browser/event_listing.py:446
@@ -244,27 +243,32 @@ msgid "help_event_announcement"
 msgstr ""
 
 #. Default: "List of attendees."
-#: plone/app/event/at/content.py:199 plone/app/event/dx/behaviors.py:235
+#: plone/app/event/at/content.py:199
+#: plone/app/event/dx/behaviors.py:235
 msgid "help_event_attendees"
 msgstr "Lista d'assistens"
 
 #. Default: "Email address to contact about this event."
-#: plone/app/event/at/content.py:236 plone/app/event/dx/behaviors.py:267
+#: plone/app/event/at/content.py:236
+#: plone/app/event/dx/behaviors.py:267
 msgid "help_event_contact_email"
 msgstr "Adreça de contacte de l'esdeveniment."
 
 #. Default: "Name of a person to contact about this event."
-#: plone/app/event/at/content.py:217 plone/app/event/dx/behaviors.py:255
+#: plone/app/event/at/content.py:217
+#: plone/app/event/dx/behaviors.py:255
 msgid "help_event_contact_name"
 msgstr "Responsable de l'esdeveniment."
 
 #. Default: "Phone number to contact about this event."
-#: plone/app/event/at/content.py:255 plone/app/event/dx/behaviors.py:279
+#: plone/app/event/at/content.py:255
+#: plone/app/event/dx/behaviors.py:279
 msgid "help_event_contact_phone"
 msgstr "Telèfon de contacte de l'esdeveniment"
 
 #. Default: "Date and Time, when the event ends."
-#: plone/app/event/at/content.py:87 plone/app/event/dx/behaviors.py:88
+#: plone/app/event/at/content.py:87
+#: plone/app/event/dx/behaviors.py:88
 msgid "help_event_end"
 msgstr "Data i hora en la que finalitza l'esdeveniment."
 
@@ -274,17 +278,20 @@ msgid "help_event_listing_settings"
 msgstr "Configuració de la llista d'esdeveniments."
 
 #. Default: "Location of the event."
-#: plone/app/event/at/content.py:182 plone/app/event/dx/behaviors.py:219
+#: plone/app/event/at/content.py:182
+#: plone/app/event/dx/behaviors.py:219
 msgid "help_event_location"
 msgstr "Lloc de l'esdeveniment."
 
 #. Default: "This event is open ended."
-#: plone/app/event/at/content.py:124 plone/app/event/dx/behaviors.py:112
+#: plone/app/event/at/content.py:124
+#: plone/app/event/dx/behaviors.py:112
 msgid "help_event_open_end"
 msgstr "Esdeveniment sense data de fi."
 
 #. Default: "Define the event recurrence rule."
-#: plone/app/event/at/content.py:161 plone/app/event/dx/behaviors.py:189
+#: plone/app/event/at/content.py:161
+#: plone/app/event/dx/behaviors.py:189
 msgid "help_event_recurrence"
 msgstr "Defineix la regla de periodicitat de l'esdeveniment"
 
@@ -294,24 +301,26 @@ msgid "help_event_settings"
 msgstr "Configuració de l'esdeveniment: zona horària, etc."
 
 #. Default: "Date and Time, when the event begins."
-#: plone/app/event/at/content.py:65 plone/app/event/dx/behaviors.py:76
+#: plone/app/event/at/content.py:65
+#: plone/app/event/dx/behaviors.py:76
 msgid "help_event_start"
 msgstr "Data i hora d'inici de l'esdeveniment."
 
 #. Default: "Select the Timezone, where this event happens."
-#: plone/app/event/at/content.py:144 plone/app/event/dx/behaviors.py:125
+#: plone/app/event/at/content.py:144
+#: plone/app/event/dx/behaviors.py:125
 msgid "help_event_timezone"
 msgstr "Selecciona la zona horària en la que comença l'esdeveniment."
 
 #. Default: "Web address with more info about the event. Add http:// for external links."
-#: plone/app/event/at/content.py:274 plone/app/event/dx/behaviors.py:291
+#: plone/app/event/at/content.py:274
+#: plone/app/event/dx/behaviors.py:291
 msgid "help_event_url"
-msgstr ""
-"Adreça web amb més informació sobre l'esdeveniment. Afegiu http:// si es "
-"tracta d'un enllaç extern."
+msgstr "Adreça web amb més informació sobre l'esdeveniment. Afegiu http:// si es tracta d'un enllaç extern."
 
 #. Default: "Event lasts whole day."
-#: plone/app/event/at/content.py:107 plone/app/event/dx/behaviors.py:100
+#: plone/app/event/at/content.py:107
+#: plone/app/event/dx/behaviors.py:100
 msgid "help_event_whole_day"
 msgstr "Esdeveniments de dia complet"
 
@@ -338,16 +347,12 @@ msgstr "Click per habilitar l'importació des d'un arxiu iCalendar"
 #. Default: "The timezone setting of the portal. Users can set their own timezone, if available timezones are defined."
 #: plone/app/event/interfaces.py:26
 msgid "help_portal_timezone"
-msgstr ""
-"La configuració de la zona horària del lloc. Els usuaris poden establir la "
-"seva pròpia zona horària, si n'hi ha definides."
+msgstr "La configuració de la zona horària del lloc. Els usuaris poden establir la seva pròpia zona horària, si n'hi ha definides."
 
 #. Default: "Content type of the event, which is created when importing icalendar resources."
 #: plone/app/event/ical/importer.py:232
 msgid "ical_import_event_type_desc"
-msgstr ""
-"Tipus de contingut de l'esdeveniment, que serà creat quan s'importi des d'un "
-"arxiu iCal"
+msgstr "Tipus de contingut de l'esdeveniment, que serà creat quan s'importi des d'un arxiu iCal"
 
 #. Default: "Event Type"
 #: plone/app/event/ical/importer.py:231
@@ -379,13 +384,10 @@ msgstr "Si us plau, proporciona un arxiu iCalendar o un enllaç a un arxiu."
 msgid "ical_import_sync_strategy_desc"
 msgstr ""
 "Defineix com sincronitzar:\n"
-"1) \"Conserva els nous\": Importa, si l'esdeveniment importat s'ha modificat "
-"desprès de l'existent.\n"
+"1) \"Conserva els nous\": Importa, si l'esdeveniment importat s'ha modificat desprès de l'existent.\n"
 "2) \"Conserva el meu\": Si hi ha conflicte, no facis res.\n"
-"3) \"Conserva el seu\": Si hi ha conflicte, actualitza l'esdeveniment "
-"existent amb l'importat.\n"
-"4) \"No sincronitzar\": No sincronitzis però importa els esdeveniments nous, "
-"inclós si ja existeixen\n"
+"3) \"Conserva el seu\": Si hi ha conflicte, actualitza l'esdeveniment existent amb l'importat.\n"
+"4) \"No sincronitzar\": No sincronitzis però importa els esdeveniments nous, inclós si ja existeixen\n"
 ".Per cada un crea un nou sync_uid."
 
 #. Default: "Synchronization Strategy"
@@ -425,42 +427,50 @@ msgid "label_event_announcement"
 msgstr "Text de l'esdeveniment"
 
 #. Default: "Attendees"
-#: plone/app/event/at/content.py:195 plone/app/event/dx/behaviors.py:231
+#: plone/app/event/at/content.py:195
+#: plone/app/event/dx/behaviors.py:231
 msgid "label_event_attendees"
 msgstr "Assistents"
 
 #. Default: "Contact E-mail"
-#: plone/app/event/at/content.py:232 plone/app/event/dx/behaviors.py:263
+#: plone/app/event/at/content.py:232
+#: plone/app/event/dx/behaviors.py:263
 msgid "label_event_contact_email"
 msgstr "Adreça de correu de contacte"
 
 #. Default: "Contact Name"
-#: plone/app/event/at/content.py:213 plone/app/event/dx/behaviors.py:251
+#: plone/app/event/at/content.py:213
+#: plone/app/event/dx/behaviors.py:251
 msgid "label_event_contact_name"
 msgstr "Nom de contacte"
 
 #. Default: "Contact Phone"
-#: plone/app/event/at/content.py:251 plone/app/event/dx/behaviors.py:275
+#: plone/app/event/at/content.py:251
+#: plone/app/event/dx/behaviors.py:275
 msgid "label_event_contact_phone"
 msgstr "Telèfon de contacte"
 
 #. Default: "Event Ends"
-#: plone/app/event/at/content.py:83 plone/app/event/dx/behaviors.py:84
+#: plone/app/event/at/content.py:83
+#: plone/app/event/dx/behaviors.py:84
 msgid "label_event_end"
 msgstr "L'event finalitza"
 
 #. Default: "Location"
-#: plone/app/event/at/content.py:178 plone/app/event/dx/behaviors.py:215
+#: plone/app/event/at/content.py:178
+#: plone/app/event/dx/behaviors.py:215
 msgid "label_event_location"
 msgstr "Ubicació de l'event"
 
 #. Default: "Open End"
-#: plone/app/event/at/content.py:120 plone/app/event/dx/behaviors.py:108
+#: plone/app/event/at/content.py:120
+#: plone/app/event/dx/behaviors.py:108
 msgid "label_event_open_end"
 msgstr "Finalització oberta"
 
 #. Default: "Recurrence"
-#: plone/app/event/at/content.py:157 plone/app/event/dx/behaviors.py:185
+#: plone/app/event/at/content.py:157
+#: plone/app/event/dx/behaviors.py:185
 msgid "label_event_recurrence"
 msgstr "Periodicitat de l'esdeveniment"
 
@@ -470,22 +480,26 @@ msgid "label_event_settings"
 msgstr "Configuració de l'esdeveniment"
 
 #. Default: "Event Starts"
-#: plone/app/event/at/content.py:61 plone/app/event/dx/behaviors.py:72
+#: plone/app/event/at/content.py:61
+#: plone/app/event/dx/behaviors.py:72
 msgid "label_event_start"
 msgstr "L'event comença"
 
 #. Default: "Timezone"
-#: plone/app/event/at/content.py:140 plone/app/event/dx/behaviors.py:121
+#: plone/app/event/at/content.py:140
+#: plone/app/event/dx/behaviors.py:121
 msgid "label_event_timezone"
 msgstr "Zona horària"
 
 #. Default: "Event URL"
-#: plone/app/event/at/content.py:270 plone/app/event/dx/behaviors.py:287
+#: plone/app/event/at/content.py:270
+#: plone/app/event/dx/behaviors.py:287
 msgid "label_event_url"
 msgstr "URL de l'esdeveniment"
 
 #. Default: "Whole Day"
-#: plone/app/event/at/content.py:103 plone/app/event/dx/behaviors.py:96
+#: plone/app/event/at/content.py:103
+#: plone/app/event/dx/behaviors.py:96
 msgid "label_event_whole_day"
 msgstr "Esdeveniment de tot el dia"
 
@@ -557,10 +571,7 @@ msgstr "Esdeveniments passats"
 #: plone/app/event/portlets/portlet_calendar.py:42
 #: plone/app/event/portlets/portlet_events.py:43
 msgid "portlet_help_search_base"
-msgstr ""
-"Selecciona la carpeta on cerca els esdeveniments. Aquesta carpeta es farà "
-"servir per enllaçar en les cerques del calendari. Si no s'especifica, es "
-"cercaran a tot el lloc i la llista serà cridada des de l'arrel."
+msgstr "Selecciona la carpeta on cerca els esdeveniments. Aquesta carpeta es farà servir per enllaçar en les cerques del calendari. Si no s'especifica, es cercaran a tot el lloc i la llista serà cridada des de l'arrel."
 
 #. Default: "Search base"
 #: plone/app/event/portlets/portlet_calendar.py:41
@@ -659,11 +670,3 @@ msgstr "Esdeveniments d'avui"
 msgid "todays_upcoming_events"
 msgstr "Propoers esdeveniments d'avui"
 
-#~ msgid "Go to the original Event."
-#~ msgstr "Anar a l'esdeveniment original"
-
-#~ msgid "More occurrences of this event:"
-#~ msgstr "Més aparicions d'aquest esdeveniments:"
-
-#~ msgid "This event is part of a recurring Event."
-#~ msgstr "aquest esdeveniment es part d'un esdeveniment periòdic"
diff --git a/plone/app/event/locales/cs/LC_MESSAGES/plone.app.event.po b/plone/app/event/locales/cs/LC_MESSAGES/plone.app.event.po
index e851763..f6b042a 100644
--- a/plone/app/event/locales/cs/LC_MESSAGES/plone.app.event.po
+++ b/plone/app/event/locales/cs/LC_MESSAGES/plone.app.event.po
@@ -129,7 +129,8 @@ msgid "contact_phone"
 msgstr "Kontaktní telefon"
 
 #. Default: "End date must be after start date."
-#: plone/app/event/at/content.py:575 plone/app/event/dx/behaviors.py:142
+#: plone/app/event/at/content.py:575
+#: plone/app/event/dx/behaviors.py:142
 msgid "error_end_must_be_after_start_date"
 msgstr "Datum ukončení musí být po datu začátku události."
 
@@ -231,9 +232,7 @@ msgstr "Přidat událost do kalendáře"
 #. Default: "The timezones, which should be available for the portal. Can be set for users and events"
 #: plone/app/event/interfaces.py:37
 msgid "help_available_timezones"
-msgstr ""
-"Časová pásma, která budou používána v portálu. Mohou být nastavena pro "
-"události a také jednotlivými uživateli."
+msgstr "Časová pásma, která budou používána v portálu. Mohou být nastavena pro události a také jednotlivými uživateli."
 
 #. Default: "Search events in current folder only."
 #: plone/app/event/browser/event_listing.py:446
@@ -245,29 +244,32 @@ msgid "help_event_announcement"
 msgstr "Text k události"
 
 #. Default: "List of attendees."
-#: plone/app/event/at/content.py:199 plone/app/event/dx/behaviors.py:235
+#: plone/app/event/at/content.py:199
+#: plone/app/event/dx/behaviors.py:235
 msgid "help_event_attendees"
 msgstr "Seznam účastníku."
 
 #. Default: "Email address to contact about this event."
-#: plone/app/event/at/content.py:236 plone/app/event/dx/behaviors.py:267
+#: plone/app/event/at/content.py:236
+#: plone/app/event/dx/behaviors.py:267
 msgid "help_event_contact_email"
-msgstr ""
-"Emailová adresa, kam mohou zájemci napsat o bližší informace k této události."
+msgstr "Emailová adresa, kam mohou zájemci napsat o bližší informace k této události."
 
 #. Default: "Name of a person to contact about this event."
-#: plone/app/event/at/content.py:217 plone/app/event/dx/behaviors.py:255
+#: plone/app/event/at/content.py:217
+#: plone/app/event/dx/behaviors.py:255
 msgid "help_event_contact_name"
 msgstr "Jméno osoby,. která má na starosti kontakt s účastníky a veřejností."
 
 #. Default: "Phone number to contact about this event."
-#: plone/app/event/at/content.py:255 plone/app/event/dx/behaviors.py:279
+#: plone/app/event/at/content.py:255
+#: plone/app/event/dx/behaviors.py:279
 msgid "help_event_contact_phone"
-msgstr ""
-"Telefonní číslo, kde mohou zájemci získat bližší informace o této události."
+msgstr "Telefonní číslo, kde mohou zájemci získat bližší informace o této události."
 
 #. Default: "Date and Time, when the event ends."
-#: plone/app/event/at/content.py:87 plone/app/event/dx/behaviors.py:88
+#: plone/app/event/at/content.py:87
+#: plone/app/event/dx/behaviors.py:88
 msgid "help_event_end"
 msgstr "Datum a čas, kdy událost končí"
 
@@ -277,17 +279,20 @@ msgid "help_event_listing_settings"
 msgstr "Nastavení zobrazení události"
 
 #. Default: "Location of the event."
-#: plone/app/event/at/content.py:182 plone/app/event/dx/behaviors.py:219
+#: plone/app/event/at/content.py:182
+#: plone/app/event/dx/behaviors.py:219
 msgid "help_event_location"
 msgstr "Místo konání události."
 
 #. Default: "This event is open ended."
-#: plone/app/event/at/content.py:124 plone/app/event/dx/behaviors.py:112
+#: plone/app/event/at/content.py:124
+#: plone/app/event/dx/behaviors.py:112
 msgid "help_event_open_end"
 msgstr "Tato událost nemá přesně určený konec."
 
 #. Default: "Define the event recurrence rule."
-#: plone/app/event/at/content.py:161 plone/app/event/dx/behaviors.py:189
+#: plone/app/event/at/content.py:161
+#: plone/app/event/dx/behaviors.py:189
 msgid "help_event_recurrence"
 msgstr "Definice pravidla pro opakování události."
 
@@ -297,24 +302,26 @@ msgid "help_event_settings"
 msgstr "Nastavení vlastností události jako je časové pásmo atd."
 
 #. Default: "Date and Time, when the event begins."
-#: plone/app/event/at/content.py:65 plone/app/event/dx/behaviors.py:76
+#: plone/app/event/at/content.py:65
+#: plone/app/event/dx/behaviors.py:76
 msgid "help_event_start"
 msgstr "Datum a čas začátku události."
 
 #. Default: "Select the Timezone, where this event happens."
-#: plone/app/event/at/content.py:144 plone/app/event/dx/behaviors.py:125
+#: plone/app/event/at/content.py:144
+#: plone/app/event/dx/behaviors.py:125
 msgid "help_event_timezone"
 msgstr "Vyberte časové pásmo, ve kterém se událost koná."
 
 #. Default: "Web address with more info about the event. Add http:// for external links."
-#: plone/app/event/at/content.py:274 plone/app/event/dx/behaviors.py:291
+#: plone/app/event/at/content.py:274
+#: plone/app/event/dx/behaviors.py:291
 msgid "help_event_url"
-msgstr ""
-"Adresa stránky, kde se nacházejí bližší informace o události. Pro odkazy "
-"mimo tento portál musíte použít i prefix http://"
+msgstr "Adresa stránky, kde se nacházejí bližší informace o události. Pro odkazy mimo tento portál musíte použít i prefix http://"
 
 #. Default: "Event lasts whole day."
-#: plone/app/event/at/content.py:107 plone/app/event/dx/behaviors.py:100
+#: plone/app/event/at/content.py:107
+#: plone/app/event/dx/behaviors.py:100
 msgid "help_event_whole_day"
 msgstr "Událost trvá celý den."
 
@@ -341,9 +348,7 @@ msgstr "Pokud chcete povolit icalendar import pro tuto položku, klepněte zde."
 #. Default: "The timezone setting of the portal. Users can set their own timezone, if available timezones are defined."
 #: plone/app/event/interfaces.py:26
 msgid "help_portal_timezone"
-msgstr ""
-"Nastavení časového pásma portálu. Uživatelé si mohou vybrat jiné časové "
-"pásmo ze seznamu povolených časových pásem."
+msgstr "Nastavení časového pásma portálu. Uživatelé si mohou vybrat jiné časové pásmo ze seznamu povolených časových pásem."
 
 #. Default: "Content type of the event, which is created when importing icalendar resources."
 #: plone/app/event/ical/importer.py:232
@@ -358,8 +363,7 @@ msgstr "Typ položky"
 #. Default: "Icalendar resource file, if no URL is given."
 #: plone/app/event/ical/importer.py:250
 msgid "ical_import_file_desc"
-msgstr ""
-"Pokud není zadána adresa icalendar souboru, nahrajte icalendar soubor zde."
+msgstr "Pokud není zadána adresa icalendar souboru, nahrajte icalendar soubor zde."
 
 #. Default: "Icalendar File"
 #: plone/app/event/ical/importer.py:249
@@ -381,14 +385,10 @@ msgstr "Zadejste prosím soubor icalendar (ics) nebo jeho webovou adresu"
 msgid "ical_import_sync_strategy_desc"
 msgstr ""
 "Nastavení synchronizace:\n"
-"1) \"Ponechat novější\": Importovat, pokud importovaná událost je změněna po "
-"událost v portálu.\n"
+"1) \"Ponechat novější\": Importovat, pokud importovaná událost je změněna po událost v portálu.\n"
 "2) \"Ponechat moje\":V případě konfliktu, nedělat nic\n"
-"3) \"Použít jejich\": V případě konfliktu nahradit událost z importovaného "
-"spuboru.\n"
-"4) \"Nesynchronizovat\": Nesynchronizovat existující události, ale "
-"importovat události a vytvořit novéi když už takové události existují. Pro "
-"každou nově importovanou vytvořit nové unikátní ID pro synchropnizaci"
+"3) \"Použít jejich\": V případě konfliktu nahradit událost z importovaného spuboru.\n"
+"4) \"Nesynchronizovat\": Nesynchronizovat existující události, ale importovat události a vytvořit novéi když už takové události existují. Pro každou nově importovanou vytvořit nové unikátní ID pro synchropnizaci"
 
 #. Default: "Synchronization Strategy"
 #: plone/app/event/ical/importer.py:257
@@ -427,42 +427,50 @@ msgid "label_event_announcement"
 msgstr "Informace o události"
 
 #. Default: "Attendees"
-#: plone/app/event/at/content.py:195 plone/app/event/dx/behaviors.py:231
+#: plone/app/event/at/content.py:195
+#: plone/app/event/dx/behaviors.py:231
 msgid "label_event_attendees"
 msgstr "Účastníci"
 
 #. Default: "Contact E-mail"
-#: plone/app/event/at/content.py:232 plone/app/event/dx/behaviors.py:263
+#: plone/app/event/at/content.py:232
+#: plone/app/event/dx/behaviors.py:263
 msgid "label_event_contact_email"
 msgstr "Kontaktní e-mail"
 
 #. Default: "Contact Name"
-#: plone/app/event/at/content.py:213 plone/app/event/dx/behaviors.py:251
+#: plone/app/event/at/content.py:213
+#: plone/app/event/dx/behaviors.py:251
 msgid "label_event_contact_name"
 msgstr "Jméno kontaktu"
 
 #. Default: "Contact Phone"
-#: plone/app/event/at/content.py:251 plone/app/event/dx/behaviors.py:275
+#: plone/app/event/at/content.py:251
+#: plone/app/event/dx/behaviors.py:275
 msgid "label_event_contact_phone"
 msgstr "Kontaktní telefon"
 
 #. Default: "Event Ends"
-#: plone/app/event/at/content.py:83 plone/app/event/dx/behaviors.py:84
+#: plone/app/event/at/content.py:83
+#: plone/app/event/dx/behaviors.py:84
 msgid "label_event_end"
 msgstr "Konec události"
 
 #. Default: "Location"
-#: plone/app/event/at/content.py:178 plone/app/event/dx/behaviors.py:215
+#: plone/app/event/at/content.py:178
+#: plone/app/event/dx/behaviors.py:215
 msgid "label_event_location"
 msgstr "Místo konání"
 
 #. Default: "Open End"
-#: plone/app/event/at/content.py:120 plone/app/event/dx/behaviors.py:108
+#: plone/app/event/at/content.py:120
+#: plone/app/event/dx/behaviors.py:108
 msgid "label_event_open_end"
 msgstr "Neurčitý konec"
 
 #. Default: "Recurrence"
-#: plone/app/event/at/content.py:157 plone/app/event/dx/behaviors.py:185
+#: plone/app/event/at/content.py:157
+#: plone/app/event/dx/behaviors.py:185
 msgid "label_event_recurrence"
 msgstr "Opakování"
 
@@ -472,22 +480,26 @@ msgid "label_event_settings"
 msgstr "Nastavení události"
 
 #. Default: "Event Starts"
-#: plone/app/event/at/content.py:61 plone/app/event/dx/behaviors.py:72
+#: plone/app/event/at/content.py:61
+#: plone/app/event/dx/behaviors.py:72
 msgid "label_event_start"
 msgstr "Začátek události"
 
 #. Default: "Timezone"
-#: plone/app/event/at/content.py:140 plone/app/event/dx/behaviors.py:121
+#: plone/app/event/at/content.py:140
+#: plone/app/event/dx/behaviors.py:121
 msgid "label_event_timezone"
 msgstr "Časové pásmo"
 
 #. Default: "Event URL"
-#: plone/app/event/at/content.py:270 plone/app/event/dx/behaviors.py:287
+#: plone/app/event/at/content.py:270
+#: plone/app/event/dx/behaviors.py:287
 msgid "label_event_url"
 msgstr "Adresa události"
 
 #. Default: "Whole Day"
-#: plone/app/event/at/content.py:103 plone/app/event/dx/behaviors.py:96
+#: plone/app/event/at/content.py:103
+#: plone/app/event/dx/behaviors.py:96
 msgid "label_event_whole_day"
 msgstr "Celý den"
 
@@ -559,10 +571,7 @@ msgstr "Uskutečněné události"
 #: plone/app/event/portlets/portlet_calendar.py:42
 #: plone/app/event/portlets/portlet_events.py:43
 msgid "portlet_help_search_base"
-msgstr ""
-"Vyberte výchozí složku, kde budou vyhledávány události. Tato složka bude "
-"také použita jako odkaz ve vyhledávání z kalendáře. Pokud není složka "
-"uvedena, pak se budou vyhledávat události v celém portálu."
+msgstr "Vyberte výchozí složku, kde budou vyhledávány události. Tato složka bude také použita jako odkaz ve vyhledávání z kalendáře. Pokud není složka uvedena, pak se budou vyhledávat události v celém portálu."
 
 #. Default: "Search base"
 #: plone/app/event/portlets/portlet_calendar.py:41
@@ -660,3 +669,4 @@ msgstr "Dnešní události"
 #: plone/app/event/browser/event_listing.py:233
 msgid "todays_upcoming_events"
 msgstr "Dnešní nadcházející události"
+
diff --git a/plone/app/event/locales/es/LC_MESSAGES/plone.app.event.po b/plone/app/event/locales/es/LC_MESSAGES/plone.app.event.po
index 6fb63ba..8321172 100644
--- a/plone/app/event/locales/es/LC_MESSAGES/plone.app.event.po
+++ b/plone/app/event/locales/es/LC_MESSAGES/plone.app.event.po
@@ -5,7 +5,6 @@ msgstr ""
 "PO-Revision-Date: 2014-10-20 16:11+0100\n"
 "Last-Translator: Corina Riba Santos <corina.riba@upcnet.es>\n"
 "Language-Team: Plone Team @ UPCnet <plone.team@upcnet.es>\n"
-"Language: es\n"
 "MIME-Version: 1.0\n"
 "Content-Type: text/plain; charset=UTF-8\n"
 "Content-Transfer-Encoding: 8bit\n"
@@ -14,6 +13,7 @@ msgstr ""
 "Language-Name: Spanish\n"
 "Preferred-Encodings: utf-8 latin1\n"
 "Domain: plone.app.event\n"
+"Language: es\n"
 
 #. Default: "Events in next 7 days."
 #: plone/app/event/browser/event_listing.py:240
@@ -127,7 +127,8 @@ msgid "contact_phone"
 msgstr "Teléfono de contacto"
 
 #. Default: "End date must be after start date."
-#: plone/app/event/at/content.py:575 plone/app/event/dx/behaviors.py:142
+#: plone/app/event/at/content.py:575
+#: plone/app/event/dx/behaviors.py:142
 msgid "error_end_must_be_after_start_date"
 msgstr "La fecha de finalización debe ser posterior a la fecha de inicio."
 
@@ -230,9 +231,7 @@ msgstr "Agregar evento al calendario"
 #. Default: "The timezones, which should be available for the portal. Can be set for users and events"
 #: plone/app/event/interfaces.py:37
 msgid "help_available_timezones"
-msgstr ""
-"Zonas horarias disponibles para este sitio. Puede ser configurado por los "
-"usuariios o los eventos."
+msgstr "Zonas horarias disponibles para este sitio. Puede ser configurado por los usuariios o los eventos."
 
 #. Default: "Search events in current folder only."
 #: plone/app/event/browser/event_listing.py:446
@@ -244,27 +243,32 @@ msgid "help_event_announcement"
 msgstr ""
 
 #. Default: "List of attendees."
-#: plone/app/event/at/content.py:199 plone/app/event/dx/behaviors.py:235
+#: plone/app/event/at/content.py:199
+#: plone/app/event/dx/behaviors.py:235
 msgid "help_event_attendees"
 msgstr "Lista de asistentes"
 
 #. Default: "Email address to contact about this event."
-#: plone/app/event/at/content.py:236 plone/app/event/dx/behaviors.py:267
+#: plone/app/event/at/content.py:236
+#: plone/app/event/dx/behaviors.py:267
 msgid "help_event_contact_email"
 msgstr "Dirección de correo de contacto de este evento"
 
 #. Default: "Name of a person to contact about this event."
-#: plone/app/event/at/content.py:217 plone/app/event/dx/behaviors.py:255
+#: plone/app/event/at/content.py:217
+#: plone/app/event/dx/behaviors.py:255
 msgid "help_event_contact_name"
 msgstr "Persona de contacto responsable de este evento "
 
 #. Default: "Phone number to contact about this event."
-#: plone/app/event/at/content.py:255 plone/app/event/dx/behaviors.py:279
+#: plone/app/event/at/content.py:255
+#: plone/app/event/dx/behaviors.py:279
 msgid "help_event_contact_phone"
 msgstr "Número de teléfono de contacto de este evento"
 
 #. Default: "Date and Time, when the event ends."
-#: plone/app/event/at/content.py:87 plone/app/event/dx/behaviors.py:88
+#: plone/app/event/at/content.py:87
+#: plone/app/event/dx/behaviors.py:88
 msgid "help_event_end"
 msgstr "Fecha y hora a la que finaliza el evento"
 
@@ -274,17 +278,20 @@ msgid "help_event_listing_settings"
 msgstr "Configuración de la vista de eventos"
 
 #. Default: "Location of the event."
-#: plone/app/event/at/content.py:182 plone/app/event/dx/behaviors.py:219
+#: plone/app/event/at/content.py:182
+#: plone/app/event/dx/behaviors.py:219
 msgid "help_event_location"
 msgstr "Ubicación del evento"
 
 #. Default: "This event is open ended."
-#: plone/app/event/at/content.py:124 plone/app/event/dx/behaviors.py:112
+#: plone/app/event/at/content.py:124
+#: plone/app/event/dx/behaviors.py:112
 msgid "help_event_open_end"
 msgstr "Este evento es abierto"
 
 #. Default: "Define the event recurrence rule."
-#: plone/app/event/at/content.py:161 plone/app/event/dx/behaviors.py:189
+#: plone/app/event/at/content.py:161
+#: plone/app/event/dx/behaviors.py:189
 msgid "help_event_recurrence"
 msgstr "Introduzca las reglas de periodicidad, una por línea."
 
@@ -294,24 +301,26 @@ msgid "help_event_settings"
 msgstr "Ajustes relativos al evento como zona horaria, etc."
 
 #. Default: "Date and Time, when the event begins."
-#: plone/app/event/at/content.py:65 plone/app/event/dx/behaviors.py:76
+#: plone/app/event/at/content.py:65
+#: plone/app/event/dx/behaviors.py:76
 msgid "help_event_start"
 msgstr "Fecha y hora en la que empieza el evento"
 
 #. Default: "Select the Timezone, where this event happens."
-#: plone/app/event/at/content.py:144 plone/app/event/dx/behaviors.py:125
+#: plone/app/event/at/content.py:144
+#: plone/app/event/dx/behaviors.py:125
 msgid "help_event_timezone"
 msgstr "Seleccionar la zona horaria en la que se celebra el evento"
 
 #. Default: "Web address with more info about the event. Add http:// for external links."
-#: plone/app/event/at/content.py:274 plone/app/event/dx/behaviors.py:291
+#: plone/app/event/at/content.py:274
+#: plone/app/event/dx/behaviors.py:291
 msgid "help_event_url"
-msgstr ""
-"Dirección web con más información sobre el evento. Agregue http:// para los "
-"enlaces externos."
+msgstr "Dirección web con más información sobre el evento. Agregue http:// para los enlaces externos."
 
 #. Default: "Event lasts whole day."
-#: plone/app/event/at/content.py:107 plone/app/event/dx/behaviors.py:100
+#: plone/app/event/at/content.py:107
+#: plone/app/event/dx/behaviors.py:100
 msgid "help_event_whole_day"
 msgstr "El evento dura todo el día"
 
@@ -328,28 +337,22 @@ msgstr "Importar eventos de un fichero iCalendar"
 #. Default: "Click to disable the icalendar import feature on this context."
 #: plone/app/event/profiles/default/actions.xml
 msgid "help_ical_import_disable"
-msgstr ""
-"Hacer clic para desactivar la importación desde archivos iCalendar en este "
-"contexto"
+msgstr "Hacer clic para desactivar la importación desde archivos iCalendar en este contexto"
 
 #. Default: "Click to enable the icalendar import feature on this context."
 #: plone/app/event/profiles/default/actions.xml
 msgid "help_ical_import_enable"
-msgstr ""
-"Hacer clic para habilitar la impotación de archivos iCalendar en este cotexto"
+msgstr "Hacer clic para habilitar la impotación de archivos iCalendar en este cotexto"
 
 #. Default: "The timezone setting of the portal. Users can set their own timezone, if available timezones are defined."
 #: plone/app/event/interfaces.py:26
 msgid "help_portal_timezone"
-msgstr ""
-"configuración de la zona horaria del sitio. Los usuarios pueden configurar "
-"su propia zona horaria, si hay zonas horarias disponibles definidas"
+msgstr "configuración de la zona horaria del sitio. Los usuarios pueden configurar su propia zona horaria, si hay zonas horarias disponibles definidas"
 
 #. Default: "Content type of the event, which is created when importing icalendar resources."
 #: plone/app/event/ical/importer.py:232
 msgid "ical_import_event_type_desc"
-msgstr ""
-"Tipo de contenido del evento que se crea al importar archivos iCalendar"
+msgstr "Tipo de contenido del evento que se crea al importar archivos iCalendar"
 
 #. Default: "Event Type"
 #: plone/app/event/ical/importer.py:231
@@ -374,22 +377,17 @@ msgstr "${num} eventos importados de ${filename}"
 #. Default: "Please provide either a icalendar ics file or a URL to a file."
 #: plone/app/event/ical/importer.py:364
 msgid "ical_import_no_ics"
-msgstr ""
-"Por favor, proporcione un archivo iCalendar (ics) o una URL a un archivo"
+msgstr "Por favor, proporcione un archivo iCalendar (ics) o una URL a un archivo"
 
 #. Default: "Defines how to synchronize:\n1) \"Keep newer\": Import, if the imported event is modified after the existing\n   one.\n2) \"Keep mine\": On conflicts, just do nothing.\n3) \"Keep theirs\": On conflicts, update the existing event with the external\n   one.\n4) \"No Syncing\": Don't synchronize but import events and create new ones, even\n    if they already exist. For each one, create a new sync_uid."
 #: plone/app/event/ical/importer.py:261
 msgid "ical_import_sync_strategy_desc"
 msgstr ""
 "Definir como sincronizar: :\n"
-"1) \"Mantener los nuevos\": Importa si los eventos importados han sido "
-"modificados después de los existentes.\n"
+"1) \"Mantener los nuevos\": Importa si los eventos importados han sido modificados después de los existentes.\n"
 "2) \"Mantener los míos\": Si hay conflicto, no hagas nada.\n"
-"3) \"Manten los suyos\": Si hay conflicto, actualiza los eventos existentes "
-"con los externos.\n"
-"4) \"No sincronices\": No sincronices, pero importa los eventos existentes y "
-"crea nuevos, incluso si ya existen. Para cada uno de ellos crea un nuevo "
-"sync_uid."
+"3) \"Manten los suyos\": Si hay conflicto, actualiza los eventos existentes con los externos.\n"
+"4) \"No sincronices\": No sincronices, pero importa los eventos existentes y crea nuevos, incluso si ya existen. Para cada uno de ellos crea un nuevo sync_uid."
 
 #. Default: "Synchronization Strategy"
 #: plone/app/event/ical/importer.py:257
@@ -428,42 +426,50 @@ msgid "label_event_announcement"
 msgstr "Cuerpo del texto del evento"
 
 #. Default: "Attendees"
-#: plone/app/event/at/content.py:195 plone/app/event/dx/behaviors.py:231
+#: plone/app/event/at/content.py:195
+#: plone/app/event/dx/behaviors.py:231
 msgid "label_event_attendees"
 msgstr "Asistentes"
 
 #. Default: "Contact E-mail"
-#: plone/app/event/at/content.py:232 plone/app/event/dx/behaviors.py:263
+#: plone/app/event/at/content.py:232
+#: plone/app/event/dx/behaviors.py:263
 msgid "label_event_contact_email"
 msgstr "Email de contacto"
 
 #. Default: "Contact Name"
-#: plone/app/event/at/content.py:213 plone/app/event/dx/behaviors.py:251
+#: plone/app/event/at/content.py:213
+#: plone/app/event/dx/behaviors.py:251
 msgid "label_event_contact_name"
 msgstr "Nombre de contacto"
 
 #. Default: "Contact Phone"
-#: plone/app/event/at/content.py:251 plone/app/event/dx/behaviors.py:275
+#: plone/app/event/at/content.py:251
+#: plone/app/event/dx/behaviors.py:275
 msgid "label_event_contact_phone"
 msgstr "Teléfono de contacto"
 
 #. Default: "Event Ends"
-#: plone/app/event/at/content.py:83 plone/app/event/dx/behaviors.py:84
+#: plone/app/event/at/content.py:83
+#: plone/app/event/dx/behaviors.py:84
 msgid "label_event_end"
 msgstr "Fin del Evento"
 
 #. Default: "Location"
-#: plone/app/event/at/content.py:178 plone/app/event/dx/behaviors.py:215
+#: plone/app/event/at/content.py:178
+#: plone/app/event/dx/behaviors.py:215
 msgid "label_event_location"
 msgstr "Lugar del Evento"
 
 #. Default: "Open End"
-#: plone/app/event/at/content.py:120 plone/app/event/dx/behaviors.py:108
+#: plone/app/event/at/content.py:120
+#: plone/app/event/dx/behaviors.py:108
 msgid "label_event_open_end"
 msgstr "Finalización abierta"
 
 #. Default: "Recurrence"
-#: plone/app/event/at/content.py:157 plone/app/event/dx/behaviors.py:185
+#: plone/app/event/at/content.py:157
+#: plone/app/event/dx/behaviors.py:185
 msgid "label_event_recurrence"
 msgstr "Periodicidad del Evento"
 
@@ -473,22 +479,26 @@ msgid "label_event_settings"
 msgstr "Configuración del evento"
 
 #. Default: "Event Starts"
-#: plone/app/event/at/content.py:61 plone/app/event/dx/behaviors.py:72
+#: plone/app/event/at/content.py:61
+#: plone/app/event/dx/behaviors.py:72
 msgid "label_event_start"
 msgstr "Inicio del Evento"
 
 #. Default: "Timezone"
-#: plone/app/event/at/content.py:140 plone/app/event/dx/behaviors.py:121
+#: plone/app/event/at/content.py:140
+#: plone/app/event/dx/behaviors.py:121
 msgid "label_event_timezone"
 msgstr "Zona horaria"
 
 #. Default: "Event URL"
-#: plone/app/event/at/content.py:270 plone/app/event/dx/behaviors.py:287
+#: plone/app/event/at/content.py:270
+#: plone/app/event/dx/behaviors.py:287
 msgid "label_event_url"
 msgstr "URL del Evento"
 
 #. Default: "Whole Day"
-#: plone/app/event/at/content.py:103 plone/app/event/dx/behaviors.py:96
+#: plone/app/event/at/content.py:103
+#: plone/app/event/dx/behaviors.py:96
 msgid "label_event_whole_day"
 msgstr "Evento de día completo"
 
@@ -560,10 +570,7 @@ msgstr "Eventos pasados"
 #: plone/app/event/portlets/portlet_calendar.py:42
 #: plone/app/event/portlets/portlet_events.py:43
 msgid "portlet_help_search_base"
-msgstr ""
-"Seleccionar la carpeta dónde buscar los eventos. Esta carpeta será la que se "
-"use para enlazar las búsquedas. Si no se especifica, la búsqueda se "
-"realizará en todo el sitio y la lista de eventos se llamará desde la raíz. "
+msgstr "Seleccionar la carpeta dónde buscar los eventos. Esta carpeta será la que se use para enlazar las búsquedas. Si no se especifica, la búsqueda se realizará en todo el sitio y la lista de eventos se llamará desde la raíz. "
 
 #. Default: "Search base"
 #: plone/app/event/portlets/portlet_calendar.py:41
@@ -662,11 +669,3 @@ msgstr "Eventos de hoy"
 msgid "todays_upcoming_events"
 msgstr "Próximos eventos de hoy"
 
-#~ msgid "Go to the original Event."
-#~ msgstr "Ir al evento original"
-
-#~ msgid "More occurrences of this event:"
-#~ msgstr "Más ocurrencias de este evento:"
-
-#~ msgid "This event is part of a recurring Event."
-#~ msgstr "Este evento es parte de un evento periódico"
diff --git a/plone/app/event/locales/fr/LC_MESSAGES/plone.app.event.po b/plone/app/event/locales/fr/LC_MESSAGES/plone.app.event.po
index 92fb564..afdd35a 100644
--- a/plone/app/event/locales/fr/LC_MESSAGES/plone.app.event.po
+++ b/plone/app/event/locales/fr/LC_MESSAGES/plone.app.event.po
@@ -617,7 +617,7 @@ msgstr ""
 #. Default: "This Month"
 #: plone/app/event/browser/event_listing.pt:56
 msgid "this_month_link"
-msgstr "Ce mois ci"
+msgstr "Ce mois-ci"
 
 #. Default: "This Week"
 #: plone/app/event/browser/event_listing.pt:63
diff --git a/plone/app/event/profiles/default/metadata.xml b/plone/app/event/profiles/default/metadata.xml
index 0508d3d..09f3176 100644
--- a/plone/app/event/profiles/default/metadata.xml
+++ b/plone/app/event/profiles/default/metadata.xml
@@ -4,6 +4,7 @@
   <dependencies>
     <dependency>profile-plone.app.registry:default</dependency>
     <dependency>profile-plone.app.widgets:default</dependency>
+    <dependency>profile-plone.app.z3cform:default</dependency>
     <dependency>profile-plone.formwidget.recurrence:default</dependency>
   </dependencies>
 </metadata>
diff --git a/plone/app/event/recurrence.py b/plone/app/event/recurrence.py
index 0c4e6e2..69b7dc4 100644
--- a/plone/app/event/recurrence.py
+++ b/plone/app/event/recurrence.py
@@ -9,9 +9,9 @@
 from plone.event.interfaces import IRecurrenceSupport
 from plone.event.recurrence import recurrence_sequence_ical
 from plone.event.utils import is_same_day
-from plone.namedfile.scaling import ImageScale as DXImageScaling
+from plone.namedfile.interfaces import IImageScaleTraversable
+from plone.namedfile.scaling import ImageScaling
 from zope.component import adapter
-from zope.interface import Interface
 from zope.interface import implementer
 from zope.publisher.interfaces.browser import IBrowserRequest
 
@@ -20,22 +20,6 @@
 except ImportError:
     from ZPublisher.BaseRequest import DefaultPublishTraverse
 
-try:
-    from plone.app.event.at.interfaces import IATEvent
-except ImportError:
-    class IATEvent(Interface):
-        pass
-try:
-    from plone.app.event.dx.interfaces import IDXEvent
-except ImportError:
-    class IDXEvent(Interface):
-        pass
-
-try:
-    from plone.app.imaging.scaling import ImageScaling as ATImageScaling
-except ImportError:
-    pass
-
 
 @adapter(IEventRecurrence)
 @implementer(IRecurrenceSupport)
@@ -174,13 +158,11 @@ def url(self):
 
 
 class ImageScalingViewFactory(BrowserView):
-    """Factory for ImageScaling view for occurrences.
-    Delegates to AT or DX specific view and rebinds to the parent context.
+    """Factory for ImageScaling view for Occurrences.
+    Delegates to parent @@images view.
     """
     def __new__(cls, context, request):
         parent = aq_parent(context)
-        if IATEvent.providedBy(parent):
-            return ATImageScaling(parent, request)
-        elif IDXEvent.providedBy(parent):
-            return DXImageScaling(parent, request)
+        if IImageScaleTraversable.providedBy(parent):
+            return ImageScaling(parent, request)
         return None
diff --git a/plone/app/event/tests/test_recurrence.py b/plone/app/event/tests/test_recurrence.py
index a39ef9f..75d7e12 100644
--- a/plone/app/event/tests/test_recurrence.py
+++ b/plone/app/event/tests/test_recurrence.py
@@ -1,7 +1,7 @@
 from OFS.SimpleItem import SimpleItem
 from plone.app.event.base import RET_MODE_ACCESSORS
 from plone.app.event.base import get_events
-from plone.app.event.dx.traverser import OccurrenceTraverser as OccTravDX
+from plone.app.event.dx.traverser import OccurrenceTraverser
 from plone.app.event.recurrence import Occurrence
 from plone.app.event.testing import PAEventDX_FUNCTIONAL_TESTING
 from plone.app.event.testing import PAEventDX_INTEGRATION_TESTING
@@ -13,15 +13,17 @@
 from plone.app.event.tests.base_setup import patched_now
 from plone.app.testing import TEST_USER_ID, TEST_USER_PASSWORD
 from plone.app.testing import setRoles
+from plone.dexterity.utils import createContentInContainer
 from plone.event.interfaces import IEvent
 from plone.event.interfaces import IEventAccessor
 from plone.event.interfaces import IEventRecurrence
 from plone.event.interfaces import IOccurrence
 from plone.event.interfaces import IRecurrenceSupport
-from plone.dexterity.utils import createContentInContainer
+from plone.namedfile.interfaces import IImageScaleTraversable
 from plone.testing.z2 import Browser
+from zope.interface import alsoProvides
 from zope.publisher.interfaces.browser import IBrowserView
-
+from mock import Mock
 
 import datetime
 import pytz
@@ -39,17 +41,19 @@ class TestTraversalDX(AbstractSampleDataEvents):
     layer = PAEventDX_FUNCTIONAL_TESTING
 
     @property
-    def traverser(self):
-        return OccTravDX(self.now_event, self.request)
+    def occ_traverser_1(self):
+        return OccurrenceTraverser(self.now_event, self.request)
 
     def test_no_occurrence(self):
         self.assertRaises(
             AttributeError,
-            self.traverser.publishTraverse,
-            self.request, 'foo')
+            self.occ_traverser_1.publishTraverse,
+            self.request,
+            'foo'
+        )
 
     def test_default_views(self):
-        view = self.traverser.publishTraverse(self.request, 'event_view')
+        view = self.occ_traverser_1.publishTraverse(self.request, 'event_view')
         self.assertTrue(IBrowserView.providedBy(view))
 
     def test_occurrence(self):
@@ -59,11 +63,11 @@ def test_occurrence(self):
         # Try to traverse to inexistent occurrence
         self.assertRaises(
             AttributeError,
-            self.traverser.publishTraverse,
+            self.occ_traverser_1.publishTraverse,
             self.request, '2000-01-01')
 
         # Traverse to existent occurrence
-        item = self.traverser.publishTraverse(self.request, '2013-05-07')
+        item = self.occ_traverser_1.publishTraverse(self.request, '2013-05-07')
         self.assertTrue(IOccurrence.providedBy(item))
         self.assertEqual(type(self.now_event), type(item.aq_parent))
 
@@ -95,6 +99,14 @@ def test_traverse_occurrence(self):
         title = self.now_event.title.encode('ascii')
         self.assertTrue(title in browser.contents)
 
+    def test_traverse_occurrence_imagescaling(self):
+        self.now_event.image = Mock()
+        occurrence = self.occ_traverser_1.publishTraverse(
+            self.request, '2013-05-07'
+        )
+        image_view = occurrence.restrictedTraverse('@@images')
+        self.assertEqual(image_view.context, self.now_event)
+
 
 class TestOccurrences(unittest.TestCase):
     layer = PAEventDX_INTEGRATION_TESTING
@@ -190,7 +202,7 @@ def setUp(self):
         data.start = datetime.datetime(2011, 11, 11, 11, 00, tzinfo=tz)
         data.end = data.start + duration
         data.recurrence = 'RRULE:FREQ=DAILY;COUNT=4'
-        zope.interface.alsoProvides(data, IEvent, IEventRecurrence)
+        alsoProvides(data, IEvent, IEventRecurrence)
         self.data = data
 
     def test_recurrence_occurrences(self):


Repository: plone.app.event
Branch: refs/heads/master
Date: 2015-04-20T19:49:49+09:00
Author: Takeshi Yamamoto (retsu) <tyam@mac.com>
Commit: https://github.com/plone/plone.app.event/commit/86e1a220baa4f4d45029dc412f6c53cfe80cb183

Japanese translation text added.

Files changed:
M plone/app/event/locales/ja/LC_MESSAGES/plone.app.event.po

diff --git a/plone/app/event/locales/ja/LC_MESSAGES/plone.app.event.po b/plone/app/event/locales/ja/LC_MESSAGES/plone.app.event.po
index 4d057c1..0b87995 100644
--- a/plone/app/event/locales/ja/LC_MESSAGES/plone.app.event.po
+++ b/plone/app/event/locales/ja/LC_MESSAGES/plone.app.event.po
@@ -31,11 +31,11 @@ msgstr "イベントポートレットを追加"
 
 #: plone/app/event/browser/event_summary.pt:40
 msgid "All dates"
-msgstr ""
+msgstr "すべての日付"
 
 #: plone/app/event/interfaces.py:36
 msgid "Available timezones"
-msgstr ""
+msgstr "利用可能な時間帯"
 
 #: plone/app/event/portlets/portlet_calendar.py:59
 msgid "Calendar"
@@ -43,7 +43,7 @@ msgstr "カレンダー"
 
 #: plone/app/event/browser/controlpanel.pt:33
 msgid "Date/Time based on the current event settings:"
-msgstr ""
+msgstr "現在のイベント設定をベースにした日付/時間"
 
 #: plone/app/event/portlets/portlet_calendar.py:229
 msgid "Edit Calendar Portlet"
@@ -55,7 +55,7 @@ msgstr "イベントポートレットを編集"
 
 #: plone/app/event/profiles/default/controlpanel.xml
 msgid "Event Settings"
-msgstr ""
+msgstr "イベント設定"
 
 #: plone/app/event/portlets/portlet_events.py:71
 msgid "Events"
@@ -63,110 +63,110 @@ msgstr "イベント"
 
 #: plone/app/event/portlets/portlet_events.py:26
 msgid "How many items to list."
-msgstr ""
+msgstr "いくつのアイテムをリストするか"
 
 #: plone/app/event/portlets/portlet_calendar.py:33
 #: plone/app/event/portlets/portlet_events.py:33
 msgid "Items in which workflow state to show."
-msgstr ""
+msgstr "表示すべきアイテムのワークフロー状態"
 
 #: plone/app/event/portlets/portlet_events.py:25
 msgid "Number of items to display"
-msgstr ""
+msgstr "表示するアイテムの数"
 
 #: plone/app/event/interfaces.py:25
 msgid "Portal default timezone"
-msgstr ""
+msgstr "ポータルデフォルト時間帯"
 
 #: plone/app/event/portlets/portlet_calendar.py:218
 msgid "This portlet displays events in a calendar."
-msgstr ""
+msgstr "このポートレットはカレンダー形式でイベントを表示します"
 
 #: plone/app/event/portlets/portlet_events.py:131
 msgid "This portlet lists upcoming Events."
-msgstr ""
+msgstr "このポートレットはこれからのイベントをリストします"
 
 #: plone/app/event/portlets/portlet_calendar.py:32
 #: plone/app/event/portlets/portlet_events.py:32
 msgid "Workflow state"
-msgstr ""
+msgstr "ワークフロー状態"
 
 #. Default: "All events"
 #: plone/app/event/browser/event_listing.py:224
 msgid "all_events"
-msgstr ""
+msgstr "すべてのイベント"
 
 #. Default: "Upcoming Events"
 #: plone/app/event/portlets/portlet_events.pt:10
 msgid "box_events"
-msgstr ""
+msgstr "これからのイベント"
 
 #. Default: "Previous events…"
 #: plone/app/event/portlets/portlet_events.pt:50
 msgid "box_previous_events"
-msgstr ""
+msgstr "前のイベント"
 
 #. Default: "Upcoming events…"
 #: plone/app/event/portlets/portlet_events.pt:57
 msgid "box_upcoming_events"
-msgstr ""
+msgstr "これからのイベント..."
 
 #. Default: "Attendees"
 #: plone/app/event/browser/event_summary.pt:82
 msgid "contact_attendees"
-msgstr ""
+msgstr "参加者"
 
 #. Default: "Contact Name"
 #: plone/app/event/browser/event_listing.pt:130
 #: plone/app/event/browser/event_summary.pt:69
 msgid "contact_name"
-msgstr ""
+msgstr "連絡先名称"
 
 #. Default: "Contact Phone"
 #: plone/app/event/browser/event_summary.pt:77
 msgid "contact_phone"
-msgstr ""
+msgstr "連絡先電話番号"
 
 #. Default: "End date must be after start date."
 #: plone/app/event/at/content.py:575
 #: plone/app/event/dx/behaviors.py:142
 msgid "error_end_must_be_after_start_date"
-msgstr ""
+msgstr "終了日は開始日の後でなければなりません"
 
 #. Default: "Invalid start or end date"
 #: plone/app/event/dx/behaviors.py:62
 msgid "error_invalid_date"
-msgstr ""
+msgstr "無効な開始日または終了日"
 
 #. Default: "End date is not valid."
 #: plone/app/event/at/content.py:565
 msgid "error_invalid_end_date"
-msgstr ""
+msgstr "終了日が無効"
 
 #. Default: "Start date is not valid."
 #: plone/app/event/at/content.py:550
 msgid "error_invalid_start_date"
-msgstr ""
+msgstr "開始日が無効"
 
 #. Default: "Event"
 #: plone/app/event/browser/event_summary.pt:15
 msgid "event_event"
-msgstr ""
+msgstr "イベント"
 
 #. Default: "Web"
 #: plone/app/event/browser/event_summary.pt:89
 msgid "event_url"
-msgstr ""
+msgstr "Webサイト"
 
 #. Default: "What"
 #: plone/app/event/browser/event_summary.pt:21
 msgid "event_what"
-msgstr ""
+msgstr "何が"
 
 #. Default: "When"
 #: plone/app/event/browser/event_summary.pt:27
 msgid "event_when"
-msgstr ""
+msgstr "いつ"
 
 #. Default: "${startdate} to ${enddate}"
 #: plone/app/event/browser/formatted_date.pt:27
@@ -190,7 +190,7 @@ msgstr "${date}の${starttime}以降のイベント"
 #. Default: "Where"
 #: plone/app/event/browser/event_summary.pt:62
 msgid "event_where"
-msgstr "場所"
+msgstr "どこで"
 
 #. Default: "${from} until ${until}."
 #: plone/app/event/browser/event_listing.py:241
@@ -226,17 +226,17 @@ msgstr "これからのイベント"
 #. Default: "Add event to calendar"
 #: plone/app/event/browser/event_summary.pt:97
 msgid "heading_add_to_calendar"
-msgstr ""
+msgstr "イベントをカレンダーに追加"
 
 #. Default: "The timezones, which should be available for the portal. Can be set for users and events"
 #: plone/app/event/interfaces.py:37
 msgid "help_available_timezones"
-msgstr ""
+msgstr "ポータルで利用可能になるべき時間帯。ユーザーとイベントに設定可能"
 
 #. Default: "Search events in current folder only."
 #: plone/app/event/browser/event_listing.py:446
 msgid "help_current_folder"
-msgstr ""
+msgstr "現在のフォルダ内だけでイベントを検索"
 
 #: plone/app/event/at/content.py:302
 msgid "help_event_announcement"
@@ -246,113 +246,113 @@ msgstr ""
 #: plone/app/event/at/content.py:199
 #: plone/app/event/dx/behaviors.py:235
 msgid "help_event_attendees"
-msgstr ""
+msgstr "参加者のリスト"
 
 #. Default: "Email address to contact about this event."
 #: plone/app/event/at/content.py:236
 #: plone/app/event/dx/behaviors.py:267
 msgid "help_event_contact_email"
-msgstr ""
+msgstr "このイベントについての連絡先Email"
 
 #. Default: "Name of a person to contact about this event."
 #: plone/app/event/at/content.py:217
 #: plone/app/event/dx/behaviors.py:255
 msgid "help_event_contact_name"
-msgstr ""
+msgstr "このイベントについての連絡先担当者名"
 
 #. Default: "Phone number to contact about this event."
 #: plone/app/event/at/content.py:255
 #: plone/app/event/dx/behaviors.py:279
 msgid "help_event_contact_phone"
-msgstr ""
+msgstr "このイベントについての連絡先電話番号"
 
 #. Default: "Date and Time, when the event ends."
 #: plone/app/event/at/content.py:87
 #: plone/app/event/dx/behaviors.py:88
 msgid "help_event_end"
-msgstr ""
+msgstr "イベントが終了する日付と時間"
 
 #. Default: "Settings for the event listing view."
 #: plone/app/event/profiles/default/actions.xml
 msgid "help_event_listing_settings"
-msgstr ""
+msgstr "イベント一覧表示の設定"
 
 #. Default: "Location of the event."
 #: plone/app/event/at/content.py:182
 #: plone/app/event/dx/behaviors.py:219
 msgid "help_event_location"
-msgstr ""
+msgstr "イベントの場所"
 
 #. Default: "This event is open ended."
 #: plone/app/event/at/content.py:124
 #: plone/app/event/dx/behaviors.py:112
 msgid "help_event_open_end"
-msgstr ""
+msgstr "このイベントは無期限"
 
 #. Default: "Define the event recurrence rule."
 #: plone/app/event/at/content.py:161
 #: plone/app/event/dx/behaviors.py:189
 msgid "help_event_recurrence"
-msgstr ""
+msgstr "イベント繰り返し規則を定義"
 
 #. Default: "Event related settings like timezone, etc."
 #: plone/app/event/browser/controlpanel.py:15
 msgid "help_event_settings"
-msgstr ""
+msgstr "イベントに関連する設定。例えば時間帯など"
 
 #. Default: "Date and Time, when the event begins."
 #: plone/app/event/at/content.py:65
 #: plone/app/event/dx/behaviors.py:76
 msgid "help_event_start"
-msgstr ""
+msgstr "イベントが始まる日時"
 
 #. Default: "Select the Timezone, where this event happens."
 #: plone/app/event/at/content.py:144
 #: plone/app/event/dx/behaviors.py:125
 msgid "help_event_timezone"
-msgstr ""
+msgstr "このイベントが開催される場所の時間帯を選択"
 
 #. Default: "Web address with more info about the event. Add http:// for external links."
 #: plone/app/event/at/content.py:274
 #: plone/app/event/dx/behaviors.py:291
 msgid "help_event_url"
-msgstr ""
+msgstr "イベントについての詳細情報があるWebアドレス。 外部リンクには http:// を追加する"
 
 #. Default: "Event lasts whole day."
 #: plone/app/event/at/content.py:107
 #: plone/app/event/dx/behaviors.py:100
 msgid "help_event_whole_day"
-msgstr ""
+msgstr "丸一日かかる終日イベント"
 
 #. Default: "First day in the Week."
 #: plone/app/event/interfaces.py:47
 msgid "help_first_weekday"
-msgstr ""
+msgstr "週の最初の日
 
 #. Default: "Import Events from icalendar files."
 #: plone/app/event/profiles/default/actions.xml
 msgid "help_ical_import"
-msgstr ""
+msgstr "iCalendarファイルからイベントをインポート"
 
 #. Default: "Click to disable the icalendar import feature on this context."
 #: plone/app/event/profiles/default/actions.xml
 msgid "help_ical_import_disable"
-msgstr ""
+msgstr "このコンテクストでiCalendarインポート機能を無効にするにはクリック"
 
 #. Default: "Click to enable the icalendar import feature on this context."
 #: plone/app/event/profiles/default/actions.xml
 msgid "help_ical_import_enable"
-msgstr ""
+msgstr "このコンテクストでiCalendarインポート機能を有効にするにはクリック"
 
 #. Default: "The timezone setting of the portal. Users can set their own timezone, if available timezones are defined."
 #: plone/app/event/interfaces.py:26
 msgid "help_portal_timezone"
-msgstr ""
+msgstr "ポータルの時間帯設定。利用できる時間帯が定義されていれば、利用者は自分自身の時間帯を設定できる。"
 
 #. Default: "Content type of the event, which is created when importing icalendar resources."
 #: plone/app/event/ical/importer.py:232
 msgid "ical_import_event_type_desc"
-msgstr ""
+msgstr "iCalendarリソースをインポートする時に作られるイベントのコンテンツタイプ"
 
 #. Default: "Event Type"
 #: plone/app/event/ical/importer.py:231
@@ -362,22 +362,22 @@ msgstr "イベント種別"
 #. Default: "Icalendar resource file, if no URL is given."
 #: plone/app/event/ical/importer.py:250
 msgid "ical_import_file_desc"
-msgstr ""
+msgstr "何かURLが与えられないのであれば、iCalendarリソースファイル"
 
 #. Default: "Icalendar File"
 #: plone/app/event/ical/importer.py:249
 msgid "ical_import_file_title"
-msgstr ""
+msgstr "iCalendarファイル"
 
 #. Default: "${num} events imported from ${filename}"
 #: plone/app/event/ical/importer.py:357
 msgid "ical_import_imported"
-msgstr ""
+msgstr "${num} イベントが ${filename} からインポートされた"
 
 #. Default: "Please provide either a icalendar ics file or a URL to a file."
 #: plone/app/event/ical/importer.py:364
 msgid "ical_import_no_ics"
-msgstr ""
+msgstr "iCalendar ICS ファイルまたはファイルへのURLのどちらかを入れてください"
 
 #. Default: "Defines how to synchronize:\n1) \"Keep newer\": Import, if the imported event is modified after the existing\n   one.\n2) \"Keep mine\": On conflicts, just do nothing.\n3) \"Keep theirs\": On conflicts, update the existing event with the external\n   one.\n4) \"No Syncing\": Don't synchronize but import events and create new ones, even\n    if they already exist. For each one, create a new sync_uid."
 #: plone/app/event/ical/importer.py:261
@@ -387,17 +387,17 @@ msgstr ""
 #. Default: "Synchronization Strategy"
 #: plone/app/event/ical/importer.py:257
 msgid "ical_import_sync_strategy_title"
-msgstr ""
+msgstr "同期戦略"
 
 #. Default: "URL to an external icalendar resource file."
 #: plone/app/event/ical/importer.py:242
 msgid "ical_import_url_desc"
-msgstr ""
+msgstr "外部iCaendarリソースファイルへのURL"
 
 #. Default: "Icalendar URL"
 #: plone/app/event/ical/importer.py:241
 msgid "ical_import_url_title"
-msgstr ""
+msgstr "iCalendar URL"
 
 #. Default: "iCal"
 #: plone/app/event/browser/event_listing.pt:48
@@ -408,7 +408,7 @@ msgstr "iCal"
 #. Default: "Current folder"
 #: plone/app/event/browser/event_listing.py:445
 msgid "label_current_folder"
-msgstr ""
+msgstr "現在のフォルダ"
 
 #. Default: "Email"
 #: plone/app/event/browser/event_listing.pt:128
@@ -418,72 +418,72 @@ msgstr "メールアドレス"
 #. Default: "Event body text"
 #: plone/app/event/at/content.py:298
 msgid "label_event_announcement"
-msgstr ""
+msgstr "イベント本文"
 
 #. Default: "Attendees"
 #: plone/app/event/at/content.py:195
 #: plone/app/event/dx/behaviors.py:231
 msgid "label_event_attendees"
-msgstr ""
+msgstr "参加者"
 
 #. Default: "Contact E-mail"
 #: plone/app/event/at/content.py:232
 #: plone/app/event/dx/behaviors.py:263
 msgid "label_event_contact_email"
-msgstr ""
+msgstr "連絡先E-mail"
 
 #. Default: "Contact Name"
 #: plone/app/event/at/content.py:213
 #: plone/app/event/dx/behaviors.py:251
 msgid "label_event_contact_name"
-msgstr ""
+msgstr "連絡先名称"
 
 #. Default: "Contact Phone"
 #: plone/app/event/at/content.py:251
 #: plone/app/event/dx/behaviors.py:275
 msgid "label_event_contact_phone"
-msgstr ""
+msgstr "連絡先電話番号"
 
 #. Default: "Event Ends"
 #: plone/app/event/at/content.py:83
 #: plone/app/event/dx/behaviors.py:84
 msgid "label_event_end"
-msgstr ""
+msgstr "イベント終了"
 
 #. Default: "Location"
 #: plone/app/event/at/content.py:178
 #: plone/app/event/dx/behaviors.py:215
 msgid "label_event_location"
-msgstr ""
+msgstr "場所"
 
 #. Default: "Open End"
 #: plone/app/event/at/content.py:120
 #: plone/app/event/dx/behaviors.py:108
 msgid "label_event_open_end"
-msgstr ""
+msgstr "無期限"
 
 #. Default: "Recurrence"
 #: plone/app/event/at/content.py:157
 #: plone/app/event/dx/behaviors.py:185
 msgid "label_event_recurrence"
-msgstr ""
+msgstr "繰り返し"
 
 #. Default: "Event settings"
 #: plone/app/event/browser/controlpanel.py:14
 msgid "label_event_settings"
-msgstr ""
+msgstr "イベント設定"
 
 #. Default: "Event Starts"
 #: plone/app/event/at/content.py:61
 #: plone/app/event/dx/behaviors.py:72
 msgid "label_event_start"
-msgstr ""
+msgstr "イベント開始"
 
 #. Default: "Timezone"
 #: plone/app/event/at/content.py:140
 #: plone/app/event/dx/behaviors.py:121
 msgid "label_event_timezone"
-msgstr "タイムゾーン"
+msgstr "時間帯"
 
 #. Default: "Event URL"
 #: plone/app/event/at/content.py:270
@@ -495,21 +495,21 @@ msgstr "イベントURL"
 #: plone/app/event/at/content.py:103
 #: plone/app/event/dx/behaviors.py:96
 msgid "label_event_whole_day"
-msgstr ""
+msgstr "終日"
 
 #. Default: "First Weekday"
 #: plone/app/event/interfaces.py:46
 msgid "label_first_weekday"
-msgstr ""
+msgstr "平日の最初の曜日"
 
 #: plone/app/event/browser/event_listing.pt:140
 msgid "label_phone"
-msgstr ""
+msgstr "電話"
 
 #. Default: "Web"
 #: plone/app/event/browser/event_listing.pt:118
 msgid "label_web"
-msgstr ""
+msgstr "Web"
 
 #. Default: "Day"
 #: plone/app/event/browser/event_listing.pt:39
@@ -519,7 +519,7 @@ msgstr "日"
 #. Default: "Upcoming"
 #: plone/app/event/browser/event_listing.pt:27
 msgid "mode_future_link"
-msgstr ""
+msgstr "これから"
 
 #. Default: "Month"
 #: plone/app/event/browser/event_listing.pt:33
@@ -529,7 +529,7 @@ msgstr "月"
 #. Default: "Past"
 #: plone/app/event/browser/event_listing.pt:30
 msgid "mode_past_link"
-msgstr ""
+msgstr "過去"
 
 #. Default: "Week"
 #: plone/app/event/browser/event_listing.pt:36
@@ -539,7 +539,7 @@ msgstr "週"
 #. Default: "Ical import settings saved."
 #: plone/app/event/ical/importer.py:319
 msgid "msg_ical_import_settings_saved"
-msgstr ""
+msgstr "iCalインポート設定が保存されました"
 
 #. Default: "Next Day"
 #: plone/app/event/browser/event_listing.pt:71
@@ -559,19 +559,19 @@ msgstr "来週"
 #. Default: "Past events"
 #: plone/app/event/browser/event_listing.py:227
 msgid "past_events"
-msgstr ""
+msgstr "過去のイベント"
 
 #. Default: "Select search base folder to search for events. This folder will also be used to link to in calendar searches. If empty, the whole site will be searched and the event listing view will be called on the site root."
 #: plone/app/event/portlets/portlet_calendar.py:42
 #: plone/app/event/portlets/portlet_events.py:43
 msgid "portlet_help_search_base"
-msgstr ""
+msgstr "イベントを探すための検索ベースを選ぶ。このフォルダはカレンダー内検索へのリンクにも使われます。もし空っぽなら、サイト全体が検索され、イベント一覧表示はサイトルートを基準に呼び出されます"
 
 #. Default: "Search base"
 #: plone/app/event/portlets/portlet_calendar.py:41
 #: plone/app/event/portlets/portlet_events.py:42
 msgid "portlet_label_search_base"
-msgstr ""
+msgstr "検索ベース"
 
 #. Default: "Previous Day"
 #: plone/app/event/browser/event_listing.pt:69
@@ -591,27 +591,27 @@ msgstr "先週"
 #. Default: "Event details"
 #: plone/app/event/browser/event_summary.pt:12
 msgid "summary_event_details"
-msgstr ""
+msgstr "イベント詳細"
 
 #. Default: "Keep mine"
 #: plone/app/event/vocabularies.py:141
 msgid "sync_keep_mine"
-msgstr ""
+msgstr "自分のを使う"
 
 #. Default: "Keep newer"
 #: plone/app/event/vocabularies.py:140
 msgid "sync_keep_newer"
-msgstr ""
+msgstr "新しいほうを使う"
 
 #. Default: "Keep theirs"
 #: plone/app/event/vocabularies.py:142
 msgid "sync_keep_theirs"
-msgstr ""
+msgstr "彼らのを使う"
 
 #. Default: "No Syncing"
 #: plone/app/event/vocabularies.py:143
 msgid "sync_none"
-msgstr ""
+msgstr "同期しない"
 
 #. Default: "This Month"
 #: plone/app/event/browser/event_listing.pt:56
@@ -627,27 +627,27 @@ msgstr "今週"
 #: plone/app/event/browser/event_listing.pt:43
 #: plone/app/event/browser/event_summary.pt:100
 msgid "title_add_to_ical"
-msgstr ""
+msgstr "このイベントをiCal形式でダウンロード"
 
 #. Default: "Event Listing Settings"
 #: plone/app/event/profiles/default/actions.xml
 msgid "title_event_listing_settings"
-msgstr ""
+msgstr "イベント一覧の設定"
 
 #. Default: "Ical import"
 #: plone/app/event/profiles/default/actions.xml
 msgid "title_ical_import"
-msgstr ""
+msgstr "iCalインポート"
 
 #. Default: "Disable icalendar import"
 #: plone/app/event/profiles/default/actions.xml
 msgid "title_ical_import_disable"
-msgstr ""
+msgstr "iCalendarインポートを無効にする"
 
 #. Default: "Enable icalendar import"
 #: plone/app/event/profiles/default/actions.xml
 msgid "title_ical_import_enable"
-msgstr ""
+msgstr "iCalendarインポートを有効にする"
 
 #. Default: "Today"
 #: plone/app/event/browser/event_listing.pt:70
@@ -657,10 +657,10 @@ msgstr "今日"
 #. Default: "Todays events"
 #: plone/app/event/browser/event_listing.py:237
 msgid "todays_events"
-msgstr ""
+msgstr "今日のイベント"
 
 #. Default: "Todays upcoming events"
 #: plone/app/event/browser/event_listing.py:233
 msgid "todays_upcoming_events"
-msgstr ""
+msgstr "今日のこれからのイベント"
 


Repository: plone.app.event
Branch: refs/heads/master
Date: 2015-04-29T18:23:07+09:00
Author: Manabu TERADA (terapyon) <terada@cmscom.jp>
Commit: https://github.com/plone/plone.app.event/commit/1277d93087b1485ac7a338207885660236e616fb

bug fix for Japanese po file

Files changed:
M plone/app/event/locales/ja/LC_MESSAGES/plone.app.event.po

diff --git a/plone/app/event/locales/ja/LC_MESSAGES/plone.app.event.po b/plone/app/event/locales/ja/LC_MESSAGES/plone.app.event.po
index 0b87995..8c43099 100644
--- a/plone/app/event/locales/ja/LC_MESSAGES/plone.app.event.po
+++ b/plone/app/event/locales/ja/LC_MESSAGES/plone.app.event.po
@@ -327,7 +327,7 @@ msgstr "丸一日かかる終日イベント"
 #. Default: "First day in the Week."
 #: plone/app/event/interfaces.py:47
 msgid "help_first_weekday"
-msgstr "週の最初の日
+msgstr "週の最初の日"
 
 #. Default: "Import Events from icalendar files."
 #: plone/app/event/profiles/default/actions.xml


Repository: plone.app.event
Branch: refs/heads/master
Date: 2015-04-29T18:40:31+09:00
Author: Manabu TERADA (terapyon) <terada@cmscom.jp>
Commit: https://github.com/plone/plone.app.event/commit/47b653bf6e820ff0ab9a126f01a0b6fdb6e6c9d4

added changes.rst

Files changed:
M CHANGES.rst

diff --git a/CHANGES.rst b/CHANGES.rst
index d5f3d6b..b27fde5 100644
--- a/CHANGES.rst
+++ b/CHANGES.rst
@@ -12,6 +12,8 @@ Changelog
 - Fix Plone 4.3 BBB z3c.form portlets to show their fields in Add/Edit Forms.
   [thet]
 
+- Update Japanese translation.
+  [terapyon]
 
 2.0a8 (2015-03-26)
 ------------------


Repository: plone.app.event
Branch: refs/heads/master
Date: 2015-04-29T12:25:10+02:00
Author: Johannes Raggam (thet) <raggam-nl@adm.at>
Commit: https://github.com/plone/plone.app.event/commit/0110f1413da09ae0a308c0263f103ae070e12950

Merge pull request #182 from plonejp/master

Please merge for this po files for Japanese

Files changed:
A plone/app/event/locales/ja/LC_MESSAGES/plone.app.event.po
A plone/app/event/locales/ja/LC_MESSAGES/plone.po
M CHANGES.rst

diff --git a/CHANGES.rst b/CHANGES.rst
index ce26dbf..10cad69 100644
--- a/CHANGES.rst
+++ b/CHANGES.rst
@@ -15,6 +15,8 @@ Changelog
 - Fix Plone 4.3 BBB z3c.form portlets to show their fields in Add/Edit Forms.
   [thet]
 
+- Update Japanese translation.
+  [terapyon]
 
 2.0a8 (2015-03-26)
 ------------------
diff --git a/plone/app/event/locales/ja/LC_MESSAGES/plone.app.event.po b/plone/app/event/locales/ja/LC_MESSAGES/plone.app.event.po
new file mode 100644
index 0000000..8c43099
--- /dev/null
+++ b/plone/app/event/locales/ja/LC_MESSAGES/plone.app.event.po
@@ -0,0 +1,666 @@
+# Takanori Suzuki <takanori@takanory.net>,2014
+msgid ""
+msgstr ""
+"Project-Id-Version: PACKAGE VERSION\n"
+"POT-Creation-Date: 2014-04-11 09:40+0000\n"
+"PO-Revision-Date: 2014-07-02 21:56+0900\n"
+"Last-Translator: Takanori Suzuki <takanori@takanory.net>\n"
+"Language-Team: Plone Japanese Team <https://github.com/plonejp>\n"
+"MIME-Version: 1.0\n"
+"Content-Type: text/plain; charset=utf-8\n"
+"Content-Transfer-Encoding: 8bit\n"
+"Plural-Forms: nplurals=1; plural=0\n"
+"Language-Code: ja\n"
+"Language-Name: Japanese\n"
+"Preferred-Encodings: utf-8\n"
+"Domain: plone.app.event\n"
+"X-Is-Fallback-For: ja-jp\n"
+
+#. Default: "Events in next 7 days."
+#: plone/app/event/browser/event_listing.py:240
+msgid "7days_events"
+msgstr "これから7日以内のイベント"
+
+#: plone/app/event/portlets/portlet_calendar.py:217
+msgid "Add Calendar Portlet"
+msgstr "カレンダーポートレットを追加"
+
+#: plone/app/event/portlets/portlet_events.py:130
+msgid "Add Events Portlet"
+msgstr "イベントポートレットを追加"
+
+#: plone/app/event/browser/event_summary.pt:40
+msgid "All dates"
+msgstr "すべての日付"
+
+#: plone/app/event/interfaces.py:36
+msgid "Available timezones"
+msgstr "利用可能な時間帯"
+
+#: plone/app/event/portlets/portlet_calendar.py:59
+msgid "Calendar"
+msgstr "カレンダー"
+
+#: plone/app/event/browser/controlpanel.pt:33
+msgid "Date/Time based on the current event settings:"
+msgstr "現在のイベント設定をベースにした日付/時間"
+
+#: plone/app/event/portlets/portlet_calendar.py:229
+msgid "Edit Calendar Portlet"
+msgstr "カレンダーポートレットを編集"
+
+#: plone/app/event/portlets/portlet_events.py:143
+msgid "Edit Events Portlet"
+msgstr "イベントポートレットを編集"
+
+#: plone/app/event/profiles/default/controlpanel.xml
+msgid "Event Settings"
+msgstr "イベント設定"
+
+#: plone/app/event/portlets/portlet_events.py:71
+msgid "Events"
+msgstr "イベント"
+
+#: plone/app/event/portlets/portlet_events.py:26
+msgid "How many items to list."
+msgstr "いくつのアイテムをリストするか"
+
+#: plone/app/event/portlets/portlet_calendar.py:33
+#: plone/app/event/portlets/portlet_events.py:33
+msgid "Items in which workflow state to show."
+msgstr "表示すべきアイテムのワークフロー状態"
+
+#: plone/app/event/portlets/portlet_events.py:25
+msgid "Number of items to display"
+msgstr "表示するアイテムの数"
+
+#: plone/app/event/interfaces.py:25
+msgid "Portal default timezone"
+msgstr "ポータルデフォルト時間帯"
+
+#: plone/app/event/portlets/portlet_calendar.py:218
+msgid "This portlet displays events in a calendar."
+msgstr "このポートレットはカレンダー形式でイベントを表示します"
+
+#: plone/app/event/portlets/portlet_events.py:131
+msgid "This portlet lists upcoming Events."
+msgstr "このポートレットはこれからのイベントをリストします"
+
+#: plone/app/event/portlets/portlet_calendar.py:32
+#: plone/app/event/portlets/portlet_events.py:32
+msgid "Workflow state"
+msgstr "ワークフロー状態"
+
+#. Default: "All events"
+#: plone/app/event/browser/event_listing.py:224
+msgid "all_events"
+msgstr "すべてのイベント"
+
+#. Default: "Upcoming Events"
+#: plone/app/event/portlets/portlet_events.pt:10
+msgid "box_events"
+msgstr "これからのイベント"
+
+#. Default: "Previous events…"
+#: plone/app/event/portlets/portlet_events.pt:50
+msgid "box_previous_events"
+msgstr "前のイベント"
+
+#. Default: "Upcoming events…"
+#: plone/app/event/portlets/portlet_events.pt:57
+msgid "box_upcoming_events"
+msgstr "これからのイベント..."
+
+#. Default: "Attendees"
+#: plone/app/event/browser/event_summary.pt:82
+msgid "contact_attendees"
+msgstr "参加者"
+
+#. Default: "Contact Name"
+#: plone/app/event/browser/event_listing.pt:130
+#: plone/app/event/browser/event_summary.pt:69
+msgid "contact_name"
+msgstr "連絡先名称"
+
+#. Default: "Contact Phone"
+#: plone/app/event/browser/event_summary.pt:77
+msgid "contact_phone"
+msgstr "連絡先電話番号"
+
+#. Default: "End date must be after start date."
+#: plone/app/event/at/content.py:575
+#: plone/app/event/dx/behaviors.py:142
+msgid "error_end_must_be_after_start_date"
+msgstr "終了日は開始日の後でなければなりません"
+
+#. Default: "Invalid start or end date"
+#: plone/app/event/dx/behaviors.py:62
+msgid "error_invalid_date"
+msgstr "無効な開始日または終了日"
+
+#. Default: "End date is not valid."
+#: plone/app/event/at/content.py:565
+msgid "error_invalid_end_date"
+msgstr "終了日が無効"
+
+#. Default: "Start date is not valid."
+#: plone/app/event/at/content.py:550
+msgid "error_invalid_start_date"
+msgstr "開始日が無効"
+
+#. Default: "Event"
+#: plone/app/event/browser/event_summary.pt:15
+msgid "event_event"
+msgstr "イベント"
+
+#. Default: "Web"
+#: plone/app/event/browser/event_summary.pt:89
+msgid "event_url"
+msgstr "Webサイト"
+
+#. Default: "What"
+#: plone/app/event/browser/event_summary.pt:21
+msgid "event_what"
+msgstr "何が"
+
+#. Default: "When"
+#: plone/app/event/browser/event_summary.pt:27
+msgid "event_when"
+msgstr "いつ"
+
+#. Default: "${startdate} to ${enddate}"
+#: plone/app/event/browser/formatted_date.pt:27
+msgid "event_when_differentday"
+msgstr "${startdate}から${enddate}までのイベント"
+
+#: plone/app/event/browser/formatted_date.pt:20
+msgid "event_when_differentday_optional_word_between_date_and_time"
+msgstr ""
+
+#. Default: "${date} from ${starttime} to ${endtime}"
+#: plone/app/event/browser/formatted_date.pt:71
+msgid "event_when_sameday"
+msgstr "${date}の${starttime}から${endtime}までのイベント"
+
+#. Default: "${date} from ${starttime}"
+#: plone/app/event/browser/formatted_date.pt:52
+msgid "event_when_sameday_openend"
+msgstr "${date}の${starttime}以降のイベント"
+
+#. Default: "Where"
+#: plone/app/event/browser/event_summary.pt:62
+msgid "event_where"
+msgstr "どこで"
+
+#. Default: "${from} until ${until}."
+#: plone/app/event/browser/event_listing.py:241
+msgid "events_from_until"
+msgstr "${from}から${until}までのイベント"
+
+#. Default: "Events in ${month} ${year}"
+#: plone/app/event/browser/event_listing.py:298
+msgid "events_in_month"
+msgstr "${year}年${month}月のイベント"
+
+#. Default: "Events in week ${weeknumber}"
+#: plone/app/event/browser/event_listing.py:275
+msgid "events_in_week"
+msgstr "第${weeknumber}週のイベント"
+
+#. Default: "Events on ${day}"
+#: plone/app/event/browser/event_listing.py:261
+msgid "events_on_day"
+msgstr "${day}のイベント"
+
+#. Default: "Visit external website"
+#: plone/app/event/browser/event_listing.pt:118
+#: plone/app/event/browser/event_summary.pt:91
+msgid "external_website"
+msgstr "外部Webサイトを見る"
+
+#. Default: "Future events"
+#: plone/app/event/browser/event_listing.py:230
+msgid "future_events"
+msgstr "これからのイベント"
+
+#. Default: "Add event to calendar"
+#: plone/app/event/browser/event_summary.pt:97
+msgid "heading_add_to_calendar"
+msgstr "イベントをカレンダーに追加"
+
+#. Default: "The timezones, which should be available for the portal. Can be set for users and events"
+#: plone/app/event/interfaces.py:37
+msgid "help_available_timezones"
+msgstr "ポータルで利用可能になるべき時間帯。ユーザーとイベントに設定可能"
+
+#. Default: "Search events in current folder only."
+#: plone/app/event/browser/event_listing.py:446
+msgid "help_current_folder"
+msgstr "現在のフォルダ内だけでイベントを検索"
+
+#: plone/app/event/at/content.py:302
+msgid "help_event_announcement"
+msgstr ""
+
+#. Default: "List of attendees."
+#: plone/app/event/at/content.py:199
+#: plone/app/event/dx/behaviors.py:235
+msgid "help_event_attendees"
+msgstr "参加者のリスト"
+
+#. Default: "Email address to contact about this event."
+#: plone/app/event/at/content.py:236
+#: plone/app/event/dx/behaviors.py:267
+msgid "help_event_contact_email"
+msgstr "このイベントについての連絡先Email"
+
+#. Default: "Name of a person to contact about this event."
+#: plone/app/event/at/content.py:217
+#: plone/app/event/dx/behaviors.py:255
+msgid "help_event_contact_name"
+msgstr "このイベントについての連絡先担当者名"
+
+#. Default: "Phone number to contact about this event."
+#: plone/app/event/at/content.py:255
+#: plone/app/event/dx/behaviors.py:279
+msgid "help_event_contact_phone"
+msgstr "このイベントについての連絡先電話番号"
+
+#. Default: "Date and Time, when the event ends."
+#: plone/app/event/at/content.py:87
+#: plone/app/event/dx/behaviors.py:88
+msgid "help_event_end"
+msgstr "イベントが終了する日付と時間"
+
+#. Default: "Settings for the event listing view."
+#: plone/app/event/profiles/default/actions.xml
+msgid "help_event_listing_settings"
+msgstr "イベント一覧表示の設定"
+
+#. Default: "Location of the event."
+#: plone/app/event/at/content.py:182
+#: plone/app/event/dx/behaviors.py:219
+msgid "help_event_location"
+msgstr "イベントの場所"
+
+#. Default: "This event is open ended."
+#: plone/app/event/at/content.py:124
+#: plone/app/event/dx/behaviors.py:112
+msgid "help_event_open_end"
+msgstr "このイベントは無期限"
+
+#. Default: "Define the event recurrence rule."
+#: plone/app/event/at/content.py:161
+#: plone/app/event/dx/behaviors.py:189
+msgid "help_event_recurrence"
+msgstr "イベント繰り返し規則を定義"
+
+#. Default: "Event related settings like timezone, etc."
+#: plone/app/event/browser/controlpanel.py:15
+msgid "help_event_settings"
+msgstr "イベントに関連する設定。例えば時間帯など"
+
+#. Default: "Date and Time, when the event begins."
+#: plone/app/event/at/content.py:65
+#: plone/app/event/dx/behaviors.py:76
+msgid "help_event_start"
+msgstr "イベントが始まる日時"
+
+#. Default: "Select the Timezone, where this event happens."
+#: plone/app/event/at/content.py:144
+#: plone/app/event/dx/behaviors.py:125
+msgid "help_event_timezone"
+msgstr "このイベントが開催される場所の時間帯を選択"
+
+#. Default: "Web address with more info about the event. Add http:// for external links."
+#: plone/app/event/at/content.py:274
+#: plone/app/event/dx/behaviors.py:291
+msgid "help_event_url"
+msgstr "イベントについての詳細情報があるWebアドレス。 外部リンクには http:// を追加する"
+
+#. Default: "Event lasts whole day."
+#: plone/app/event/at/content.py:107
+#: plone/app/event/dx/behaviors.py:100
+msgid "help_event_whole_day"
+msgstr "丸一日かかる終日イベント"
+
+#. Default: "First day in the Week."
+#: plone/app/event/interfaces.py:47
+msgid "help_first_weekday"
+msgstr "週の最初の日"
+
+#. Default: "Import Events from icalendar files."
+#: plone/app/event/profiles/default/actions.xml
+msgid "help_ical_import"
+msgstr "iCalendarファイルからイベントをインポート"
+
+#. Default: "Click to disable the icalendar import feature on this context."
+#: plone/app/event/profiles/default/actions.xml
+msgid "help_ical_import_disable"
+msgstr "このコンテクストでiCalendarインポート機能を無効にするにはクリック"
+
+#. Default: "Click to enable the icalendar import feature on this context."
+#: plone/app/event/profiles/default/actions.xml
+msgid "help_ical_import_enable"
+msgstr "このコンテクストでiCalendarインポート機能を有効にするにはクリック"
+
+#. Default: "The timezone setting of the portal. Users can set their own timezone, if available timezones are defined."
+#: plone/app/event/interfaces.py:26
+msgid "help_portal_timezone"
+msgstr "ポータルの時間帯設定。利用できる時間帯が定義されていれば、利用者は自分自身の時間帯を設定できる。"
+
+#. Default: "Content type of the event, which is created when importing icalendar resources."
+#: plone/app/event/ical/importer.py:232
+msgid "ical_import_event_type_desc"
+msgstr "iCalendarリソースをインポートする時に作られるイベントのコンテンツタイプ"
+
+#. Default: "Event Type"
+#: plone/app/event/ical/importer.py:231
+msgid "ical_import_event_type_title"
+msgstr "イベント種別"
+
+#. Default: "Icalendar resource file, if no URL is given."
+#: plone/app/event/ical/importer.py:250
+msgid "ical_import_file_desc"
+msgstr "何かURLが与えられないのであれば、iCalendarリソースファイル"
+
+#. Default: "Icalendar File"
+#: plone/app/event/ical/importer.py:249
+msgid "ical_import_file_title"
+msgstr "iCalendarファイル"
+
+#. Default: "${num} events imported from ${filename}"
+#: plone/app/event/ical/importer.py:357
+msgid "ical_import_imported"
+msgstr "${num} イベントが ${filename} からインポートされた"
+
+#. Default: "Please provide either a icalendar ics file or a URL to a file."
+#: plone/app/event/ical/importer.py:364
+msgid "ical_import_no_ics"
+msgstr "iCalendar ICS ファイルまたはファイルへのURLのどちらかを入れてください"
+
+#. Default: "Defines how to synchronize:\n1) \"Keep newer\": Import, if the imported event is modified after the existing\n   one.\n2) \"Keep mine\": On conflicts, just do nothing.\n3) \"Keep theirs\": On conflicts, update the existing event with the external\n   one.\n4) \"No Syncing\": Don't synchronize but import events and create new ones, even\n    if they already exist. For each one, create a new sync_uid."
+#: plone/app/event/ical/importer.py:261
+msgid "ical_import_sync_strategy_desc"
+msgstr ""
+
+#. Default: "Synchronization Strategy"
+#: plone/app/event/ical/importer.py:257
+msgid "ical_import_sync_strategy_title"
+msgstr "同期戦略"
+
+#. Default: "URL to an external icalendar resource file."
+#: plone/app/event/ical/importer.py:242
+msgid "ical_import_url_desc"
+msgstr "外部iCaendarリソースファイルへのURL"
+
+#. Default: "Icalendar URL"
+#: plone/app/event/ical/importer.py:241
+msgid "ical_import_url_title"
+msgstr "iCalendar URL"
+
+#. Default: "iCal"
+#: plone/app/event/browser/event_listing.pt:48
+#: plone/app/event/browser/event_summary.pt:106
+msgid "label_add_to_ical"
+msgstr "iCal"
+
+#. Default: "Current folder"
+#: plone/app/event/browser/event_listing.py:445
+msgid "label_current_folder"
+msgstr "現在のフォルダ"
+
+#. Default: "Email"
+#: plone/app/event/browser/event_listing.pt:128
+msgid "label_email"
+msgstr "メールアドレス"
+
+#. Default: "Event body text"
+#: plone/app/event/at/content.py:298
+msgid "label_event_announcement"
+msgstr "イベント本文"
+
+#. Default: "Attendees"
+#: plone/app/event/at/content.py:195
+#: plone/app/event/dx/behaviors.py:231
+msgid "label_event_attendees"
+msgstr "参加者"
+
+#. Default: "Contact E-mail"
+#: plone/app/event/at/content.py:232
+#: plone/app/event/dx/behaviors.py:263
+msgid "label_event_contact_email"
+msgstr "連絡先E-mail"
+
+#. Default: "Contact Name"
+#: plone/app/event/at/content.py:213
+#: plone/app/event/dx/behaviors.py:251
+msgid "label_event_contact_name"
+msgstr "連絡先名称"
+
+#. Default: "Contact Phone"
+#: plone/app/event/at/content.py:251
+#: plone/app/event/dx/behaviors.py:275
+msgid "label_event_contact_phone"
+msgstr "連絡先電話番号"
+
+#. Default: "Event Ends"
+#: plone/app/event/at/content.py:83
+#: plone/app/event/dx/behaviors.py:84
+msgid "label_event_end"
+msgstr "イベント終了"
+
+#. Default: "Location"
+#: plone/app/event/at/content.py:178
+#: plone/app/event/dx/behaviors.py:215
+msgid "label_event_location"
+msgstr "場所"
+
+#. Default: "Open End"
+#: plone/app/event/at/content.py:120
+#: plone/app/event/dx/behaviors.py:108
+msgid "label_event_open_end"
+msgstr "無期限"
+
+#. Default: "Recurrence"
+#: plone/app/event/at/content.py:157
+#: plone/app/event/dx/behaviors.py:185
+msgid "label_event_recurrence"
+msgstr "繰り返し"
+
+#. Default: "Event settings"
+#: plone/app/event/browser/controlpanel.py:14
+msgid "label_event_settings"
+msgstr "イベント設定"
+
+#. Default: "Event Starts"
+#: plone/app/event/at/content.py:61
+#: plone/app/event/dx/behaviors.py:72
+msgid "label_event_start"
+msgstr "イベント開始"
+
+#. Default: "Timezone"
+#: plone/app/event/at/content.py:140
+#: plone/app/event/dx/behaviors.py:121
+msgid "label_event_timezone"
+msgstr "時間帯"
+
+#. Default: "Event URL"
+#: plone/app/event/at/content.py:270
+#: plone/app/event/dx/behaviors.py:287
+msgid "label_event_url"
+msgstr "イベントURL"
+
+#. Default: "Whole Day"
+#: plone/app/event/at/content.py:103
+#: plone/app/event/dx/behaviors.py:96
+msgid "label_event_whole_day"
+msgstr "終日"
+
+#. Default: "First Weekday"
+#: plone/app/event/interfaces.py:46
+msgid "label_first_weekday"
+msgstr "平日の最初の曜日"
+
+#: plone/app/event/browser/event_listing.pt:140
+msgid "label_phone"
+msgstr "電話"
+
+#. Default: "Web"
+#: plone/app/event/browser/event_listing.pt:118
+msgid "label_web"
+msgstr "Web"
+
+#. Default: "Day"
+#: plone/app/event/browser/event_listing.pt:39
+msgid "mode_day_link"
+msgstr "日"
+
+#. Default: "Upcoming"
+#: plone/app/event/browser/event_listing.pt:27
+msgid "mode_future_link"
+msgstr "これから"
+
+#. Default: "Month"
+#: plone/app/event/browser/event_listing.pt:33
+msgid "mode_month_link"
+msgstr "月"
+
+#. Default: "Past"
+#: plone/app/event/browser/event_listing.pt:30
+msgid "mode_past_link"
+msgstr "過去"
+
+#. Default: "Week"
+#: plone/app/event/browser/event_listing.pt:36
+msgid "mode_week_link"
+msgstr "週"
+
+#. Default: "Ical import settings saved."
+#: plone/app/event/ical/importer.py:319
+msgid "msg_ical_import_settings_saved"
+msgstr "iCalインポート設定が保存されました"
+
+#. Default: "Next Day"
+#: plone/app/event/browser/event_listing.pt:71
+msgid "next_day_link"
+msgstr "翌日"
+
+#. Default: "Next Month"
+#: plone/app/event/browser/event_listing.pt:57
+msgid "next_month_link"
+msgstr "来月"
+
+#. Default: "Next Week"
+#: plone/app/event/browser/event_listing.pt:64
+msgid "next_week_link"
+msgstr "来週"
+
+#. Default: "Past events"
+#: plone/app/event/browser/event_listing.py:227
+msgid "past_events"
+msgstr "過去のイベント"
+
+#. Default: "Select search base folder to search for events. This folder will also be used to link to in calendar searches. If empty, the whole site will be searched and the event listing view will be called on the site root."
+#: plone/app/event/portlets/portlet_calendar.py:42
+#: plone/app/event/portlets/portlet_events.py:43
+msgid "portlet_help_search_base"
+msgstr "イベントを探すための検索ベースを選ぶ。このフォルダはカレンダー内検索へのリンクにも使われます。もし空っぽなら、サイト全体が検索され、イベント一覧表示はサイトルートを基準に呼び出されます"
+
+#. Default: "Search base"
+#: plone/app/event/portlets/portlet_calendar.py:41
+#: plone/app/event/portlets/portlet_events.py:42
+msgid "portlet_label_search_base"
+msgstr "検索ベース"
+
+#. Default: "Previous Day"
+#: plone/app/event/browser/event_listing.pt:69
+msgid "prev_day_link"
+msgstr "前日"
+
+#. Default: "Previous Month"
+#: plone/app/event/browser/event_listing.pt:55
+msgid "prev_month_link"
+msgstr "先月"
+
+#. Default: "Previous Week"
+#: plone/app/event/browser/event_listing.pt:62
+msgid "prev_week_link"
+msgstr "先週"
+
+#. Default: "Event details"
+#: plone/app/event/browser/event_summary.pt:12
+msgid "summary_event_details"
+msgstr "イベント詳細"
+
+#. Default: "Keep mine"
+#: plone/app/event/vocabularies.py:141
+msgid "sync_keep_mine"
+msgstr "自分のを使う"
+
+#. Default: "Keep newer"
+#: plone/app/event/vocabularies.py:140
+msgid "sync_keep_newer"
+msgstr "新しいほうを使う"
+
+#. Default: "Keep theirs"
+#: plone/app/event/vocabularies.py:142
+msgid "sync_keep_theirs"
+msgstr "彼らのを使う"
+
+#. Default: "No Syncing"
+#: plone/app/event/vocabularies.py:143
+msgid "sync_none"
+msgstr "同期しない"
+
+#. Default: "This Month"
+#: plone/app/event/browser/event_listing.pt:56
+msgid "this_month_link"
+msgstr "今月"
+
+#. Default: "This Week"
+#: plone/app/event/browser/event_listing.pt:63
+msgid "this_week_link"
+msgstr "今週"
+
+#. Default: "Download this event in iCal format"
+#: plone/app/event/browser/event_listing.pt:43
+#: plone/app/event/browser/event_summary.pt:100
+msgid "title_add_to_ical"
+msgstr "このイベントをiCal形式でダウンロード"
+
+#. Default: "Event Listing Settings"
+#: plone/app/event/profiles/default/actions.xml
+msgid "title_event_listing_settings"
+msgstr "イベント一覧の設定"
+
+#. Default: "Ical import"
+#: plone/app/event/profiles/default/actions.xml
+msgid "title_ical_import"
+msgstr "iCalインポート"
+
+#. Default: "Disable icalendar import"
+#: plone/app/event/profiles/default/actions.xml
+msgid "title_ical_import_disable"
+msgstr "iCalendarインポートを無効にする"
+
+#. Default: "Enable icalendar import"
+#: plone/app/event/profiles/default/actions.xml
+msgid "title_ical_import_enable"
+msgstr "iCalendarインポートを有効にする"
+
+#. Default: "Today"
+#: plone/app/event/browser/event_listing.pt:70
+msgid "today_link"
+msgstr "今日"
+
+#. Default: "Todays events"
+#: plone/app/event/browser/event_listing.py:237
+msgid "todays_events"
+msgstr "今日のイベント"
+
+#. Default: "Todays upcoming events"
+#: plone/app/event/browser/event_listing.py:233
+msgid "todays_upcoming_events"
+msgstr "今日のこれからのイベント"
+
diff --git a/plone/app/event/locales/ja/LC_MESSAGES/plone.po b/plone/app/event/locales/ja/LC_MESSAGES/plone.po
new file mode 100644
index 0000000..62c21d8
--- /dev/null
+++ b/plone/app/event/locales/ja/LC_MESSAGES/plone.po
@@ -0,0 +1,27 @@
+# Takanori Suzuki <takanori@takanory.net>,2014
+msgid ""
+msgstr ""
+"Project-Id-Version: PACKAGE VERSION\n"
+"POT-Creation-Date: 2013-04-19 23:38+0000\n"
+"PO-Revision-Date: 2014-07-02 21:36+0900\n"
+"Last-Translator: Takanori Suzuki <takanori@takanory.net>\n"
+"Language-Team: Plone Japanese Team <https://github.com/plonejp>\n"
+"MIME-Version: 1.0\n"
+"Content-Type: text/plain; charset=utf-8\n"
+"Content-Transfer-Encoding: 8bit\n"
+"Plural-Forms: nplurals=1; plural=0\n"
+"Language-Code: ja-jp\n"
+"Language-Name: Japanese\n"
+"Preferred-Encodings: utf-8\n"
+"Domain: plone\n"
+"X-Is-Fallback-For: ja-jp\n"
+
+# TRANSLATE VIEW NAMES
+# 
+#. Default: "Event Listing"
+msgid "event_listing"
+msgstr "イベント一覧"
+
+#. Default: "Event"
+msgid "event_view"
+msgstr "イベント"


