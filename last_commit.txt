Repository: Products.PlonePAS
Branch: refs/heads/master
Date: 2015-01-02T10:41:14-08:00
Author: David Glick (davisagli) <david@glicksoftware.com>
Commit: https://github.com/plone/Products.PlonePAS/commit/50729d34091f48f5593f64b7264d64c654ba0695

fix scale_image test (newer Pillow has a more verbose exception)

Files changed:
M Products/PlonePAS/utils.py

diff --git a/Products/PlonePAS/utils.py b/Products/PlonePAS/utils.py
index 91d6410..57c6799 100644
--- a/Products/PlonePAS/utils.py
+++ b/Products/PlonePAS/utils.py
@@ -73,11 +73,11 @@ def scale_image(image_file, max_size=None, default_format=None):
         >>> scale_image(invalid, (50, 50))
         Traceback (most recent call last):
         ...
-        IOError: cannot identify image file
+        IOError: cannot identify image file...
         >>> scale_image(sneaky, (50, 50))
         Traceback (most recent call last):
         ...
-        IOError: cannot identify image file
+        IOError: cannot identify image file...
 
     Now that that's out of the way we check on our real images to make
     sure the format and mode are preserved, that they are scaled, and that they


