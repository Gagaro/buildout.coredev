Repository: plone.app.event


Branch: refs/heads/master
Date: 2015-09-18T13:25:13-07:00
Author: Fulvio Casali (fulv) <fulviocasali@gmail.com>
Commit: https://github.com/plone/plone.app.event/commit/f8431781da4834af1828b8fbbc0cc3f31e16981f

Resolve deprecation warning for getDefaultPage.

Files changed:
M CHANGES.rst
M plone/app/event/browser/event_listing.py

diff --git a/CHANGES.rst b/CHANGES.rst
index 8cef4f3..4193983 100644
--- a/CHANGES.rst
+++ b/CHANGES.rst
@@ -10,6 +10,9 @@ Changelog
 - Remove unittest2 dependency.
   [gforcada]
 
+- Resolve deprecation warning for getDefaultPage.
+  [fulv]
+
 
 2.0 (2015-09-11)
 ----------------
diff --git a/plone/app/event/browser/event_listing.py b/plone/app/event/browser/event_listing.py
index a8457d2..be1223a 100644
--- a/plone/app/event/browser/event_listing.py
+++ b/plone/app/event/browser/event_listing.py
@@ -15,10 +15,10 @@
 from plone.app.event.base import start_end_from_mode
 from plone.app.event.base import start_end_query
 from plone.app.event.ical.exporter import construct_icalendar
-from plone.app.layout.navigation.defaultpage import getDefaultPage
 from plone.app.querystring import queryparser
 from plone.memoize import view
 from plone.uuid.interfaces import IUUID
+from Products.CMFPlone.defaultpage import get_default_page
 from zope.component import getMultiAdapter
 from zope.contentprovider.interfaces import IContentProvider
 
@@ -36,7 +36,7 @@ def __init__(self, context, request):
         self.now = now = localized_now(context)
 
         # Try to get the default page
-        default = getDefaultPage(context)
+        default = get_default_page(context)
         self.default_context = context[default] if default else context
 
         self.is_collection = False


Repository: plone.app.event


Branch: refs/heads/master
Date: 2015-09-21T23:43:09+02:00
Author: Jens W. Klein (jensens) <jk@kleinundpartner.at>
Commit: https://github.com/plone/plone.app.event/commit/6411ae825b3f47a44da44c5ed48761bc7ce26cc0

Merge pull request #200 from plone/fulv-patch

Resolve deprecation warning for getDefaultPage.

Files changed:
M CHANGES.rst
M plone/app/event/browser/event_listing.py

diff --git a/CHANGES.rst b/CHANGES.rst
index 5d0b097..b6a3a25 100644
--- a/CHANGES.rst
+++ b/CHANGES.rst
@@ -21,6 +21,9 @@ Changelog
 - Remove unittest2 dependency.
   [gforcada]
 
+- Resolve deprecation warning for getDefaultPage.
+  [fulv]
+
 
 2.0 (2015-09-11)
 ----------------
diff --git a/plone/app/event/browser/event_listing.py b/plone/app/event/browser/event_listing.py
index a8457d2..be1223a 100644
--- a/plone/app/event/browser/event_listing.py
+++ b/plone/app/event/browser/event_listing.py
@@ -15,10 +15,10 @@
 from plone.app.event.base import start_end_from_mode
 from plone.app.event.base import start_end_query
 from plone.app.event.ical.exporter import construct_icalendar
-from plone.app.layout.navigation.defaultpage import getDefaultPage
 from plone.app.querystring import queryparser
 from plone.memoize import view
 from plone.uuid.interfaces import IUUID
+from Products.CMFPlone.defaultpage import get_default_page
 from zope.component import getMultiAdapter
 from zope.contentprovider.interfaces import IContentProvider
 
@@ -36,7 +36,7 @@ def __init__(self, context, request):
         self.now = now = localized_now(context)
 
         # Try to get the default page
-        default = getDefaultPage(context)
+        default = get_default_page(context)
         self.default_context = context[default] if default else context
 
         self.is_collection = False


