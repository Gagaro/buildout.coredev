Repository: plone.app.blob
Branch: refs/heads/master
Date: 2015-05-29T17:39:01+02:00
Author: Timo Stollenwerk (tisto) <tisto@plone.org>
Commit: https://github.com/plone/plone.app.blob/commit/ab8898cdcbe91eba0306825566431bb1ccbe4e50

Revert "Fixing permission for download (refs #22)"

Files changed:
M src/plone/app/blob/field.py

diff --git a/src/plone/app/blob/field.py b/src/plone/app/blob/field.py
index 97e67eb..5138f8c 100644
--- a/src/plone/app/blob/field.py
+++ b/src/plone/app/blob/field.py
@@ -293,7 +293,7 @@ def fixAutoId(self, instance):
                 # a file name was given, so the instance needs to be renamed...
                 instance.setId(filename)
 
-    @security.protected(View)
+    @security.private
     def download(self, instance, REQUEST=None, RESPONSE=None):
         """ download the file (use default index_html) """
         return self.index_html(


Repository: plone.app.blob
Branch: refs/heads/master
Date: 2015-05-29T10:43:39-05:00
Author: Nathan Van Gheem (vangheem) <vangheem@gmail.com>
Commit: https://github.com/plone/plone.app.blob/commit/6b466bf0c749f90c7125e2bf0ea61e0e2fc87a3f

Merge pull request #24 from plone/revert-23-download-fix

Revert "Fixing permission for download (refs #22)"

Files changed:
M src/plone/app/blob/field.py

diff --git a/src/plone/app/blob/field.py b/src/plone/app/blob/field.py
index 97e67eb..5138f8c 100644
--- a/src/plone/app/blob/field.py
+++ b/src/plone/app/blob/field.py
@@ -293,7 +293,7 @@ def fixAutoId(self, instance):
                 # a file name was given, so the instance needs to be renamed...
                 instance.setId(filename)
 
-    @security.protected(View)
+    @security.private
     def download(self, instance, REQUEST=None, RESPONSE=None):
         """ download the file (use default index_html) """
         return self.index_html(


