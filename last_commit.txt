Repository: mockup


Branch: refs/heads/master
Date: 2015-07-16T07:57:17+02:00
Author: vangheem (vangheem) <vangheem@gmail.com>
Commit: https://github.com/plone/mockup/commit/9451e8fa9f4bc26daed8a2738f1785d266922a8f

be able to provide close btn for generic popover

Files changed:
M mockup/patterns/structure/js/views/generic-popover.js

diff --git a/mockup/patterns/structure/js/views/generic-popover.js b/mockup/patterns/structure/js/views/generic-popover.js
index f641767..92df65f 100644
--- a/mockup/patterns/structure/js/views/generic-popover.js
+++ b/mockup/patterns/structure/js/views/generic-popover.js
@@ -10,7 +10,8 @@ define([
 
   var PropertiesView = PopoverView.extend({
     events: {
-      'click button.applyBtn': 'applyButtonClicked'
+      'click button.applyBtn': 'applyButtonClicked',
+      'click button.closeBtn': 'toggle'
     },
     submitText: _t('Apply'),
     initialize: function(options) {
@@ -22,8 +23,12 @@ define([
       self.submitContext = options.form.submitContext || 'primary';
       self.data = {};
 
-      self.content = _.template('<form>' + options.form.template + '</form>' +
-        '<button class="btn btn-block btn-' + self.submitContext + ' applyBtn">' + self.submitText + ' </button>');
+      var html = '<form>' + options.form.template + '</form>' +
+        '<button class="btn btn-block btn-' + self.submitContext + ' applyBtn">' + self.submitText + ' </button>';
+      if(options.form.closeText){
+        html += '<button class="btn btn-block btn-default closeBtn">' + options.form.closeText + ' </button>';
+      }
+      self.content = _.template(html);
 
       PopoverView.prototype.initialize.apply(this, [options]);
     },


