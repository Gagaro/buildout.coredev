Repository: plone.app.blob
Branch: refs/heads/master
Date: 2015-05-27T15:14:59+03:00
Author: David Batranu (david-batranu) <dbatranu@gmail.com>
Commit: https://github.com/plone/plone.app.blob/commit/7fc31965960abb96b6da6599425eea814fb3a00c

Fixing permission for download (refs #22)

Files changed:
M src/plone/app/blob/field.py

diff --git a/src/plone/app/blob/field.py b/src/plone/app/blob/field.py
index 5138f8c..97e67eb 100644
--- a/src/plone/app/blob/field.py
+++ b/src/plone/app/blob/field.py
@@ -293,7 +293,7 @@ def fixAutoId(self, instance):
                 # a file name was given, so the instance needs to be renamed...
                 instance.setId(filename)
 
-    @security.private
+    @security.protected(View)
     def download(self, instance, REQUEST=None, RESPONSE=None):
         """ download the file (use default index_html) """
         return self.index_html(


Repository: plone.app.blob
Branch: refs/heads/master
Date: 2015-05-27T09:17:30-05:00
Author: Nathan Van Gheem (vangheem) <vangheem@gmail.com>
Commit: https://github.com/plone/plone.app.blob/commit/0ff78dad70609bd68e87cbb7dd78097198f0057a

Merge pull request #23 from david-batranu/download-fix

Fixing permission for download (refs #22)

Files changed:
M src/plone/app/blob/field.py

diff --git a/src/plone/app/blob/field.py b/src/plone/app/blob/field.py
index 5138f8c..97e67eb 100644
--- a/src/plone/app/blob/field.py
+++ b/src/plone/app/blob/field.py
@@ -293,7 +293,7 @@ def fixAutoId(self, instance):
                 # a file name was given, so the instance needs to be renamed...
                 instance.setId(filename)
 
-    @security.private
+    @security.protected(View)
     def download(self, instance, REQUEST=None, RESPONSE=None):
         """ download the file (use default index_html) """
         return self.index_html(


