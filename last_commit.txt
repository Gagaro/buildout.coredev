Repository: Products.CMFPlone


Branch: refs/heads/master
Date: 2015-09-19T13:38:11+02:00
Author: Victor Fernandez de Alba (sneridagh) <sneridagh@gmail.com>
Commit: https://github.com/plone/Products.CMFPlone/commit/65d641928b76c1722f1e01bf34842a7512ccf32c

Prevent the use of a Google (online) font in the plone-addsite template

Files changed:
M Products/CMFPlone/browser/static/plone-admin-ui.css
M Products/CMFPlone/browser/templates/plone-addsite.pt

diff --git a/Products/CMFPlone/browser/static/plone-admin-ui.css b/Products/CMFPlone/browser/static/plone-admin-ui.css
index 17e548e..1c2ae44 100644
--- a/Products/CMFPlone/browser/static/plone-admin-ui.css
+++ b/Products/CMFPlone/browser/static/plone-admin-ui.css
@@ -1,3 +1,16 @@
+@font-face {
+  font-family: "Roboto";
+  font-style: normal;
+  font-weight: 300;
+  src: local('Roboto Light'), local('Roboto-Light'), url("++theme++barceloneta/less/roboto/Roboto-Light.ttf") format('truetype');
+}
+@font-face {
+  font-family: "Roboto";
+  font-style: normal;
+  font-weight: 400;
+  src: local('Roboto Regular'), local('Roboto-Regular'), url("++theme++barceloneta/less/roboto/Roboto-Regular.ttf") format('truetype');
+}
+
 body { font-family: 'Roboto', sans-serif; line-height: 1.25; clear: both; background: #f4f4f4; padding: 0; margin:0;}
 #box { max-width: 670px; padding: 40px; background: #fff; background: rgba(255,255,255,.95); box-shadow: 0 0 5px rgba(0,0,0,.15); border-radius: 3px; margin:40px auto;}
 
diff --git a/Products/CMFPlone/browser/templates/plone-addsite.pt b/Products/CMFPlone/browser/templates/plone-addsite.pt
index 9272abc..63cbec7 100644
--- a/Products/CMFPlone/browser/templates/plone-addsite.pt
+++ b/Products/CMFPlone/browser/templates/plone-addsite.pt
@@ -11,7 +11,6 @@
   <meta charset="utf-8">
   <meta name="viewport" content="width=device-width, initial-scale=1">
   <title i18n:translate="">Create a Plone site</title>
-  <link href='http://fonts.googleapis.com/css?family=Roboto:400,300,700' rel='stylesheet' type='text/css'>
   <link rel="stylesheet" type="text/css"
         tal:attributes="href string:${context/absolute_url}/++resource++plone-admin-ui.css"
         href="/++resource++plone-admin-ui.css" />


