Repository: mockup


Branch: refs/heads/master
Date: 2015-10-08T11:03:09+02:00
Author: Johannes Raggam (thet) <raggam-nl@adm.at>
Commit: https://github.com/plone/mockup/commit/836808689210b2aedc2a5139aa230d1cc5713cb6

Revert "support node binary available under different names (node vs nodejs)"

This reverts commit c1c5fbfa9941e370f8fbd1766a86d64cde80d069.

Files changed:
M Makefile

diff --git a/Makefile b/Makefile
index 96cdb0b..e5d70de 100644
--- a/Makefile
+++ b/Makefile
@@ -1,17 +1,14 @@
 GIT = git
 NPM = npm
-GRUNT = ./node_modules/grunt-cli/bin/grunt
-BOWER = ./node_modules/bower/bin/bower
-NODE_PATH = ./node_modules
-
-# node binary might be available under nodejs (ubuntu) or node (fedora, others)
-NODE = command -v nodejs > /dev/null && echo nodejs || echo node
-# npm link has different behavior between node versions.
-NODE_VERSION = $(shell `$(NODE)` -v)
+NODE_VERSION = $(shell node -v)
 NODE_VERSION_MAJ = $(shell echo $(NODE_VERSION) | cut -f1 -d. | cut -f2 -dv )
 NODE_VERSION_MIN = $(shell echo $(NODE_VERSION) | cut -f2 -d.)
 NODE_VERSION_LT_011 = $(shell [ $(NODE_VERSION_MAJ) -eq 0 -a $(NODE_VERSION_MIN) -lt 11 ] && echo true)
 
+GRUNT = ./node_modules/grunt-cli/bin/grunt
+BOWER = ./node_modules/bower/bin/bower
+NODE_PATH = ./node_modules
+
 DEBUG =
 ifeq ($(debug), true)
 	DEBUG = --debug


