Repository: Products.CMFPlone


Branch: refs/heads/master
Date: 2015-09-12T00:24:47-05:00
Author: vangheem (vangheem) <vangheem@gmail.com>
Commit: https://github.com/plone/Products.CMFPlone/commit/fe8c56cd7a01ae02441fa663191dcbf75aa515cc

better default tinymce settings closes https://github.com/plone/Products.CMFPlone/issues/806 and https://github.com/plone/Products.CMFPlone/issues/896

Files changed:
M CHANGES.rst
M Products/CMFPlone/interfaces/controlpanel.py

diff --git a/CHANGES.rst b/CHANGES.rst
index 2b1353c..03458f1 100644
--- a/CHANGES.rst
+++ b/CHANGES.rst
@@ -8,7 +8,8 @@ Changelog
 5.0rc3 (unreleased)
 -------------------
 
-- Nothing changed yet.
+- Better default tinymce settings
+  [vangheem]
 
 
 5.0rc2 (2015-09-11)
diff --git a/Products/CMFPlone/interfaces/controlpanel.py b/Products/CMFPlone/interfaces/controlpanel.py
index 9c9b47f..1336fae 100644
--- a/Products/CMFPlone/interfaces/controlpanel.py
+++ b/Products/CMFPlone/interfaces/controlpanel.py
@@ -537,7 +537,8 @@ class ITinyMCEPluginSchema(Interface):
             SimpleTerm('paste', 'paste', u"paste"),
             SimpleTerm('preview', 'preview', u"preview"),
             SimpleTerm('print', 'print', u"print"),
-            SimpleTerm('save', 'save', u"save"),
+            # XXX disable save button since it is not implemeneted
+            # SimpleTerm('save', 'save', u"save"),
             SimpleTerm('searchreplace', 'searchreplace', u"searchreplace"),
             SimpleTerm('tabfocus', 'tabfocus', u"tabfocus"),
             SimpleTerm('table', 'table', u"table"),
@@ -547,10 +548,9 @@ class ITinyMCEPluginSchema(Interface):
             SimpleTerm('visualchars', 'visualchars', u"visualchars"),
             SimpleTerm('wordcount', 'wordcount', u"wordcount")
         ])),
-        default=['advlist', 'directionality', 'emoticons',
-                 'fullscreen', 'hr', 'insertdatetime', 'lists', 'media',
+        default=['advlist', 'fullscreen', 'hr', 'lists', 'media',
                  'nonbreaking', 'noneditable', 'pagebreak', 'paste', 'preview',
-                 'print', 'save', 'searchreplace', 'tabfocus', 'table',
+                 'print', 'save', 'tabfocus', 'table',
                  'visualchars', 'wordcount', 'code'],
         required=False)
 
@@ -569,9 +569,10 @@ class ITinyMCEPluginSchema(Interface):
         description=_('hint_tinymce_menu',
                       default='JSON formatted Menu configuration.'),
         default=json.dumps({
-            'file': {'title': 'File', 'items': 'newdocument'},
-            'edit': {'title': 'Edit', 'items': 'undo redo | cut '
-                              'copy paste pastetext | selectall'},
+            'edit': {
+                'title': 'Edit',
+                'items': 'undo redo | cut copy paste pastetext | '
+                         'searchreplace textpattern selectall | textcolor'},
             'insert': {'title': 'Insert', 'items': 'link media | template hr'},
             'view': {'title': 'View', 'items': 'visualaid'},
             'format': {'title': 'Format',
@@ -579,7 +580,10 @@ class ITinyMCEPluginSchema(Interface):
                                 'superscript subscript | formats | removeformat'},
             'table': {'title': 'Table', 'items': 'inserttable tableprops deletetable '
                                                  '| cell row column'},
-            'tools': {'title': 'Tools', 'items': 'spellchecker code'}
+            'tools': {
+                'title': 'Tools',
+                'items': 'spellchecker preview charmap fullpage fullscreen emoticons '
+                         'insertdatetime visualblocks visualchars layer code'}
         }, indent=4).decode('utf8')
     )
 
@@ -596,7 +600,7 @@ class ITinyMCEPluginSchema(Interface):
         description=_("help_tinymce_toolbar", default=(
             u"Enter how you would like the toolbar items to list.")),
         required=True,
-        default=u'undo redo | styleselect | bold italic | '
+        default=u'ltr rtl | undo redo | styleselect | bold italic | '
                 u'alignleft aligncenter alignright alignjustify | '
                 u'bullist numlist outdent indent | '
                 u'unlink plonelink ploneimage')


Repository: Products.CMFPlone


Branch: refs/heads/master
Date: 2015-09-12T02:13:08-05:00
Author: Nathan Van Gheem (vangheem) <vangheem@gmail.com>
Commit: https://github.com/plone/Products.CMFPlone/commit/1649d36d746ac256ed88db7c655784114677ec92

Merge pull request #966 from plone/tinymce-defaults

better default tinymce settings

Files changed:
M CHANGES.rst
M Products/CMFPlone/interfaces/controlpanel.py

diff --git a/CHANGES.rst b/CHANGES.rst
index 2b1353c..03458f1 100644
--- a/CHANGES.rst
+++ b/CHANGES.rst
@@ -8,7 +8,8 @@ Changelog
 5.0rc3 (unreleased)
 -------------------
 
-- Nothing changed yet.
+- Better default tinymce settings
+  [vangheem]
 
 
 5.0rc2 (2015-09-11)
diff --git a/Products/CMFPlone/interfaces/controlpanel.py b/Products/CMFPlone/interfaces/controlpanel.py
index 9c9b47f..1336fae 100644
--- a/Products/CMFPlone/interfaces/controlpanel.py
+++ b/Products/CMFPlone/interfaces/controlpanel.py
@@ -537,7 +537,8 @@ class ITinyMCEPluginSchema(Interface):
             SimpleTerm('paste', 'paste', u"paste"),
             SimpleTerm('preview', 'preview', u"preview"),
             SimpleTerm('print', 'print', u"print"),
-            SimpleTerm('save', 'save', u"save"),
+            # XXX disable save button since it is not implemeneted
+            # SimpleTerm('save', 'save', u"save"),
             SimpleTerm('searchreplace', 'searchreplace', u"searchreplace"),
             SimpleTerm('tabfocus', 'tabfocus', u"tabfocus"),
             SimpleTerm('table', 'table', u"table"),
@@ -547,10 +548,9 @@ class ITinyMCEPluginSchema(Interface):
             SimpleTerm('visualchars', 'visualchars', u"visualchars"),
             SimpleTerm('wordcount', 'wordcount', u"wordcount")
         ])),
-        default=['advlist', 'directionality', 'emoticons',
-                 'fullscreen', 'hr', 'insertdatetime', 'lists', 'media',
+        default=['advlist', 'fullscreen', 'hr', 'lists', 'media',
                  'nonbreaking', 'noneditable', 'pagebreak', 'paste', 'preview',
-                 'print', 'save', 'searchreplace', 'tabfocus', 'table',
+                 'print', 'save', 'tabfocus', 'table',
                  'visualchars', 'wordcount', 'code'],
         required=False)
 
@@ -569,9 +569,10 @@ class ITinyMCEPluginSchema(Interface):
         description=_('hint_tinymce_menu',
                       default='JSON formatted Menu configuration.'),
         default=json.dumps({
-            'file': {'title': 'File', 'items': 'newdocument'},
-            'edit': {'title': 'Edit', 'items': 'undo redo | cut '
-                              'copy paste pastetext | selectall'},
+            'edit': {
+                'title': 'Edit',
+                'items': 'undo redo | cut copy paste pastetext | '
+                         'searchreplace textpattern selectall | textcolor'},
             'insert': {'title': 'Insert', 'items': 'link media | template hr'},
             'view': {'title': 'View', 'items': 'visualaid'},
             'format': {'title': 'Format',
@@ -579,7 +580,10 @@ class ITinyMCEPluginSchema(Interface):
                                 'superscript subscript | formats | removeformat'},
             'table': {'title': 'Table', 'items': 'inserttable tableprops deletetable '
                                                  '| cell row column'},
-            'tools': {'title': 'Tools', 'items': 'spellchecker code'}
+            'tools': {
+                'title': 'Tools',
+                'items': 'spellchecker preview charmap fullpage fullscreen emoticons '
+                         'insertdatetime visualblocks visualchars layer code'}
         }, indent=4).decode('utf8')
     )
 
@@ -596,7 +600,7 @@ class ITinyMCEPluginSchema(Interface):
         description=_("help_tinymce_toolbar", default=(
             u"Enter how you would like the toolbar items to list.")),
         required=True,
-        default=u'undo redo | styleselect | bold italic | '
+        default=u'ltr rtl | undo redo | styleselect | bold italic | '
                 u'alignleft aligncenter alignright alignjustify | '
                 u'bullist numlist outdent indent | '
                 u'unlink plonelink ploneimage')


