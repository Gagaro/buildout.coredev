Repository: mockup


Branch: refs/heads/master
Date: 2015-09-11T15:32:26+02:00
Author: Eric BREHAULT (ebrehault) <ebrehault@gmail.com>
Commit: https://github.com/plone/mockup/commit/478a394b03730fb62c1f5e89512ecd81e0d671a4

Fix #508 do not remove plone-modal-open class on body if nested modal

Files changed:
M CHANGES.rst
M mockup/patterns/modal/pattern.js

diff --git a/CHANGES.rst b/CHANGES.rst
index cb63509..d0075b4 100644
--- a/CHANGES.rst
+++ b/CHANGES.rst
@@ -10,6 +10,9 @@ Changelog
 - Fix inline TinyMCE to work together with ``pat-textareamimetypeselector``.
   [thet]
 
+- Fix scrolling when closing a modal within a modal
+  [ebrehault]
+
 
 2.0.8 (2015-09-08)
 ------------------
diff --git a/mockup/patterns/modal/pattern.js b/mockup/patterns/modal/pattern.js
index 44e85b3..5b4e6fb 100644
--- a/mockup/patterns/modal/pattern.js
+++ b/mockup/patterns/modal/pattern.js
@@ -853,6 +853,7 @@ define([
         self.backdrop.hide();
         self.$wrapper.hide();
         self.$wrapper.parent().css('overflow', 'visible');
+        $('body').removeClass('plone-modal-open');
       }
       self.loading.hide();
       self.$el.removeClass(self.options.templateOptions.classActiveName);
@@ -861,7 +862,6 @@ define([
         self.initModal();
       }
       $(window.parent).off('resize.plone-modal.patterns');
-      $('body').removeClass('plone-modal-open');
       self.emit('hidden');
     },
     redraw: function(response, options) {


Repository: mockup


Branch: refs/heads/master
Date: 2015-09-11T08:51:48-05:00
Author: Nathan Van Gheem (vangheem) <vangheem@gmail.com>
Commit: https://github.com/plone/mockup/commit/2b3ac771fff6aed4d99fb6005467cda80f7d453f

Merge pull request #575 from plone/ebr-fix-y-scrolling

Fix #508 do not remove plone-modal-open class on body if nested modal

Files changed:
M CHANGES.rst
M mockup/patterns/modal/pattern.js

diff --git a/CHANGES.rst b/CHANGES.rst
index cb63509..d0075b4 100644
--- a/CHANGES.rst
+++ b/CHANGES.rst
@@ -10,6 +10,9 @@ Changelog
 - Fix inline TinyMCE to work together with ``pat-textareamimetypeselector``.
   [thet]
 
+- Fix scrolling when closing a modal within a modal
+  [ebrehault]
+
 
 2.0.8 (2015-09-08)
 ------------------
diff --git a/mockup/patterns/modal/pattern.js b/mockup/patterns/modal/pattern.js
index 44e85b3..5b4e6fb 100644
--- a/mockup/patterns/modal/pattern.js
+++ b/mockup/patterns/modal/pattern.js
@@ -853,6 +853,7 @@ define([
         self.backdrop.hide();
         self.$wrapper.hide();
         self.$wrapper.parent().css('overflow', 'visible');
+        $('body').removeClass('plone-modal-open');
       }
       self.loading.hide();
       self.$el.removeClass(self.options.templateOptions.classActiveName);
@@ -861,7 +862,6 @@ define([
         self.initModal();
       }
       $(window.parent).off('resize.plone-modal.patterns');
-      $('body').removeClass('plone-modal-open');
       self.emit('hidden');
     },
     redraw: function(response, options) {


