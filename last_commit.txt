Repository: plone.app.querystring


Branch: refs/heads/1.2.x
Date: 2015-10-30T01:14:22+01:00
Author: Maurits van Rees (mauritsvanrees) <maurits@vanrees.org>
Commit: https://github.com/plone/plone.app.querystring/commit/5c41e7fbbd97f77bf200261ed425d14c9e96c442

Updated version compatibility information in README.

Files changed:
M README.rst

diff --git a/README.rst b/README.rst
index f26153e..4d6474d 100644
--- a/README.rst
+++ b/README.rst
@@ -1,7 +1,7 @@
 Overview
 ========
 
-This package provides an queryparser, querybuilder and extra helper tools,
+This package provides a queryparser, querybuilder and extra helper tools,
 to parse stored queries to actual results, used in new style collections.
 It includes a registry reader which reads operators, values and criteria
 from the Plone registry.
@@ -10,10 +10,23 @@ from the Plone registry.
 Compatibility with Plone versions
 ---------------------------------
 
-The 1.1.x and 1.2.x series are intended for usage with Plone 4.3 and
-up.  It depends on plone.batching, which ships with Plone 4.3 but may
-cause problems_ with Plone 4.2.
+For each Plone release, its versions.cfg file at
+http://dist.plone.org/release/ pins a version of plone.app.querystring
+that works well with that Plone version.  It is wise not to pick
+another version.
 
-For use with Plone 4.2.x, use versions < 1.1.0.
+But for clarity, these are the correct relationships between the two
+versions:
+
+- On Plone 4.2 use 1.0.x.
+
+- On Plone 4.3 use 1.2.x.
+
+- On Plone 5.0 use 1.3.x.
+
+Too new versions can cause problems.  For example, the 1.1.x and 1.2.x
+series are intended for usage with Plone 4.3.  They depend on
+plone.batching, which ships with Plone 4.3 but may cause problems_
+with Plone 4.2.
 
 .. _problems: https://dev.plone.org/ticket/12875


Repository: plone.app.querystring


Branch: refs/heads/1.2.x
Date: 2015-10-30T01:20:28+01:00
Author: Maurits van Rees (mauritsvanrees) <maurits@vanrees.org>
Commit: https://github.com/plone/plone.app.querystring/commit/05c56b756fa0be9bfac4f1d86a0ec2fe892eb398

Fixed flake8 warnings.

Files changed:
M CHANGES.rst
M plone/app/querystring/registryreader.py
M plone/app/querystring/testing.py
M plone/app/querystring/tests/testQueryBuilder.py
M plone/app/querystring/tests/testQueryBuilderModifiers.py
M plone/app/querystring/tests/testQueryParser.py
M plone/app/querystring/tests/testRegistryIntegration.py
M plone/app/querystring/tests/testRegistryReader.py

diff --git a/CHANGES.rst b/CHANGES.rst
index 23a29e4..673ce93 100644
--- a/CHANGES.rst
+++ b/CHANGES.rst
@@ -4,7 +4,13 @@ Changelog
 1.2.9 (unreleased)
 ------------------
 
-- Nothing changed yet.
+Fixes:
+
+- Fixed flake8 warnings.
+  [maurits]
+
+- Updated compatibility information in README.
+  [maurits]
 
 
 1.2.8 (2015-09-24)
diff --git a/plone/app/querystring/registryreader.py b/plone/app/querystring/registryreader.py
index 3f1ac56..4b3744d 100644
--- a/plone/app/querystring/registryreader.py
+++ b/plone/app/querystring/registryreader.py
@@ -19,7 +19,7 @@ class DottedDict(dict):
     """A dictionary where you can access nested dicts with dotted names"""
 
     def get(self, k, default=None):
-        if not '.' in k:
+        if '.' not in k:
             return super(DottedDict, self).get(k, default)
         val = self
         for x in k.split('.'):
@@ -54,7 +54,7 @@ def parseRegistry(self):
             current = result
             for x in splitted[:-1]:
                 # create the key if it's not there
-                if not x in current:
+                if x not in current:
                     current[x] = {}
                 current = current[x]
 
diff --git a/plone/app/querystring/testing.py b/plone/app/querystring/testing.py
index 4e5bab4..458ee92 100644
--- a/plone/app/querystring/testing.py
+++ b/plone/app/querystring/testing.py
@@ -46,13 +46,15 @@ def setUpPloneSite(self, portal):
     def tearDownZope(self, app):
         z2.uninstallProduct(app, 'plone.app.querystring')
 
-TEST_PROFILE_PLONEAPPQUERYSTRING_FIXTURE = PloneAppQuerystringTestProfileLayer()
+TEST_PROFILE_PLONEAPPQUERYSTRING_FIXTURE = \
+    PloneAppQuerystringTestProfileLayer()
 
 
 class PloneAppQuerystringLayer(PloneAppQuerystringTestProfileLayer):
 
     def setUpZope(self, app, configurationContext):
-        super(PloneAppQuerystringLayer, self).setUpZope(app, configurationContext)
+        super(PloneAppQuerystringLayer, self).setUpZope(
+            app, configurationContext)
         z2.installProduct(app, 'plone.app.querystring')
         import plone.app.querystring
         xmlconfig.file(
diff --git a/plone/app/querystring/tests/testQueryBuilder.py b/plone/app/querystring/tests/testQueryBuilder.py
index 6d5f762..c47c0d4 100644
--- a/plone/app/querystring/tests/testQueryBuilder.py
+++ b/plone/app/querystring/tests/testQueryBuilder.py
@@ -1,6 +1,7 @@
- # -*- coding: utf-8 -*-
+# -*- coding: utf-8 -*-
 
-from plone.app.querystring.testing import TEST_PROFILE_PLONEAPPQUERYSTRING_INTEGRATION_TESTING
+from plone.app.querystring.testing import \
+    TEST_PROFILE_PLONEAPPQUERYSTRING_INTEGRATION_TESTING
 
 from zope.component import getMultiAdapter
 from zope.publisher.browser import TestRequest
diff --git a/plone/app/querystring/tests/testQueryBuilderModifiers.py b/plone/app/querystring/tests/testQueryBuilderModifiers.py
index 5add7a5..3ea05f1 100644
--- a/plone/app/querystring/tests/testQueryBuilderModifiers.py
+++ b/plone/app/querystring/tests/testQueryBuilderModifiers.py
@@ -1,7 +1,8 @@
-# -*- coding: utf8 -*-
+# -*- coding: utf-8 -*-
 
 from plone.app.querystring.interfaces import IParsedQueryIndexModifier
-from plone.app.querystring.testing import PLONEAPPQUERYSTRING_INTEGRATION_TESTING
+from plone.app.querystring.testing import \
+    PLONEAPPQUERYSTRING_INTEGRATION_TESTING
 
 from zope.publisher.browser import TestRequest
 from zope.component import getGlobalSiteManager
diff --git a/plone/app/querystring/tests/testQueryParser.py b/plone/app/querystring/tests/testQueryParser.py
index a4a7a7b..7db2131 100644
--- a/plone/app/querystring/tests/testQueryParser.py
+++ b/plone/app/querystring/tests/testQueryParser.py
@@ -7,7 +7,8 @@
 from plone.registry.interfaces import IRegistry
 
 from plone.app.querystring.queryparser import Row
-from plone.app.querystring.testing import NOT_INSTALLED_PLONEAPPQUERYSTRING_INTEGRATION_TESTING
+from plone.app.querystring.testing import \
+    NOT_INSTALLED_PLONEAPPQUERYSTRING_INTEGRATION_TESTING
 
 from zope.component import getGlobalSiteManager
 from zope.interface.declarations import implements
diff --git a/plone/app/querystring/tests/testRegistryIntegration.py b/plone/app/querystring/tests/testRegistryIntegration.py
index efd788e..11cc5a4 100644
--- a/plone/app/querystring/tests/testRegistryIntegration.py
+++ b/plone/app/querystring/tests/testRegistryIntegration.py
@@ -1,4 +1,5 @@
-from plone.app.querystring.testing import PLONEAPPQUERYSTRING_INTEGRATION_TESTING
+from plone.app.querystring.testing import \
+    PLONEAPPQUERYSTRING_INTEGRATION_TESTING
 
 import unittest2 as unittest
 
diff --git a/plone/app/querystring/tests/testRegistryReader.py b/plone/app/querystring/tests/testRegistryReader.py
index 9d62c92..6db9597 100644
--- a/plone/app/querystring/tests/testRegistryReader.py
+++ b/plone/app/querystring/tests/testRegistryReader.py
@@ -7,7 +7,8 @@
 
 from plone.app.querystring.interfaces import IQuerystringRegistryReader
 from plone.app.querystring.registryreader import DottedDict
-from plone.app.querystring.testing import PLONEAPPQUERYSTRING_INTEGRATION_TESTING
+from plone.app.querystring.testing import \
+    PLONEAPPQUERYSTRING_INTEGRATION_TESTING
 from plone.app.querystring.tests import registry_testdata as td
 
 import unittest2 as unittest


