Repository: Products.CMFPlone


Branch: refs/heads/master
Date: 2015-09-13T13:33:49+02:00
Author: Philip Bauer (pbauer) <bauer@starzel.de>
Commit: https://github.com/plone/Products.CMFPlone/commit/41307684e90b745eaf35c59bade9b3265ea16e09

fix redirect for syndication-controlpanel

Files changed:
M Products/CMFPlone/controlpanel/browser/syndication.py

diff --git a/Products/CMFPlone/controlpanel/browser/syndication.py b/Products/CMFPlone/controlpanel/browser/syndication.py
index cd8ed5c..150c939 100644
--- a/Products/CMFPlone/controlpanel/browser/syndication.py
+++ b/Products/CMFPlone/controlpanel/browser/syndication.py
@@ -86,15 +86,13 @@ def handleSave(self, action):
         self.applyChanges(data)
         IStatusMessage(self.request).addStatusMessage(
             _(u"Changes saved."), "info")
-        self.request.response.redirect("%s/%s" % (
-            self.context.absolute_url(), self.control_panel_view))
+        self.request.response.redirect(self.request.getURL())
 
     @button.buttonAndHandler(_(u"Cancel"), name='cancel')
     def handleCancel(self, action):
         IStatusMessage(self.request).addStatusMessage(
             _(u"Edit cancelled."), "info")
-        self.request.response.redirect("%s/%s" % (
-            self.context.absolute_url(), self.control_panel_view))
+        self.request.response.redirect(self.request.getURL())
 
 
 class SyndicationControlPanel(controlpanel.ControlPanelFormWrapper):


Repository: Products.CMFPlone


Branch: refs/heads/master
Date: 2015-09-13T13:35:03+02:00
Author: Philip Bauer (pbauer) <bauer@starzel.de>
Commit: https://github.com/plone/Products.CMFPlone/commit/2dfeceb4d056f99b75e20ab333d20c826a4d0501

add changelog

Files changed:
M CHANGES.rst

diff --git a/CHANGES.rst b/CHANGES.rst
index 4dcbfe9..0f1b060 100644
--- a/CHANGES.rst
+++ b/CHANGES.rst
@@ -8,6 +8,9 @@ Changelog
 5.0rc3 (unreleased)
 -------------------
 
+- Fix redirect for syndication-controlpanel.
+  [pbauer]
+
 - Add advanced-option to button "Add Plone Site" in ZMI.
   [pbauer]
 


