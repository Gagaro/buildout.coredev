Repository: plone.app.upgrade


Branch: refs/heads/master
Date: 2015-08-21T18:57:24+02:00
Author: Maurits van Rees (mauritsvanrees) <maurits@vanrees.org>
Commit: https://github.com/plone/plone.app.upgrade/commit/6f0076f34692fd2a08b132f34c7ac11ae6887066

Upgrade plone.app.querystring in Plone 5.0

Files changed:
M plone/app/upgrade/v50/betas.py
M plone/app/upgrade/v50/configure.zcml

diff --git a/plone/app/upgrade/v50/betas.py b/plone/app/upgrade/v50/betas.py
index 719cfea..82303fc 100644
--- a/plone/app/upgrade/v50/betas.py
+++ b/plone/app/upgrade/v50/betas.py
@@ -265,3 +265,7 @@ def to50beta3(context):
 def to50beta4(context):
     """5.0beta3 -> 5.0beta4"""
     loadMigrationProfile(context, 'profile-plone.app.upgrade.v50:to50beta4')
+
+
+def upgrade_querystring(context):
+    context.upgradeProfile('plone.app.querystring:default', dest='9')
diff --git a/plone/app/upgrade/v50/configure.zcml b/plone/app/upgrade/v50/configure.zcml
index 17252bf..eeda428 100644
--- a/plone/app/upgrade/v50/configure.zcml
+++ b/plone/app/upgrade/v50/configure.zcml
@@ -153,6 +153,12 @@
            handler=".betas.to50beta4"
            />
 
+       <gs:upgradeStep
+           title="Run to50beta4 upgrade profile"
+           description=""
+           handler=".betas.upgrade_querystring"
+           />
+
     </gs:upgradeSteps>
 
 </configure>


