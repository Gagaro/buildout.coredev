Repository: Products.CMFPlone
Branch: refs/heads/master
Date: 2015-02-08T14:24:10-06:00
Author: vangheem (vangheem) <vangheem@gmail.com>
Commit: https://github.com/plone/Products.CMFPlone/commit/cff7b1cd917337bd858bda224ad6bdd898f6bf20

changed my mind about modifying search query. However we decide to implement this needs to be consistently done with ajax search and normal search. I feel like we need better results though'

Files changed:
M Products/CMFPlone/browser/search.py

diff --git a/Products/CMFPlone/browser/search.py b/Products/CMFPlone/browser/search.py
index a335522..95e1071 100644
--- a/Products/CMFPlone/browser/search.py
+++ b/Products/CMFPlone/browser/search.py
@@ -189,11 +189,11 @@ def __call__(self):
         except:
             page = 1
 
-        form = self.request.form
-        if 'SearchableText' in form:
+        # form = self.request.form
+        # if 'SearchableText' in form:
             # let's add * around for better results
-            if '*' not in form['SearchableText']:
-                form['SearchableText'] = '*' + form['SearchableText'] + '*'
+        #    if '*' not in form['SearchableText']:
+        #        form['SearchableText'] = '*' + form['SearchableText'] + '*'
 
         results = self.results(batch=False, use_content_listing=False)
         batch = Batch(results, per_page, start=(page - 1) * per_page)


