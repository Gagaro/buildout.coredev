Repository: plone.app.layout


Branch: refs/heads/master
Date: 2015-09-13T14:20:15+02:00
Author: Philip Bauer (pbauer) <bauer@starzel.de>
Commit: https://github.com/plone/plone.app.layout/commit/c71658832dfcf934d6e7369c806174864bd009b1

Use global site-title for og:site_name

Files changed:
M CHANGES.rst
M plone/app/layout/viewlets/social.py

diff --git a/CHANGES.rst b/CHANGES.rst
index 248c756..3b10b97 100644
--- a/CHANGES.rst
+++ b/CHANGES.rst
@@ -4,7 +4,9 @@ Changelog
 2.5.14 (unreleased)
 -------------------
 
-- Nothing changed yet.
+- Use global site-title for og:site_name.
+  Fixes https://github.com/plone/Products.CMFPlone/issues/951
+  [pbauer]
 
 
 2.5.13 (2015-09-12)
diff --git a/plone/app/layout/viewlets/social.py b/plone/app/layout/viewlets/social.py
index 876084a..0ce4d54 100644
--- a/plone/app/layout/viewlets/social.py
+++ b/plone/app/layout/viewlets/social.py
@@ -32,7 +32,7 @@ def update(self):
             dict(property="og:title", content=self.page_title),
             dict(itemprop="name", content=self.page_title),
             dict(property="og:type", content="website"),
-            dict(property="og:site_name", content=self.site_title),
+            dict(property="og:site_name", content=self.site_title_setting),
         ]
         if settings.twitter_username:
             self.tags.append(dict(name="twitter:site",


