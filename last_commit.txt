Repository: plone.app.event


Branch: refs/heads/master
Date: 2015-07-01T23:58:02+02:00
Author: Johannes Raggam (thet) <raggam-nl@adm.at>
Commit: https://github.com/plone/plone.app.event/commit/37c71790a5dc1a2eb7c68481e6824122c13764dc

not on batching tests

Files changed:
M plone/app/event/tests/test_event_listing.py

diff --git a/plone/app/event/tests/test_event_listing.py b/plone/app/event/tests/test_event_listing.py
index 01cec89..689d2a1 100644
--- a/plone/app/event/tests/test_event_listing.py
+++ b/plone/app/event/tests/test_event_listing.py
@@ -61,8 +61,11 @@ def _listing_view(self, name='@@event_listing'):
         return self.portal.collection.restrictedTraverse(name)
 
     def _collection_batching_base(self):
-        """Test if the batch size can be set via request parameter or the
-        collection's item_count.
+        """Base preparation for batching tests below.
+
+        The event_listing view caches it's results on the request, so the
+        batching tests below need to be in seperate test methods to get a fresh
+        environment with newly calculated results.
         """
         # plone.app.contenttypes ICollection type
         self.portal.invokeFactory('Collection', 'col_test', title=u'Col')


