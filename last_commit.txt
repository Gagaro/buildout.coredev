Repository: plone.app.contenttypes
Branch: refs/heads/master
Date: 2015-04-23T12:11:18+02:00
Author: Johannes Raggam (thet) <raggam-nl@adm.at>
Commit: https://github.com/plone/plone.app.contenttypes/commit/834ad1f4eec61c1f274b36fbe0b4075154af74fa

Revert "Cache results on view"

This reverts commit e69b118068c442183a1d4020aa0f43d6dc5c2b03.

Conflicts:
	docs/CHANGES.rst

Files changed:
M docs/CHANGES.rst
M plone/app/contenttypes/browser/collection.py
M plone/app/contenttypes/browser/folder.py

diff --git a/docs/CHANGES.rst b/docs/CHANGES.rst
index 4d9dedb..9e0784d 100644
--- a/docs/CHANGES.rst
+++ b/docs/CHANGES.rst
@@ -7,11 +7,6 @@ Changelog
 - Fix ``contentFilter`` for collections.
   [thet]
 
-- Cache the results of the collection and folder view on the request. The
-  results might be called again by other packages to extract information on the
-  result list.
-  [thet]
-
 - Don't batch the already batched collection results. Fixes #221.
   [thet]
 
diff --git a/plone/app/contenttypes/browser/collection.py b/plone/app/contenttypes/browser/collection.py
index 31e25fd..55b3333 100644
--- a/plone/app/contenttypes/browser/collection.py
+++ b/plone/app/contenttypes/browser/collection.py
@@ -16,7 +16,6 @@ def __init__(self, *args, **kwargs):
         self.collection_behavior = ICollection(context)
         self.b_size = self.collection_behavior.item_count
 
-    @memoize
     def results(self, **kwargs):
         """Return a content listing based result set with results from the
         collection query.
diff --git a/plone/app/contenttypes/browser/folder.py b/plone/app/contenttypes/browser/folder.py
index c1d88d5..e975964 100644
--- a/plone/app/contenttypes/browser/folder.py
+++ b/plone/app/contenttypes/browser/folder.py
@@ -42,7 +42,6 @@ def __init__(self, context, request):
         b_start = getattr(self.request, 'b_start', None)
         self.b_start = int(b_start) if b_start is not None else 0
 
-    @memoize
     def results(self, **kwargs):
         """Return a content listing based result set with contents of the
         folder.


