Repository: plone.app.theming


Branch: refs/heads/master
Date: 2015-07-28T15:40:54+02:00
Author: Gagaro (Gagaro) <gagaro42@gmail.com>
Commit: https://github.com/plone/plone.app.theming/commit/ed7289f3b6534f5d96b3e1e1b978f72b72144b70

fix: copy theme with dot in name

Files changed:
M src/plone/app/theming/browser/controlpanel.pt

diff --git a/src/plone/app/theming/browser/controlpanel.pt b/src/plone/app/theming/browser/controlpanel.pt
index 3058cbe..bbd5c96 100644
--- a/src/plone/app/theming/browser/controlpanel.pt
+++ b/src/plone/app/theming/browser/controlpanel.pt
@@ -186,11 +186,11 @@
                             </form>
 
                             <a href="#" class="plone-btn plone-btn-default pat-plone-modal"
-                                tal:attributes="href string:#modal-copy-${theme/name}"
+                                tal:attributes="href python:'#modal-copy-{0}'.format(theme['name'].replace('.', '-'))"
                                 i18n:translate="">Copy</a>
                             <!-- Copy theme overlay -->
                             <div class="plone-modal"
-                                tal:attributes="id string:modal-copy-${theme/name}">
+                                tal:attributes="id python:'modal-copy-{0}'.format(theme['name'].replace('.', '-'))">
                                 <h1 id="overlayTitleCopyTheme" class="documentFirstHeading" i18n:translate="theming_controlpanel_copy_theme">Create copy of <span i18n:name="theme_name"
                                     tal:content="string:${theme/name}"></span></h1>
 


Repository: plone.app.theming


Branch: refs/heads/master
Date: 2015-07-28T10:28:40-05:00
Author: Nathan Van Gheem (vangheem) <vangheem@gmail.com>
Commit: https://github.com/plone/plone.app.theming/commit/f53e14ac37a807b377e761173bc40fd9396ee47e

Merge pull request #69 from Gagaro/master

fix: copy theme with dot in name

Files changed:
M src/plone/app/theming/browser/controlpanel.pt

diff --git a/src/plone/app/theming/browser/controlpanel.pt b/src/plone/app/theming/browser/controlpanel.pt
index 3058cbe..bbd5c96 100644
--- a/src/plone/app/theming/browser/controlpanel.pt
+++ b/src/plone/app/theming/browser/controlpanel.pt
@@ -186,11 +186,11 @@
                             </form>
 
                             <a href="#" class="plone-btn plone-btn-default pat-plone-modal"
-                                tal:attributes="href string:#modal-copy-${theme/name}"
+                                tal:attributes="href python:'#modal-copy-{0}'.format(theme['name'].replace('.', '-'))"
                                 i18n:translate="">Copy</a>
                             <!-- Copy theme overlay -->
                             <div class="plone-modal"
-                                tal:attributes="id string:modal-copy-${theme/name}">
+                                tal:attributes="id python:'modal-copy-{0}'.format(theme['name'].replace('.', '-'))">
                                 <h1 id="overlayTitleCopyTheme" class="documentFirstHeading" i18n:translate="theming_controlpanel_copy_theme">Create copy of <span i18n:name="theme_name"
                                     tal:content="string:${theme/name}"></span></h1>
 


