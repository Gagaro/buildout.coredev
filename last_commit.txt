Repository: Products.CMFPlone


Branch: refs/heads/master
Date: 2015-07-25T23:39:21-05:00
Author: vangheem (vangheem) <vangheem@gmail.com>
Commit: https://github.com/plone/Products.CMFPlone/commit/c691ea156be4b6a5dbe162dd55bc9dd99c08d581

use proper varaibles in toolbar less closes https://github.com/plone/Products.CMFPlone/issues/743

Files changed:
M CHANGES.rst
M Products/CMFPlone/static/patterns/toolbar/src/css/toolbar.plone.less

diff --git a/CHANGES.rst b/CHANGES.rst
index eee5e6f..81dc0a3 100644
--- a/CHANGES.rst
+++ b/CHANGES.rst
@@ -8,14 +8,14 @@ Changelog
 5.0b4 (unreleased)
 ----------------
 
+- Not using less variables in toolbar everywhere
+  [vangheem]
+
 - Fix link to documentation
 
 - Rework timezone selection in @@plone-addsite.
   [jaroel]
 
-- Rework language selection in @@plone-addsite.
-  [jaroel]
-
 
 5.0b3 (2015-07-20)
 ------------------
diff --git a/Products/CMFPlone/static/patterns/toolbar/src/css/toolbar.plone.less b/Products/CMFPlone/static/patterns/toolbar/src/css/toolbar.plone.less
index af177dd..847406f 100644
--- a/Products/CMFPlone/static/patterns/toolbar/src/css/toolbar.plone.less
+++ b/Products/CMFPlone/static/patterns/toolbar/src/css/toolbar.plone.less
@@ -64,7 +64,16 @@ body.userrole-authenticated {
                 display: block; text-align: center; height: 50px; width:@plone-left-toolbar;
                 &:before {line-height: 50px;}
             }
-            > span + span {display: table-cell; text-align: center; padding: 0 8px; height: 50px; width:@plone-left-toolbar; vertical-align: middle; background: @plone-toolbar-link; line-height: 1em; }
+            > span + span {
+                display: table-cell;
+                text-align: center;
+                padding: 0 8px;
+                height: 50px;
+                width: @plone-left-toolbar;
+                vertical-align: middle;
+                background: @plone-toolbar-link;
+                line-height: 1em;
+            }
         }
         .scroll-btn {
             z-index:10;
@@ -202,13 +211,21 @@ body.userrole-authenticated {
     width:@plone-left-toolbar-expanded;
     nav > ul ul { left: @plone-left-toolbar-expanded;}
     nav > ul a > [class^="icon"] {
-        display: table-cell; width: 40px; padding-left: 10px;
+        display: table-cell;
+        width: 40px;
+        padding-left: 10px;
     }
     nav > ul a > .icon-logout {
         margin:0;
         padding:0;
     }
-    nav > ul a > span + span {background: none; width: 80px; text-align: left; word-wrap: break-word; word-break: break-word;}
+    nav > ul a > span + span {
+        background: none;
+        width: @plone-left-toolbar-expanded - 40px;
+        text-align: left;
+        word-wrap: break-word;
+        word-break: break-word;
+    }
     .plone-toolbar-caret {width: 0;}
     li:not(.active) a:hover > span {background: @plone-toolbar-link;}
 
@@ -415,13 +432,13 @@ body.userrole-authenticated {
             }
         }
         .plone-toolbar-main{
-            width: 138px; /* hide scroll bar */
+            width: @plone-left-toolbar-expanded+18px; /* hide scroll bar */
             padding-right: 18px;
         }
     }
     .plone-toolbar-left-default #edit-zone{
         .plone-toolbar-main{
-            width: 78px; /* hide scroll bar */
+            width: @plone-left-toolbar+18px; /* hide scroll bar */
         }
     }
 }


Repository: Products.CMFPlone


Branch: refs/heads/master
Date: 2015-07-26T08:00:00-05:00
Author: Nathan Van Gheem (vangheem) <vangheem@gmail.com>
Commit: https://github.com/plone/Products.CMFPlone/commit/e0f6a9326f379aebf77f7d0ddf39e7fdd34a749d

Merge pull request #756 from plone/less-variables-toolbar

use proper varaibles in toolbar less

Files changed:
M CHANGES.rst
M Products/CMFPlone/static/patterns/toolbar/src/css/toolbar.plone.less

diff --git a/CHANGES.rst b/CHANGES.rst
index eee5e6f..81dc0a3 100644
--- a/CHANGES.rst
+++ b/CHANGES.rst
@@ -8,14 +8,14 @@ Changelog
 5.0b4 (unreleased)
 ----------------
 
+- Not using less variables in toolbar everywhere
+  [vangheem]
+
 - Fix link to documentation
 
 - Rework timezone selection in @@plone-addsite.
   [jaroel]
 
-- Rework language selection in @@plone-addsite.
-  [jaroel]
-
 
 5.0b3 (2015-07-20)
 ------------------
diff --git a/Products/CMFPlone/static/patterns/toolbar/src/css/toolbar.plone.less b/Products/CMFPlone/static/patterns/toolbar/src/css/toolbar.plone.less
index af177dd..847406f 100644
--- a/Products/CMFPlone/static/patterns/toolbar/src/css/toolbar.plone.less
+++ b/Products/CMFPlone/static/patterns/toolbar/src/css/toolbar.plone.less
@@ -64,7 +64,16 @@ body.userrole-authenticated {
                 display: block; text-align: center; height: 50px; width:@plone-left-toolbar;
                 &:before {line-height: 50px;}
             }
-            > span + span {display: table-cell; text-align: center; padding: 0 8px; height: 50px; width:@plone-left-toolbar; vertical-align: middle; background: @plone-toolbar-link; line-height: 1em; }
+            > span + span {
+                display: table-cell;
+                text-align: center;
+                padding: 0 8px;
+                height: 50px;
+                width: @plone-left-toolbar;
+                vertical-align: middle;
+                background: @plone-toolbar-link;
+                line-height: 1em;
+            }
         }
         .scroll-btn {
             z-index:10;
@@ -202,13 +211,21 @@ body.userrole-authenticated {
     width:@plone-left-toolbar-expanded;
     nav > ul ul { left: @plone-left-toolbar-expanded;}
     nav > ul a > [class^="icon"] {
-        display: table-cell; width: 40px; padding-left: 10px;
+        display: table-cell;
+        width: 40px;
+        padding-left: 10px;
     }
     nav > ul a > .icon-logout {
         margin:0;
         padding:0;
     }
-    nav > ul a > span + span {background: none; width: 80px; text-align: left; word-wrap: break-word; word-break: break-word;}
+    nav > ul a > span + span {
+        background: none;
+        width: @plone-left-toolbar-expanded - 40px;
+        text-align: left;
+        word-wrap: break-word;
+        word-break: break-word;
+    }
     .plone-toolbar-caret {width: 0;}
     li:not(.active) a:hover > span {background: @plone-toolbar-link;}
 
@@ -415,13 +432,13 @@ body.userrole-authenticated {
             }
         }
         .plone-toolbar-main{
-            width: 138px; /* hide scroll bar */
+            width: @plone-left-toolbar-expanded+18px; /* hide scroll bar */
             padding-right: 18px;
         }
     }
     .plone-toolbar-left-default #edit-zone{
         .plone-toolbar-main{
-            width: 78px; /* hide scroll bar */
+            width: @plone-left-toolbar+18px; /* hide scroll bar */
         }
     }
 }


