Repository: Products.CMFPlone
Branch: refs/heads/master
Date: 2015-01-03T11:21:04+01:00
Author: Ramon Navarro Bosch (bloodbare) <ramon.nb@gmail.com>
Commit: https://github.com/plone/Products.CMFPlone/commit/175a24cc9ca83b430fd781e91f68ccab67baba02

Option to not have theme bundle configured

Files changed:
M Products/CMFPlone/patterns/tinymce.py

diff --git a/Products/CMFPlone/patterns/tinymce.py b/Products/CMFPlone/patterns/tinymce.py
index a57eb88..ee72fdc 100644
--- a/Products/CMFPlone/patterns/tinymce.py
+++ b/Products/CMFPlone/patterns/tinymce.py
@@ -55,7 +55,7 @@ def __call__(self):
         # Check if theme has a custom content css
         theme = getCurrentTheme()
         themeObj = getTheme(theme)
-        if themeObj.tinymce_content_css:
+        if themeObj and themeObj.tinymce_content_css:
             content_css = self.config['portal_url'] + themeObj.tinymce_content_css
         else:
             content_css = self.settings.content_css


