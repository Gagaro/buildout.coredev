Repository: Products.CMFPlone


Branch: refs/heads/master
Date: 2015-10-18T09:11:55Z
Author: Korbinian Preisler (timitos) <kpreisler@virtual-things.biz>
Commit: https://github.com/plone/Products.CMFPlone/commit/366b9d53cabc7c1fadce5fed0b2ff7b32094eff0

Use formautofocus pattern.

Files changed:
M Products/CMFPlone/browser/templates/search.pt
M Products/CMFPlone/controlpanel/browser/emaillogin.pt
M Products/CMFPlone/controlpanel/browser/usergroups_groupdetails.pt
M Products/CMFPlone/controlpanel/browser/usergroups_usersoverview.pt
M Products/CMFPlone/skins/plone_login/login_form.cpt
M Products/CMFPlone/skins/plone_login/login_password.cpt
M Products/CMFPlone/skins/plone_prefs/password_form.pt
M Products/CMFPlone/skins/plone_templates/test_rendering.pt

diff --git a/Products/CMFPlone/browser/templates/search.pt b/Products/CMFPlone/browser/templates/search.pt
index a98a5d9..771518a 100644
--- a/Products/CMFPlone/browser/templates/search.pt
+++ b/Products/CMFPlone/browser/templates/search.pt
@@ -29,7 +29,7 @@
     <form name="searchform"
           action="@@search"
           role="search"
-          class="searchPage enableAutoFocus"
+          class="searchPage pat-formautofocus"
           tal:define="portal context/@@plone_portal_state/portal;
                       first_call not:request/advanced_search|nothing;
                       st python:request.get('SearchableText', '');
diff --git a/Products/CMFPlone/controlpanel/browser/emaillogin.pt b/Products/CMFPlone/controlpanel/browser/emaillogin.pt
index 16c3949..8e569d3 100644
--- a/Products/CMFPlone/controlpanel/browser/emaillogin.pt
+++ b/Products/CMFPlone/controlpanel/browser/emaillogin.pt
@@ -45,7 +45,7 @@
     <form action=""
           name="emaillogin-migrate"
           method="post"
-          class="enableUnloadProtection enableAutoFocus">
+          class="enableUnloadProtection pat-formautofocus">
       <div class="formControls">
         <input type="hidden" name="submitted" value="submitted" id="submitted" />
         <input class="context"
diff --git a/Products/CMFPlone/controlpanel/browser/usergroups_groupdetails.pt b/Products/CMFPlone/controlpanel/browser/usergroups_groupdetails.pt
index 86ab43e..cd62d7c 100644
--- a/Products/CMFPlone/controlpanel/browser/usergroups_groupdetails.pt
+++ b/Products/CMFPlone/controlpanel/browser/usergroups_groupdetails.pt
@@ -80,7 +80,7 @@
                 id="createGroup"
                 name="groups"
                 method="post"
-                class="enableUnloadProtection enableAutoFocus"
+                class="enableUnloadProtection pat-formautofocus"
                 tal:attributes="action string:$portal_url/$template_id"
                 tal:define="targetobject context/portal_groupdata;
                             targetGetProperty nocall:view/group/getProperty | nocall:context/returnNone;">
diff --git a/Products/CMFPlone/controlpanel/browser/usergroups_usersoverview.pt b/Products/CMFPlone/controlpanel/browser/usergroups_usersoverview.pt
index 162cb8a..28418fb 100644
--- a/Products/CMFPlone/controlpanel/browser/usergroups_usersoverview.pt
+++ b/Products/CMFPlone/controlpanel/browser/usergroups_usersoverview.pt
@@ -68,7 +68,7 @@
           </a>
         </p>
         <form action=""
-              class="enableAutoFocus"
+              class="pat-formautofocus"
               name="users_search"
               method="post"
               tal:attributes="action string:$portal_url/$template_id"
diff --git a/Products/CMFPlone/skins/plone_login/login_form.cpt b/Products/CMFPlone/skins/plone_login/login_form.cpt
index 6407100..c7dab22 100644
--- a/Products/CMFPlone/skins/plone_login/login_form.cpt
+++ b/Products/CMFPlone/skins/plone_login/login_form.cpt
@@ -64,7 +64,7 @@
             </div>
 
             <form tal:attributes="action python:context.absolute_url()+'/'+template.id"
-                  class="enableAutoFocus"
+                  class="pat-formautofocus"
                   method="post"
                   id="login_form"
                   tal:condition="use_normal">
@@ -200,7 +200,7 @@
             </form>
 
             <form tal:attributes="action external_login_url"
-                  class="enableAutoFocus"
+                  class="pat-formautofocus"
                   method="get"
                   id="login_form"
                   tal:condition="use_external">
diff --git a/Products/CMFPlone/skins/plone_login/login_password.cpt b/Products/CMFPlone/skins/plone_login/login_password.cpt
index 0bd7f3d..7771322 100644
--- a/Products/CMFPlone/skins/plone_login/login_password.cpt
+++ b/Products/CMFPlone/skins/plone_login/login_password.cpt
@@ -40,7 +40,7 @@
         </p>
 
         <form tal:attributes="action python:context.absolute_url()+'/'+template.id"
-              class="enableAutoFocus"
+              class="pat-formautofocus"
               name="change_password"
               method="post">
 
diff --git a/Products/CMFPlone/skins/plone_prefs/password_form.pt b/Products/CMFPlone/skins/plone_prefs/password_form.pt
index a7dff32..0f9baba 100644
--- a/Products/CMFPlone/skins/plone_prefs/password_form.pt
+++ b/Products/CMFPlone/skins/plone_prefs/password_form.pt
@@ -23,7 +23,7 @@
             Up to my dashboard
         </a>
         <form action="plone_change_password"
-              class="enableAutoFocus enableUnloadProtection"
+              class="pat-formautofocus enableUnloadProtection"
               name="change_password"
               method="post">
 
diff --git a/Products/CMFPlone/skins/plone_templates/test_rendering.pt b/Products/CMFPlone/skins/plone_templates/test_rendering.pt
index 093e9b6..b20ad9f 100644
--- a/Products/CMFPlone/skins/plone_templates/test_rendering.pt
+++ b/Products/CMFPlone/skins/plone_templates/test_rendering.pt
@@ -431,7 +431,7 @@ Table of class <code>vertical listing</code>
 
 <div>
     <h2>Collapsible form</h2>
-    <form id="searchform" name="search" method="get" class="enableAutoFocus" action="search">
+    <form id="searchform" name="search" method="get" class="pat-formautofocus" action="search">
 
         <div class="field collapsible">
             <label class="collapser collapsed" for="created">New items since</label>
@@ -480,7 +480,7 @@ Table of class <code>vertical listing</code>
 
 <div>
     <h2>Select All/None</h2>
-    <form id="searchform" name="search" method="get" class="enableAutoFocus" action="search">
+    <form id="searchform" name="search" method="get" class="pat-formautofocus" action="search">
         <div>
             <label>Item type</label>
         </div>


Repository: Products.CMFPlone


Branch: refs/heads/master
Date: 2015-10-23T16:01:26-05:00
Author: Nathan Van Gheem (vangheem) <vangheem@gmail.com>
Commit: https://github.com/plone/Products.CMFPlone/commit/a2768555e2b3c18b20e259148400715b1897ab15

Merge pull request #1205 from plone/timitos-use-pat-formautofocus

Use formautofocus pattern.

Files changed:
M Products/CMFPlone/browser/templates/search.pt
M Products/CMFPlone/controlpanel/browser/emaillogin.pt
M Products/CMFPlone/controlpanel/browser/usergroups_groupdetails.pt
M Products/CMFPlone/controlpanel/browser/usergroups_usersoverview.pt
M Products/CMFPlone/skins/plone_login/login_form.cpt
M Products/CMFPlone/skins/plone_login/login_password.cpt
M Products/CMFPlone/skins/plone_prefs/password_form.pt
M Products/CMFPlone/skins/plone_templates/test_rendering.pt

diff --git a/Products/CMFPlone/browser/templates/search.pt b/Products/CMFPlone/browser/templates/search.pt
index a98a5d9..771518a 100644
--- a/Products/CMFPlone/browser/templates/search.pt
+++ b/Products/CMFPlone/browser/templates/search.pt
@@ -29,7 +29,7 @@
     <form name="searchform"
           action="@@search"
           role="search"
-          class="searchPage enableAutoFocus"
+          class="searchPage pat-formautofocus"
           tal:define="portal context/@@plone_portal_state/portal;
                       first_call not:request/advanced_search|nothing;
                       st python:request.get('SearchableText', '');
diff --git a/Products/CMFPlone/controlpanel/browser/emaillogin.pt b/Products/CMFPlone/controlpanel/browser/emaillogin.pt
index 16c3949..8e569d3 100644
--- a/Products/CMFPlone/controlpanel/browser/emaillogin.pt
+++ b/Products/CMFPlone/controlpanel/browser/emaillogin.pt
@@ -45,7 +45,7 @@
     <form action=""
           name="emaillogin-migrate"
           method="post"
-          class="enableUnloadProtection enableAutoFocus">
+          class="enableUnloadProtection pat-formautofocus">
       <div class="formControls">
         <input type="hidden" name="submitted" value="submitted" id="submitted" />
         <input class="context"
diff --git a/Products/CMFPlone/controlpanel/browser/usergroups_groupdetails.pt b/Products/CMFPlone/controlpanel/browser/usergroups_groupdetails.pt
index 86ab43e..cd62d7c 100644
--- a/Products/CMFPlone/controlpanel/browser/usergroups_groupdetails.pt
+++ b/Products/CMFPlone/controlpanel/browser/usergroups_groupdetails.pt
@@ -80,7 +80,7 @@
                 id="createGroup"
                 name="groups"
                 method="post"
-                class="enableUnloadProtection enableAutoFocus"
+                class="enableUnloadProtection pat-formautofocus"
                 tal:attributes="action string:$portal_url/$template_id"
                 tal:define="targetobject context/portal_groupdata;
                             targetGetProperty nocall:view/group/getProperty | nocall:context/returnNone;">
diff --git a/Products/CMFPlone/controlpanel/browser/usergroups_usersoverview.pt b/Products/CMFPlone/controlpanel/browser/usergroups_usersoverview.pt
index 162cb8a..28418fb 100644
--- a/Products/CMFPlone/controlpanel/browser/usergroups_usersoverview.pt
+++ b/Products/CMFPlone/controlpanel/browser/usergroups_usersoverview.pt
@@ -68,7 +68,7 @@
           </a>
         </p>
         <form action=""
-              class="enableAutoFocus"
+              class="pat-formautofocus"
               name="users_search"
               method="post"
               tal:attributes="action string:$portal_url/$template_id"
diff --git a/Products/CMFPlone/skins/plone_login/login_form.cpt b/Products/CMFPlone/skins/plone_login/login_form.cpt
index 6407100..c7dab22 100644
--- a/Products/CMFPlone/skins/plone_login/login_form.cpt
+++ b/Products/CMFPlone/skins/plone_login/login_form.cpt
@@ -64,7 +64,7 @@
             </div>
 
             <form tal:attributes="action python:context.absolute_url()+'/'+template.id"
-                  class="enableAutoFocus"
+                  class="pat-formautofocus"
                   method="post"
                   id="login_form"
                   tal:condition="use_normal">
@@ -200,7 +200,7 @@
             </form>
 
             <form tal:attributes="action external_login_url"
-                  class="enableAutoFocus"
+                  class="pat-formautofocus"
                   method="get"
                   id="login_form"
                   tal:condition="use_external">
diff --git a/Products/CMFPlone/skins/plone_login/login_password.cpt b/Products/CMFPlone/skins/plone_login/login_password.cpt
index 0bd7f3d..7771322 100644
--- a/Products/CMFPlone/skins/plone_login/login_password.cpt
+++ b/Products/CMFPlone/skins/plone_login/login_password.cpt
@@ -40,7 +40,7 @@
         </p>
 
         <form tal:attributes="action python:context.absolute_url()+'/'+template.id"
-              class="enableAutoFocus"
+              class="pat-formautofocus"
               name="change_password"
               method="post">
 
diff --git a/Products/CMFPlone/skins/plone_prefs/password_form.pt b/Products/CMFPlone/skins/plone_prefs/password_form.pt
index a7dff32..0f9baba 100644
--- a/Products/CMFPlone/skins/plone_prefs/password_form.pt
+++ b/Products/CMFPlone/skins/plone_prefs/password_form.pt
@@ -23,7 +23,7 @@
             Up to my dashboard
         </a>
         <form action="plone_change_password"
-              class="enableAutoFocus enableUnloadProtection"
+              class="pat-formautofocus enableUnloadProtection"
               name="change_password"
               method="post">
 
diff --git a/Products/CMFPlone/skins/plone_templates/test_rendering.pt b/Products/CMFPlone/skins/plone_templates/test_rendering.pt
index 093e9b6..b20ad9f 100644
--- a/Products/CMFPlone/skins/plone_templates/test_rendering.pt
+++ b/Products/CMFPlone/skins/plone_templates/test_rendering.pt
@@ -431,7 +431,7 @@ Table of class <code>vertical listing</code>
 
 <div>
     <h2>Collapsible form</h2>
-    <form id="searchform" name="search" method="get" class="enableAutoFocus" action="search">
+    <form id="searchform" name="search" method="get" class="pat-formautofocus" action="search">
 
         <div class="field collapsible">
             <label class="collapser collapsed" for="created">New items since</label>
@@ -480,7 +480,7 @@ Table of class <code>vertical listing</code>
 
 <div>
     <h2>Select All/None</h2>
-    <form id="searchform" name="search" method="get" class="enableAutoFocus" action="search">
+    <form id="searchform" name="search" method="get" class="pat-formautofocus" action="search">
         <div>
             <label>Item type</label>
         </div>


