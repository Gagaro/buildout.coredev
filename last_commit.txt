Repository: plone.app.search
Branch: refs/heads/master
Date: 2014-12-05T11:22:01+01:00
Author: Timo Stollenwerk () <contact@timostollenwerk.net>
Commit: https://github.com/plone/plone.app.search/commit/d1250ead078a8a8fab6b2cfbdbdf569468f88fb4

Remove flickering test.

Files changed:
M plone/app/search/tests/test_integration.py

diff --git a/plone/app/search/tests/test_integration.py b/plone/app/search/tests/test_integration.py
index 8c1fee8..e4bed91 100644
--- a/plone/app/search/tests/test_integration.py
+++ b/plone/app/search/tests/test_integration.py
@@ -117,15 +117,6 @@ def test_filter_empty(self):
         res = view.results(batch=False)
         self.assertTrue('my-page1' in [r.getId() for r in res],
                         'Test document is not found in the results.')
-        # filter_query() also succeeds if 1+ real index name is in the
-        # original query:
-        req = test_request()
-        view = getMultiAdapter((portal, req), name=u'search')
-        query = {'portal_type': 'Document'}
-        self.assertEqual(view.filter_query(query), query)
-        res = view.results(query)
-        self.assertTrue('my-page1' in [r.getId() for r in res],
-                        'Test document is not found in the results.')
 
     def test_filter_with_plone3_query(self):
         """Filter should ignore obsolete query parameters, not error. """


