Repository: plone.app.i18n
Branch: refs/heads/master
Date: 2015-03-22T12:31:22+01:00
Author: Ramon Navarro Bosch (bloodbare) <ramon.nb@gmail.com>
Commit: https://github.com/plone/plone.app.i18n/commit/1d6d45df6a86f0011817b36d4f7b33e5ad58655f

Revert "Language switch adaptation"

This reverts commit a8901dc209c82f9aa7d871d3f93b237e5acf8961.

Files changed:
M plone/app/i18n/locales/browser/selector.py

diff --git a/plone/app/i18n/locales/browser/selector.py b/plone/app/i18n/locales/browser/selector.py
index dc5d09c..b1c3042 100644
--- a/plone/app/i18n/locales/browser/selector.py
+++ b/plone/app/i18n/locales/browser/selector.py
@@ -27,11 +27,13 @@ class LanguageSelector(BrowserView):
       ...
       ...     def __init__(self, **kw):
       ...         self.__dict__.update(kw)
-      ...         self.showFlags = True
       ...
       ...     def getSupportedLanguages(self):
       ...         return self.supported_langs
       ...
+      ...     def showFlags(self):
+      ...         return True
+      ...
       ...     def getAvailableLanguageInformation(self):
       ...         return dict(en={'selected' : True}, de={'selected' : False},
       ...                     nl={'selected' : True}, ar={'selected': True})
@@ -110,7 +112,7 @@ def languages(self):
         if self.tool is None:
             return []
 
-        bound = self.tool.getLanguageBindings(self.request)
+        bound = self.tool.getLanguageBindings()
         current = bound[0]
 
         def merge(lang, info):
@@ -139,5 +141,5 @@ def index(info):
     def showFlags(self):
         """Do we use flags?."""
         if self.tool is not None:
-            return self.tool.showFlags
+            return self.tool.showFlags()
         return False


