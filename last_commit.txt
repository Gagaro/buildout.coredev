Repository: mockup
Branch: refs/heads/master
Date: 2015-05-01T11:34:00-05:00
Author: vangheem (vangheem) <vangheem@gmail.com>
Commit: https://github.com/plone/mockup/commit/678c590d1d6221d43b625deb4647a76db61558ee

hide some fields from plone-legacy bundle interface since that bundle
  is a special case

Files changed:
M CHANGES.rst
M mockup/patterns/resourceregistry/js/registry.js
M mockup/patterns/resourceregistry/pattern.resourceregistry.less

diff --git a/CHANGES.rst b/CHANGES.rst
index 56e3c5a..610c323 100644
--- a/CHANGES.rst
+++ b/CHANGES.rst
@@ -4,6 +4,10 @@ Changelog
 2.0.3 (unreleased)
 ------------------
 
+- hide some fields from plone-legacy bundle interface since that bundle
+  is a special case
+  [vangheem]
+
 - consistent behavior in changing development mode settings for
   resource registries pattern
   [vangheem]
diff --git a/mockup/patterns/resourceregistry/js/registry.js b/mockup/patterns/resourceregistry/js/registry.js
index 7ae9784..704b68b 100644
--- a/mockup/patterns/resourceregistry/js/registry.js
+++ b/mockup/patterns/resourceregistry/js/registry.js
@@ -27,6 +27,7 @@ define([
     afterRender: function(){
       var self = this;
       var $body = self.$('.panel-body');
+      self.$el.addClass(self.name + '-resource-entry');
       _.each(self.fields, function(field){
         var options = $.extend({}, field, {
           value: self.options.data[field.name],
@@ -211,9 +212,7 @@ define([
               '<button class="plone-btn plone-btn-default develop-css plone-btn-xs"><%- _t("Develop CSS") %></button>' +
             '<% } %>' +
           '<% } %>' +
-          '<% if(compile){ %>' +
-            '<button class="plone-btn plone-btn-default build plone-btn-xs"><%- _t("Build") %></button>' +
-          '<% } %>' +
+          '<button class="plone-btn plone-btn-default build plone-btn-xs"><%- _t("Build") %></button>' +
           '<button class="plone-btn plone-btn-danger delete plone-btn-xs"><%- _t("Delete") %></button>' +
         '</div>' +
       '</div>'
diff --git a/mockup/patterns/resourceregistry/pattern.resourceregistry.less b/mockup/patterns/resourceregistry/pattern.resourceregistry.less
index fe244e3..2264443 100644
--- a/mockup/patterns/resourceregistry/pattern.resourceregistry.less
+++ b/mockup/patterns/resourceregistry/pattern.resourceregistry.less
@@ -107,4 +107,10 @@
     .development-mode{
         padding-left: 15px;
     }
+
+    .plone-legacy-resource-entry{
+        .field-compile, .field-expression, .field-enabled, .field-conditionalcomment, .field-name{
+            display: none;
+        }
+    }
 }


