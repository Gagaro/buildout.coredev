Repository: plone.app.contenttypes


Branch: refs/heads/master
Date: 2015-09-29T18:56:32+02:00
Author: Philip Bauer (pbauer) <bauer@starzel.de>
Commit: https://github.com/plone/plone.app.contenttypes/commit/8b835c18859f6ad5067db45f87a018bdc0fff5a9

Fix full_view when content is not IUUIDAware (like the portal)
Fix https://github.com/plone/Products.CMFPlone/issues/1109

Files changed:
M CHANGES.rst
M plone/app/contenttypes/browser/templates/full_view.pt

diff --git a/CHANGES.rst b/CHANGES.rst
index a05d024..4354af3 100644
--- a/CHANGES.rst
+++ b/CHANGES.rst
@@ -4,6 +4,10 @@ Changelog
 1.2.5 (unreleased)
 ------------------
 
+- Fix full_view when content is not IUUIDAware (like the portal).
+  Fixes https://github.com/plone/Products.CMFPlone/issues/1109.
+  [pbauer]
+
 - Add plone.app.linkintegrity to dependencies due to test-issues.
   [pbauer]
 
diff --git a/plone/app/contenttypes/browser/templates/full_view.pt b/plone/app/contenttypes/browser/templates/full_view.pt
index a1d2ec1..8d71e34 100644
--- a/plone/app/contenttypes/browser/templates/full_view.pt
+++ b/plone/app/contenttypes/browser/templates/full_view.pt
@@ -9,7 +9,7 @@
 
 <metal:content-core fill-slot="content-core">
 <metal:block define-macro="content-core"
-             tal:define="uuid context/@@uuid">
+             tal:define="uuid context/@@uuid |Â nothing">
   <metal:listing use-macro="context/@@listing_view/macros/content-core">
     <!-- we don't want the dl -->
     <metal:entries fill-slot="entries">


