Repository: Products.CMFPlone


Branch: refs/heads/master
Date: 2015-11-23T22:57:40+01:00
Author: Johannes Raggam () <raggam-nl@adm.at>
Commit: https://github.com/plone/Products.CMFPlone/commit/ee5268bc140d7827600a23dbe6fa37c01d287d12

Don't depend on and install plone.app.widgets. plone.app.z3cform does it for us.

Files changed:
M CHANGES.rst
M Products/CMFPlone/factory.py
M Products/CMFPlone/tests/robot/test_edit.robot
M setup.py

diff --git a/CHANGES.rst b/CHANGES.rst
index c833179..65bce02 100644
--- a/CHANGES.rst
+++ b/CHANGES.rst
@@ -13,7 +13,7 @@ New:
 - Add option to show/hide thumbs in site-controlpanel
   https://github.com/plone/Products.CMFPlone/issues/1241
   [fgrcon]
-  
+
 - Explicitly provide id on search form and not depend on diazo magic
   adding the id in.
   [vangheem]
@@ -58,7 +58,7 @@ Fixes:
 - Fix bbb global status message template rendering escaped html
   [vangheem]
 
-- Avoid AttributeError if registry is not yet there for the 
+- Avoid AttributeError if registry is not yet there for the
   JSRegistryNodeAdapter while migrating from older versions
   https://github.com/plone/Products.CMFPlone/pull/1246
   [frapell]
@@ -110,6 +110,10 @@ Fixes:
   should be unicode.
   [kuetrzi]
 
+- Don't depend on and install plone.app.widgets. plone.app.z3cform does it for
+  us.
+  [thet]
+
 
 5.0 (2015-09-27)
 ----------------
diff --git a/Products/CMFPlone/factory.py b/Products/CMFPlone/factory.py
index c37b42a..6a897cc 100644
--- a/Products/CMFPlone/factory.py
+++ b/Products/CMFPlone/factory.py
@@ -59,7 +59,6 @@ def getNonInstallableProfiles(self):
                 u'plone.app.theming:default',
                 u'plone.app.users:default',
                 u'plone.app.versioningbehavior:default',
-                u'plone.app.widgets:default',
                 u'plone.app.z3cform:default',
                 u'plone.formwidget.recurrence:default',
                 u'plone.resource:default',
diff --git a/Products/CMFPlone/tests/robot/test_edit.robot b/Products/CMFPlone/tests/robot/test_edit.robot
index 7d25191..f17e8ef 100644
--- a/Products/CMFPlone/tests/robot/test_edit.robot
+++ b/Products/CMFPlone/tests/robot/test_edit.robot
@@ -33,7 +33,6 @@ Scenario: Switch tabs
       and no other tab is shown
 
 Scenario: Adding a related item
-    Pass Execution  Disabled until plone.app.widgets is merged
     # Order of the next two lines is important
     # First we're creating a new item and then editing the original page
     Given a logged-in site administrator
@@ -48,7 +47,6 @@ Scenario: Adding a related item
      Then the related item is shown in the page
 
 Scenario: DateTime widget follows form dropdowns values
-    Pass Execution  Disabled until plone.app.widgets is merged
     Given a logged-in site administrator
       and an edited page
      When i click the Dates tab
@@ -57,7 +55,6 @@ Scenario: DateTime widget follows form dropdowns values
      Then popup calendar should have the same date
 
 Scenario: Form dropdowns follows DateTime widget values
-    Pass Execution  Disabled until plone.app.widgets is merged
     Given a logged-in site administrator
       and an edited page
      When i click the Dates tab
diff --git a/setup.py b/setup.py
index c107434..8e71c2e 100644
--- a/setup.py
+++ b/setup.py
@@ -100,7 +100,6 @@
         'plone.app.uuid',
         'plone.app.viewletmanager',
         'plone.app.vocabularies',
-        'plone.app.widgets',
         'plone.app.workflow',
         'plone.batching',
         'plone.browserlayer >= 1.0rc4',


Repository: Products.CMFPlone


Branch: refs/heads/master
Date: 2015-11-24T00:10:25+01:00
Author: Johannes Raggam () <raggam-nl@adm.at>
Commit: https://github.com/plone/Products.CMFPlone/commit/f51424cf1d54b05e563a2408bad1d604618b3bf4

re-adding the tests didnt work. they have to be fixed. out of scope for now...

Files changed:
M Products/CMFPlone/tests/robot/test_edit.robot

diff --git a/Products/CMFPlone/tests/robot/test_edit.robot b/Products/CMFPlone/tests/robot/test_edit.robot
index f17e8ef..7d25191 100644
--- a/Products/CMFPlone/tests/robot/test_edit.robot
+++ b/Products/CMFPlone/tests/robot/test_edit.robot
@@ -33,6 +33,7 @@ Scenario: Switch tabs
       and no other tab is shown
 
 Scenario: Adding a related item
+    Pass Execution  Disabled until plone.app.widgets is merged
     # Order of the next two lines is important
     # First we're creating a new item and then editing the original page
     Given a logged-in site administrator
@@ -47,6 +48,7 @@ Scenario: Adding a related item
      Then the related item is shown in the page
 
 Scenario: DateTime widget follows form dropdowns values
+    Pass Execution  Disabled until plone.app.widgets is merged
     Given a logged-in site administrator
       and an edited page
      When i click the Dates tab
@@ -55,6 +57,7 @@ Scenario: DateTime widget follows form dropdowns values
      Then popup calendar should have the same date
 
 Scenario: Form dropdowns follows DateTime widget values
+    Pass Execution  Disabled until plone.app.widgets is merged
     Given a logged-in site administrator
       and an edited page
      When i click the Dates tab


Repository: Products.CMFPlone


Branch: refs/heads/master
Date: 2015-11-24T00:11:49+01:00
Author: Johannes Raggam (thet) <thetetet@gmail.com>
Commit: https://github.com/plone/Products.CMFPlone/commit/ffb02bc6eb8129f3ad9e0458dfdfe73446bd39c9

Merge pull request #1260 from plone/thet-rmpawdependency

Don't depend on and install plone.app.widgets. plone.app.z3cform doesâ€¦

Files changed:
M CHANGES.rst
M Products/CMFPlone/factory.py
M setup.py

diff --git a/CHANGES.rst b/CHANGES.rst
index c833179..65bce02 100644
--- a/CHANGES.rst
+++ b/CHANGES.rst
@@ -13,7 +13,7 @@ New:
 - Add option to show/hide thumbs in site-controlpanel
   https://github.com/plone/Products.CMFPlone/issues/1241
   [fgrcon]
-  
+
 - Explicitly provide id on search form and not depend on diazo magic
   adding the id in.
   [vangheem]
@@ -58,7 +58,7 @@ Fixes:
 - Fix bbb global status message template rendering escaped html
   [vangheem]
 
-- Avoid AttributeError if registry is not yet there for the 
+- Avoid AttributeError if registry is not yet there for the
   JSRegistryNodeAdapter while migrating from older versions
   https://github.com/plone/Products.CMFPlone/pull/1246
   [frapell]
@@ -110,6 +110,10 @@ Fixes:
   should be unicode.
   [kuetrzi]
 
+- Don't depend on and install plone.app.widgets. plone.app.z3cform does it for
+  us.
+  [thet]
+
 
 5.0 (2015-09-27)
 ----------------
diff --git a/Products/CMFPlone/factory.py b/Products/CMFPlone/factory.py
index c37b42a..6a897cc 100644
--- a/Products/CMFPlone/factory.py
+++ b/Products/CMFPlone/factory.py
@@ -59,7 +59,6 @@ def getNonInstallableProfiles(self):
                 u'plone.app.theming:default',
                 u'plone.app.users:default',
                 u'plone.app.versioningbehavior:default',
-                u'plone.app.widgets:default',
                 u'plone.app.z3cform:default',
                 u'plone.formwidget.recurrence:default',
                 u'plone.resource:default',
diff --git a/setup.py b/setup.py
index c107434..8e71c2e 100644
--- a/setup.py
+++ b/setup.py
@@ -100,7 +100,6 @@
         'plone.app.uuid',
         'plone.app.viewletmanager',
         'plone.app.vocabularies',
-        'plone.app.widgets',
         'plone.app.workflow',
         'plone.batching',
         'plone.browserlayer >= 1.0rc4',


