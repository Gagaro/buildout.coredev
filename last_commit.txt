Repository: mockup


Branch: refs/heads/master
Date: 2015-09-28T16:46:36+02:00
Author: Gagaro (Gagaro) <gagaro42@gmail.com>
Commit: https://github.com/plone/mockup/commit/e942a8859512677c069776a471337834e488c71e

feat: add option to select moment format in structure

Files changed:
M CHANGES.rst
M mockup/patterns/structure/js/views/table.js
M mockup/patterns/structure/pattern.js

diff --git a/CHANGES.rst b/CHANGES.rst
index 7076c17..22bf1b2 100644
--- a/CHANGES.rst
+++ b/CHANGES.rst
@@ -14,6 +14,10 @@ Changelog
     in the `Base.extend` call.
     Refer to any of the core Mockup patterns for examples.
 
+- Add the ``momentFormat`` option to the ``structure`` pattern.
+  [Gagaro]
+
+
 2.0.12 (2015-09-20)
 -------------------
 
diff --git a/mockup/patterns/structure/js/views/table.js b/mockup/patterns/structure/js/views/table.js
index 24775e9..399bb15 100644
--- a/mockup/patterns/structure/js/views/table.js
+++ b/mockup/patterns/structure/js/views/table.js
@@ -101,10 +101,9 @@ define([
           container.append(view.el);
         });
       }
-
       self.moment = new Moment(self.$el, {
         selector: '.ModificationDate,.EffectiveDate,.CreationDate,.ExpirationDate',
-        format: 'relative'
+        format: self.options.app.momentFormat
       });
       self.addReordering();
       self.storeOrder();
diff --git a/mockup/patterns/structure/pattern.js b/mockup/patterns/structure/pattern.js
index 41c2df0..c9d75e2 100644
--- a/mockup/patterns/structure/pattern.js
+++ b/mockup/patterns/structure/pattern.js
@@ -75,6 +75,7 @@ define([
         'last_comment_date': 'Last comment date',
         'total_comments': 'Total comments'
       },
+      momentFormat: 'relative',
       rearrange: {
         properties: {
           'id': 'ID',


Repository: mockup


Branch: refs/heads/master
Date: 2015-09-28T09:51:44-05:00
Author: Nathan Van Gheem (vangheem) <vangheem@gmail.com>
Commit: https://github.com/plone/mockup/commit/fb54ca1720e5e28e7ed03e733852761a1fbbbb3f

Merge pull request #590 from plone/option-structure-moment-format

feat: add option to select moment format in structure

Files changed:
M CHANGES.rst
M mockup/patterns/structure/js/views/table.js
M mockup/patterns/structure/pattern.js

diff --git a/CHANGES.rst b/CHANGES.rst
index 7076c17..22bf1b2 100644
--- a/CHANGES.rst
+++ b/CHANGES.rst
@@ -14,6 +14,10 @@ Changelog
     in the `Base.extend` call.
     Refer to any of the core Mockup patterns for examples.
 
+- Add the ``momentFormat`` option to the ``structure`` pattern.
+  [Gagaro]
+
+
 2.0.12 (2015-09-20)
 -------------------
 
diff --git a/mockup/patterns/structure/js/views/table.js b/mockup/patterns/structure/js/views/table.js
index 24775e9..399bb15 100644
--- a/mockup/patterns/structure/js/views/table.js
+++ b/mockup/patterns/structure/js/views/table.js
@@ -101,10 +101,9 @@ define([
           container.append(view.el);
         });
       }
-
       self.moment = new Moment(self.$el, {
         selector: '.ModificationDate,.EffectiveDate,.CreationDate,.ExpirationDate',
-        format: 'relative'
+        format: self.options.app.momentFormat
       });
       self.addReordering();
       self.storeOrder();
diff --git a/mockup/patterns/structure/pattern.js b/mockup/patterns/structure/pattern.js
index 41c2df0..c9d75e2 100644
--- a/mockup/patterns/structure/pattern.js
+++ b/mockup/patterns/structure/pattern.js
@@ -75,6 +75,7 @@ define([
         'last_comment_date': 'Last comment date',
         'total_comments': 'Total comments'
       },
+      momentFormat: 'relative',
       rearrange: {
         properties: {
           'id': 'ID',


