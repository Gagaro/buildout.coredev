Repository: mockup


Branch: refs/heads/master
Date: 2015-09-07T11:43:59-05:00
Author: vangheem (vangheem) <vangheem@gmail.com>
Commit: https://github.com/plone/mockup/commit/c31c465a044333b4c17a8c7b8060378199b7146c

fix sorting of structure pattern

Files changed:
M CHANGES.rst
M mockup/patterns/structure/js/collections/result.js

diff --git a/CHANGES.rst b/CHANGES.rst
index 5a95a9d..156f588 100644
--- a/CHANGES.rst
+++ b/CHANGES.rst
@@ -4,6 +4,9 @@ Changelog
 2.0.7 (Unreleased)
 ------------------
 
+- Fix structure pattern sorting
+  [vangheem]
+
 - checkout tinymce language with - in addition to _
   [vangheem]
 
diff --git a/mockup/patterns/structure/js/collections/result.js b/mockup/patterns/structure/js/collections/result.js
index b6a74af..40cf6f6 100644
--- a/mockup/patterns/structure/js/collections/result.js
+++ b/mockup/patterns/structure/js/collections/result.js
@@ -59,7 +59,7 @@ define([
       // XXX manually set sort order here since backbone will otherwise
       // do arbitrary sorting?
       _.each(results, function(item, idx) {
-        item._sort = idx + baseSortIdx;
+        item._sort = idx;
       });
       return results;
     },


Repository: mockup


Branch: refs/heads/master
Date: 2015-09-07T12:38:52-05:00
Author: Nathan Van Gheem (vangheem) <vangheem@gmail.com>
Commit: https://github.com/plone/mockup/commit/3815af2d1f9c92947ed7ec8eec650d378540f988

Merge pull request #567 from plone/fix-sorting

fix sorting of structure pattern

Files changed:
M CHANGES.rst
M mockup/patterns/structure/js/collections/result.js

diff --git a/CHANGES.rst b/CHANGES.rst
index 5a95a9d..156f588 100644
--- a/CHANGES.rst
+++ b/CHANGES.rst
@@ -4,6 +4,9 @@ Changelog
 2.0.7 (Unreleased)
 ------------------
 
+- Fix structure pattern sorting
+  [vangheem]
+
 - checkout tinymce language with - in addition to _
   [vangheem]
 
diff --git a/mockup/patterns/structure/js/collections/result.js b/mockup/patterns/structure/js/collections/result.js
index b6a74af..40cf6f6 100644
--- a/mockup/patterns/structure/js/collections/result.js
+++ b/mockup/patterns/structure/js/collections/result.js
@@ -59,7 +59,7 @@ define([
       // XXX manually set sort order here since backbone will otherwise
       // do arbitrary sorting?
       _.each(results, function(item, idx) {
-        item._sort = idx + baseSortIdx;
+        item._sort = idx;
       });
       return results;
     },


