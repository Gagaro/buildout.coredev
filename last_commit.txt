Repository: plone.app.dexterity


Branch: refs/heads/master
Date: 2015-09-13T22:18:02+02:00
Author: Gil Forcada (gforcada) <gforcada@gnome.org>
Commit: https://github.com/plone/plone.app.dexterity/commit/6e5294cd5f33f916326e2f0e42a032a3b4db40cb

No need for unittest2

Since python 2.7 unittest2 was already merged with unittest.

Files changed:
M docs/grok/testing/integration-tests.rst
M docs/testing/integration-tests.rst
M plone/app/dexterity/tests/test_constrains.py
M plone/app/dexterity/tests/test_export.py
M plone/app/dexterity/tests/test_import.py
M plone/app/dexterity/tests/test_nextprevious.py
M plone/app/dexterity/tests/test_permissions.py
M plone/app/dexterity/tests/test_upgrades.py
M setup.py

diff --git a/docs/grok/testing/integration-tests.rst b/docs/grok/testing/integration-tests.rst
index 6c3f74c..6cdd510 100644
--- a/docs/grok/testing/integration-tests.rst
+++ b/docs/grok/testing/integration-tests.rst
@@ -95,7 +95,7 @@ that uses our layer. We’ll add one to ``test_program.py`` first.
 (In the code snippet below, the unit test we created previously has been
 removed to conserve space.)::
 
-    import unittest2 as unittest
+    import unittest
 
     from zope.component import createObject
     from zope.component import queryUtility
@@ -227,7 +227,7 @@ only.
 The other tests are similar. We have ``tests/test_session.py`` to test
 the ``Session`` type::
 
-    import unittest2 as unittest
+    import unittest
 
     from zope.component import createObject
     from zope.component import queryUtility
@@ -316,7 +316,7 @@ We also add a test for the ``possible_tracks()`` vocabulary method,
 as well as tests for the installation of the ``track`` index and metadata
 column and the custom workflow::
 
-    import unittest2 as unittest
+    import unittest
 
     from zope.component import createObject
     from zope.component import queryUtility
diff --git a/docs/testing/integration-tests.rst b/docs/testing/integration-tests.rst
index 6c3f74c..dcf6fb3 100644
--- a/docs/testing/integration-tests.rst
+++ b/docs/testing/integration-tests.rst
@@ -95,7 +95,7 @@ that uses our layer. We’ll add one to ``test_program.py`` first.
 (In the code snippet below, the unit test we created previously has been
 removed to conserve space.)::
 
-    import unittest2 as unittest
+    import unittest
 
     from zope.component import createObject
     from zope.component import queryUtility
diff --git a/plone/app/dexterity/tests/test_constrains.py b/plone/app/dexterity/tests/test_constrains.py
index dcbd525..b732d31 100644
--- a/plone/app/dexterity/tests/test_constrains.py
+++ b/plone/app/dexterity/tests/test_constrains.py
@@ -13,7 +13,7 @@
 from plone.dexterity.fti import DexterityFTI
 from plone.testing.z2 import Browser
 from zope.interface.exceptions import Invalid
-import unittest2 as unittest
+import unittest
 
 
 def add_folder_type(portal):
diff --git a/plone/app/dexterity/tests/test_export.py b/plone/app/dexterity/tests/test_export.py
index cd71c96..7a26211 100644
--- a/plone/app/dexterity/tests/test_export.py
+++ b/plone/app/dexterity/tests/test_export.py
@@ -6,7 +6,7 @@
 from xml.parsers.expat import ExpatError
 from zope.component import getMultiAdapter
 import StringIO
-import unittest2 as unittest
+import unittest
 import zipfile
 
 
diff --git a/plone/app/dexterity/tests/test_import.py b/plone/app/dexterity/tests/test_import.py
index bd0183f..c68d01c 100644
--- a/plone/app/dexterity/tests/test_import.py
+++ b/plone/app/dexterity/tests/test_import.py
@@ -8,7 +8,7 @@
 from plone.app.dexterity.testing import DEXTERITY_INTEGRATION_TESTING
 import os.path
 import plone.namedfile
-import unittest2 as unittest
+import unittest
 import zope.interface
 
 
diff --git a/plone/app/dexterity/tests/test_nextprevious.py b/plone/app/dexterity/tests/test_nextprevious.py
index 1cac31f..f723aad 100644
--- a/plone/app/dexterity/tests/test_nextprevious.py
+++ b/plone/app/dexterity/tests/test_nextprevious.py
@@ -1,4 +1,4 @@
-import unittest2 as unittest
+import unittest
 from plone.app.testing import setRoles, login, logout, TEST_USER_ID
 from plone.app.dexterity.testing import DEXTERITY_INTEGRATION_TESTING
 
diff --git a/plone/app/dexterity/tests/test_permissions.py b/plone/app/dexterity/tests/test_permissions.py
index 7238b7d..eccafa4 100644
--- a/plone/app/dexterity/tests/test_permissions.py
+++ b/plone/app/dexterity/tests/test_permissions.py
@@ -19,12 +19,7 @@
 from zope.globalrequest import setRequest
 from zope.interface import Interface
 import json
-
-try:
-    import unittest2 as unittest
-except ImportError:  # pragma: nocover
-    import unittest  # pragma: nocover
-    assert unittest  # pragma: nocover
+import unittest
 
 
 def add_mock_fti(portal):
diff --git a/plone/app/dexterity/tests/test_upgrades.py b/plone/app/dexterity/tests/test_upgrades.py
index c5a4b18..fb0ecdf 100644
--- a/plone/app/dexterity/tests/test_upgrades.py
+++ b/plone/app/dexterity/tests/test_upgrades.py
@@ -1,6 +1,6 @@
 # -*- coding: utf-8 -*-
 from plone.app.dexterity.testing import DEXTERITY_INTEGRATION_TESTING
-import unittest2 as unittest
+import unittest
 
 
 class TestUpgrades(unittest.TestCase):
diff --git a/setup.py b/setup.py
index d05b2e9..2e1bc20 100644
--- a/setup.py
+++ b/setup.py
@@ -65,7 +65,6 @@
           'test': [
               'plone.app.robotframework',
               'plone.app.testing',
-              'unittest2'
           ],
           'grok': [
               'five.grok',


Repository: plone.app.dexterity


Branch: refs/heads/master
Date: 2015-09-14T12:03:22+02:00
Author: Gil Forcada Codinachs (gforcada) <gforcada@gnome.org>
Commit: https://github.com/plone/plone.app.dexterity/commit/175c30a35a88fdb3672296ad7a6a476b6853bece

Update CHANGES.rst

Files changed:
M CHANGES.rst

diff --git a/CHANGES.rst b/CHANGES.rst
index 764baf7..5a55995 100644
--- a/CHANGES.rst
+++ b/CHANGES.rst
@@ -4,7 +4,8 @@ Changelog
 2.1.12 (unreleased)
 -------------------
 
-- Nothing changed yet.
+- Remove unittest2 dependency.
+  [gforcada]
 
 
 2.1.11 (2015-09-11)


Repository: plone.app.dexterity


Branch: refs/heads/master
Date: 2015-09-14T15:23:55+02:00
Author: Jens W. Klein (jensens) <jk@kleinundpartner.at>
Commit: https://github.com/plone/plone.app.dexterity/commit/1214199e1a1c9daa9e0dac304e004b9dc82fb0e9

Merge pull request #180 from plone/no-unittest2

No need for unittest2

Files changed:
M CHANGES.rst
M docs/grok/testing/integration-tests.rst
M docs/testing/integration-tests.rst
M plone/app/dexterity/tests/test_constrains.py
M plone/app/dexterity/tests/test_export.py
M plone/app/dexterity/tests/test_import.py
M plone/app/dexterity/tests/test_nextprevious.py
M plone/app/dexterity/tests/test_permissions.py
M plone/app/dexterity/tests/test_upgrades.py
M setup.py

diff --git a/CHANGES.rst b/CHANGES.rst
index 764baf7..5a55995 100644
--- a/CHANGES.rst
+++ b/CHANGES.rst
@@ -4,7 +4,8 @@ Changelog
 2.1.12 (unreleased)
 -------------------
 
-- Nothing changed yet.
+- Remove unittest2 dependency.
+  [gforcada]
 
 
 2.1.11 (2015-09-11)
diff --git a/docs/grok/testing/integration-tests.rst b/docs/grok/testing/integration-tests.rst
index 6c3f74c..6cdd510 100644
--- a/docs/grok/testing/integration-tests.rst
+++ b/docs/grok/testing/integration-tests.rst
@@ -95,7 +95,7 @@ that uses our layer. We’ll add one to ``test_program.py`` first.
 (In the code snippet below, the unit test we created previously has been
 removed to conserve space.)::
 
-    import unittest2 as unittest
+    import unittest
 
     from zope.component import createObject
     from zope.component import queryUtility
@@ -227,7 +227,7 @@ only.
 The other tests are similar. We have ``tests/test_session.py`` to test
 the ``Session`` type::
 
-    import unittest2 as unittest
+    import unittest
 
     from zope.component import createObject
     from zope.component import queryUtility
@@ -316,7 +316,7 @@ We also add a test for the ``possible_tracks()`` vocabulary method,
 as well as tests for the installation of the ``track`` index and metadata
 column and the custom workflow::
 
-    import unittest2 as unittest
+    import unittest
 
     from zope.component import createObject
     from zope.component import queryUtility
diff --git a/docs/testing/integration-tests.rst b/docs/testing/integration-tests.rst
index 6c3f74c..dcf6fb3 100644
--- a/docs/testing/integration-tests.rst
+++ b/docs/testing/integration-tests.rst
@@ -95,7 +95,7 @@ that uses our layer. We’ll add one to ``test_program.py`` first.
 (In the code snippet below, the unit test we created previously has been
 removed to conserve space.)::
 
-    import unittest2 as unittest
+    import unittest
 
     from zope.component import createObject
     from zope.component import queryUtility
diff --git a/plone/app/dexterity/tests/test_constrains.py b/plone/app/dexterity/tests/test_constrains.py
index dcbd525..b732d31 100644
--- a/plone/app/dexterity/tests/test_constrains.py
+++ b/plone/app/dexterity/tests/test_constrains.py
@@ -13,7 +13,7 @@
 from plone.dexterity.fti import DexterityFTI
 from plone.testing.z2 import Browser
 from zope.interface.exceptions import Invalid
-import unittest2 as unittest
+import unittest
 
 
 def add_folder_type(portal):
diff --git a/plone/app/dexterity/tests/test_export.py b/plone/app/dexterity/tests/test_export.py
index cd71c96..7a26211 100644
--- a/plone/app/dexterity/tests/test_export.py
+++ b/plone/app/dexterity/tests/test_export.py
@@ -6,7 +6,7 @@
 from xml.parsers.expat import ExpatError
 from zope.component import getMultiAdapter
 import StringIO
-import unittest2 as unittest
+import unittest
 import zipfile
 
 
diff --git a/plone/app/dexterity/tests/test_import.py b/plone/app/dexterity/tests/test_import.py
index bd0183f..c68d01c 100644
--- a/plone/app/dexterity/tests/test_import.py
+++ b/plone/app/dexterity/tests/test_import.py
@@ -8,7 +8,7 @@
 from plone.app.dexterity.testing import DEXTERITY_INTEGRATION_TESTING
 import os.path
 import plone.namedfile
-import unittest2 as unittest
+import unittest
 import zope.interface
 
 
diff --git a/plone/app/dexterity/tests/test_nextprevious.py b/plone/app/dexterity/tests/test_nextprevious.py
index 1cac31f..f723aad 100644
--- a/plone/app/dexterity/tests/test_nextprevious.py
+++ b/plone/app/dexterity/tests/test_nextprevious.py
@@ -1,4 +1,4 @@
-import unittest2 as unittest
+import unittest
 from plone.app.testing import setRoles, login, logout, TEST_USER_ID
 from plone.app.dexterity.testing import DEXTERITY_INTEGRATION_TESTING
 
diff --git a/plone/app/dexterity/tests/test_permissions.py b/plone/app/dexterity/tests/test_permissions.py
index 7238b7d..eccafa4 100644
--- a/plone/app/dexterity/tests/test_permissions.py
+++ b/plone/app/dexterity/tests/test_permissions.py
@@ -19,12 +19,7 @@
 from zope.globalrequest import setRequest
 from zope.interface import Interface
 import json
-
-try:
-    import unittest2 as unittest
-except ImportError:  # pragma: nocover
-    import unittest  # pragma: nocover
-    assert unittest  # pragma: nocover
+import unittest
 
 
 def add_mock_fti(portal):
diff --git a/plone/app/dexterity/tests/test_upgrades.py b/plone/app/dexterity/tests/test_upgrades.py
index c5a4b18..fb0ecdf 100644
--- a/plone/app/dexterity/tests/test_upgrades.py
+++ b/plone/app/dexterity/tests/test_upgrades.py
@@ -1,6 +1,6 @@
 # -*- coding: utf-8 -*-
 from plone.app.dexterity.testing import DEXTERITY_INTEGRATION_TESTING
-import unittest2 as unittest
+import unittest
 
 
 class TestUpgrades(unittest.TestCase):
diff --git a/setup.py b/setup.py
index d05b2e9..2e1bc20 100644
--- a/setup.py
+++ b/setup.py
@@ -65,7 +65,6 @@
           'test': [
               'plone.app.robotframework',
               'plone.app.testing',
-              'unittest2'
           ],
           'grok': [
               'five.grok',


