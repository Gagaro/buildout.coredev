Repository: plone.app.content
Branch: refs/heads/master
Date: 2015-05-29T17:06:09-07:00
Author: Fulvio Casali (fulv) <fulviocasali@gmail.com>
Commit: https://github.com/plone/plone.app.content/commit/0824d80662e21541c090d427ec10694c639e4701

Fixes plone/Products.CMFPlone issue #582.

Files changed:
M plone/app/content/browser/constraintypes.py

diff --git a/plone/app/content/browser/constraintypes.py b/plone/app/content/browser/constraintypes.py
index 78db1ab..b33bab2 100644
--- a/plone/app/content/browser/constraintypes.py
+++ b/plone/app/content/browser/constraintypes.py
@@ -69,7 +69,7 @@ class IConstrainForm(Interface):
                         "main pulldown. "
                         "This is useful to indicate that these are not the "
                         "preferred types "
-                        "in this location, but are allowed if your really "
+                        "in this location, but are allowed if you really "
                         "need them."
                         ),
         value_type=Choice(


Repository: plone.app.content
Branch: refs/heads/master
Date: 2015-05-29T17:45:08-07:00
Author: Fulvio Casali (fulv) <fulviocasali@gmail.com>
Commit: https://github.com/plone/plone.app.content/commit/4c553b491cb3a95457d318666212154eeac74598

Fixes issue Products.CMFPlone #583.

Files changed:
M plone/app/content/browser/constraintypes.py

diff --git a/plone/app/content/browser/constraintypes.py b/plone/app/content/browser/constraintypes.py
index b33bab2..5f31768 100644
--- a/plone/app/content/browser/constraintypes.py
+++ b/plone/app/content/browser/constraintypes.py
@@ -49,7 +49,8 @@ class IConstrainForm(Interface):
         description=PC_("help_add_restriction_mode",
                         default="Select the restriction policy "
                         "in this location"),
-        vocabulary=possible_constrain_types
+        vocabulary=possible_constrain_types,
+        required=False,
     )
 
     allowed_types = List(
@@ -59,6 +60,7 @@ class IConstrainForm(Interface):
                         "in this location"),
         value_type=Choice(
             source="plone.app.content.ValidAddableTypes"),
+        required=False,
     )
 
     secondary_types = List(
@@ -74,6 +76,7 @@ class IConstrainForm(Interface):
                         ),
         value_type=Choice(
             source="plone.app.content.ValidAddableTypes"),
+        required=False,
     )
 
     @invariant


Repository: plone.app.content
Branch: refs/heads/master
Date: 2015-05-29T18:05:05-07:00
Author: Fulvio Casali (fulv) <fulviocasali@gmail.com>
Commit: https://github.com/plone/plone.app.content/commit/60ee10163479a224a2a77a6301a9c18c473267ef

Fixes issue #584 in plone/Products.CMFPlone

Files changed:
M plone/app/content/browser/constraintypes.py

diff --git a/plone/app/content/browser/constraintypes.py b/plone/app/content/browser/constraintypes.py
index 5f31768..d284dbc 100644
--- a/plone/app/content/browser/constraintypes.py
+++ b/plone/app/content/browser/constraintypes.py
@@ -136,6 +136,10 @@ def updateWidgets(self):
         self.widgets['constrain_types_mode'].addClass(
             'constrain_types_mode_form')
 
+    def updateActions(self):
+        super(ConstrainsFormView, self).updateActions()
+        self.actions['save'].addClass('context')
+
     @button.buttonAndHandler(u'Save')
     def handleSave(self, action):
         data, errors = self.extractData()


Repository: plone.app.content
Branch: refs/heads/master
Date: 2015-05-29T18:13:13-07:00
Author: Fulvio Casali (fulv) <fulviocasali@gmail.com>
Commit: https://github.com/plone/plone.app.content/commit/fa5a6cb9d529156095300db93b9d9ca4cf9fa2ba

Update changelog

Files changed:
M CHANGES.rst

diff --git a/CHANGES.rst b/CHANGES.rst
index 4af2b15..452298f 100644
--- a/CHANGES.rst
+++ b/CHANGES.rst
@@ -4,6 +4,9 @@ Changelog
 3.0.2 (unreleased)
 ------------------
 
+- Fix a few minor issues on folder_constraintypes_form.
+  [fulv]
+
 - Add ``id`` to available columns of the ``folder_contents`` view.
   [thet]
 


Repository: plone.app.content
Branch: refs/heads/master
Date: 2015-06-01T11:43:47+02:00
Author: Jens W. Klein (jensens) <jk@kleinundpartner.at>
Commit: https://github.com/plone/plone.app.content/commit/ff00b99099c155518bea5b45f591f7b661ddb130

Merge pull request #32 from plone/fulv-issue#584

Fixes https://github.com/plone/Products.CMFPlone/issues/584

Files changed:
M CHANGES.rst
M plone/app/content/browser/constraintypes.py

diff --git a/CHANGES.rst b/CHANGES.rst
index dc27bd4..c819f39 100644
--- a/CHANGES.rst
+++ b/CHANGES.rst
@@ -50,6 +50,9 @@ Changelog
 3.0.2 (2015-03-13)
 ------------------
 
+- Fix a few minor issues on folder_constraintypes_form.
+  [fulv]
+
 - Add ``id`` to available columns of the ``folder_contents`` view.
   [thet]
 
diff --git a/plone/app/content/browser/constraintypes.py b/plone/app/content/browser/constraintypes.py
index 2869949..65e6d98 100644
--- a/plone/app/content/browser/constraintypes.py
+++ b/plone/app/content/browser/constraintypes.py
@@ -63,7 +63,8 @@ class IConstrainForm(Interface):
         description=PC_("help_add_restriction_mode",
                         default="Select the restriction policy "
                         "in this location"),
-        vocabulary=possible_constrain_types
+        vocabulary=possible_constrain_types,
+        required=False,
     )
 
     allowed_types = List(
@@ -73,6 +74,7 @@ class IConstrainForm(Interface):
                         "in this location"),
         value_type=Choice(
             source="plone.app.content.ValidAddableTypes"),
+        required=False,
     )
 
     secondary_types = List(
@@ -83,11 +85,12 @@ class IConstrainForm(Interface):
                         "main pulldown. "
                         "This is useful to indicate that these are not the "
                         "preferred types "
-                        "in this location, but are allowed if your really "
+                        "in this location, but are allowed if you really "
                         "need them."
                         ),
         value_type=Choice(
             source="plone.app.content.ValidAddableTypes"),
+        required=False,
     )
 
     @invariant
@@ -147,6 +150,10 @@ def updateWidgets(self):
         self.widgets['constrain_types_mode'].addClass(
             'constrain_types_mode_form')
 
+    def updateActions(self):
+        super(ConstrainsFormView, self).updateActions()
+        self.actions['save'].addClass('context')
+
     @button.buttonAndHandler(u'Save')
     def handleSave(self, action):
         data, errors = self.extractData()


