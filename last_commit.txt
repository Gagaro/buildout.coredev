Repository: Products.Archetypes
Branch: refs/heads/master
Date: 2015-03-03T19:56:42+01:00
Author: Tom Gross (tomgross) <itconsense@gmail.com>
Commit: https://github.com/plone/Products.Archetypes/commit/c2355d0dd394482626696d2e7d0c1df5b5c1558d

remove test boilerplate which is no longer necessary

Files changed:
M Products/Archetypes/tests/test_default_mimetypes.py

diff --git a/Products/Archetypes/tests/test_default_mimetypes.py b/Products/Archetypes/tests/test_default_mimetypes.py
index 53c5d54..affee54 100644
--- a/Products/Archetypes/tests/test_default_mimetypes.py
+++ b/Products/Archetypes/tests/test_default_mimetypes.py
@@ -10,15 +10,6 @@
 class TestDefaultMimeTypes(ATSiteTestCase):
 
     def test_ATDocumentDefaultType(self):
-        # move portal_properties out of the way. it was not here
-        # when we used CMFTestCase and now it fools with the
-        # default mimetype tests
-        _orignal_pp = self.portal['portal_properties']
-        self.portal._delObject('portal_properties', suppress_events=True)
-        from Products.CMFCore.utils import getToolByName
-        from Products.CMFCore.utils import _tool_interface_registry
-        ptool = _tool_interface_registry.pop('portal_properties')
-
         self.loginAsPortalOwner()
         # we create a new document:
         self.portal.invokeFactory('DDocument', id='testdoc', title='TestDocument')
@@ -35,5 +26,3 @@ def test_ATDocumentDefaultType(self):
         # while this raises no error it won't change the default, as we have
         # no properties tool nor properties sheet
         self.assertEqual(getDefaultContentType(self.portal), 'text/x-web-markdown')
-        self.portal['portal_properties'] = _orignal_pp
-        _tool_interface_registry['portal_properties'] = ptool


