Repository: Products.Archetypes
Branch: refs/heads/master
Date: 2015-01-19T14:13:41+01:00
Author: Johannes Raggam (thet) <raggam-nl@adm.at>
Commit: https://github.com/plone/Products.Archetypes/commit/cb6cd8ca7a4b96916fcebcab14edfcce83c1a8ba

Fix ``MimeTypesRegistry`` test import.

Files changed:
M CHANGES.txt
M Products/Archetypes/tests/test_classgen.py

diff --git a/CHANGES.txt b/CHANGES.txt
index 48f0226..6fefcd6 100644
--- a/CHANGES.txt
+++ b/CHANGES.txt
@@ -4,6 +4,9 @@ Changelog
 1.10.3 (unreleased)
 -------------------
 
+- Fix ``MimeTypesRegistry`` test import.
+  [thet]
+
 - For Plone 5, support getting markup control panel settings from the registry,
   while still supporting normal portal_properties access for Plone < 5.
   [thet]
diff --git a/Products/Archetypes/tests/test_classgen.py b/Products/Archetypes/tests/test_classgen.py
index 9a27378..df9835c 100644
--- a/Products/Archetypes/tests/test_classgen.py
+++ b/Products/Archetypes/tests/test_classgen.py
@@ -37,7 +37,7 @@
 from Products.Archetypes import atapi
 from Products.Archetypes.interfaces.base import IBaseUnit
 from Products.Archetypes.ClassGen import generateMethods
-from Products.MimetypesRegistry.MimeTypesTool import MimeTypesTool
+from Products.MimetypesRegistry.MimeTypesRegistry import MimeTypesRegistry
 from Products.PortalTransforms.TransformTool import TransformTool
 
 
@@ -112,7 +112,7 @@ class PortalProperties:
 class Dummy(atapi.BaseContent):
     portal_properties = PortalProperties()
     portal_discussion = DummyDiscussionTool()
-    mimetypes_registry = MimeTypesTool()
+    mimetypes_registry = MimeTypesRegistry()
 
     def __init__(self, oid='test', init_transforms=0, **kwargs):
         atapi.BaseContent.__init__(self, oid, **kwargs)


