Repository: Products.CMFPlone
Branch: refs/heads/master
Date: 2015-03-09T11:45:11+01:00
Author: Ramon Navarro Bosch (bloodbare) <ramon.nb@gmail.com>
Commit: https://github.com/plone/Products.CMFPlone/commit/d6cac111916db797bb0a07306350bdec37513050

Mangling legacy separate js may lead to duplication of names depending on the scripts

Files changed:
M Products/CMFPlone/resources/browser/cook.py

diff --git a/Products/CMFPlone/resources/browser/cook.py b/Products/CMFPlone/resources/browser/cook.py
index 473ba40..5ad080e 100644
--- a/Products/CMFPlone/resources/browser/cook.py
+++ b/Products/CMFPlone/resources/browser/cook.py
@@ -42,7 +42,7 @@ def cookWhenChangingSettings(context, bundle):
                     try:
                         cooked_js += '\n/* resource: %s */\n%s' % (
                             resource.js,
-                            minify(js, mangle=True, mangle_toplevel=True)
+                            minify(js, mangle=False, mangle_toplevel=False)
                         )
                     except SyntaxError:
                         cooked_js += '\n/* resource(error cooking): %s */\n%s' % (


