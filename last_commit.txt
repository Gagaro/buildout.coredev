Repository: mockup


Branch: refs/heads/master
Date: 2015-10-21T00:21:57-05:00
Author: vangheem (vangheem) <vangheem@gmail.com>
Commit: https://github.com/plone/mockup/commit/c40b07e2c6bcec5d40d44f546faac6f065c46066

lazy load element

Files changed:
M mockup/js/utils.js

diff --git a/mockup/js/utils.js b/mockup/js/utils.js
index dd9838c..f77c676 100644
--- a/mockup/js/utils.js
+++ b/mockup/js/utils.js
@@ -213,13 +213,17 @@ define([
       options = {};
     }
     self.options = $.extend({}, defaults, options);
-    self.$el = $('.' + self.className);
-    if(self.$el.length === 0){
-      self.$el = $('<div><div></div></div>');
-      self.$el.addClass(self.className).hide().appendTo('body');
-    }
+
+    self.init = function(){
+      self.$el = $('.' + self.className);
+      if(self.$el.length === 0){
+        self.$el = $('<div><div></div></div>');
+        self.$el.addClass(self.className).hide().appendTo('body');
+      }
+    };
 
     self.show = function(closable){
+      self.init();
       self.$el.show();
       var zIndex = self.options.zIndex;
       if (typeof(zIndex) === 'function') {


