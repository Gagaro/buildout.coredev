Repository: plone.schemaeditor
Branch: refs/heads/master
Date: 2015-05-13T00:11:38+02:00
Author: Eric BREHAULT (ebrehault) <ebrehault@gmail.com>
Commit: https://github.com/plone/plone.schemaeditor/commit/d886441140e10ce0cf224a9498c36a4e5f3d0595

delete method mustn't return html (it produces a plone.protect warning)

Files changed:
M plone/schemaeditor/browser/field/order.py

diff --git a/plone/schemaeditor/browser/field/order.py b/plone/schemaeditor/browser/field/order.py
index a8119c9..78187d3 100644
--- a/plone/schemaeditor/browser/field/order.py
+++ b/plone/schemaeditor/browser/field/order.py
@@ -53,4 +53,4 @@ def delete(self):
         schema.removeField(self.field.getName())
         notify(ObjectRemovedEvent(self.field, self.schema))
         notify(FieldRemovedEvent(self.aq_parent.aq_parent, self.field))
-        self.request.response.setHeader('Content-Type', 'text/html')
+        self.request.response.setHeader('Content-Type', 'application/json')


