Repository: Products.CMFPlone


Branch: refs/heads/master
Date: 2015-09-25T17:28:15+02:00
Author: Gagaro (Gagaro) <gagaro42@gmail.com>
Commit: https://github.com/plone/Products.CMFPlone/commit/243773d8d1b0f1804cf6db6a92b961fa85598f84

fix: image preview in TinyMCE editor when in modals

Files changed:
M CHANGES.rst
M Products/CMFPlone/patterns/__init__.py

diff --git a/CHANGES.rst b/CHANGES.rst
index 3fa2f05..e171877 100644
--- a/CHANGES.rst
+++ b/CHANGES.rst
@@ -45,6 +45,9 @@ Changelog
   `#1041`_.
   [maurits]
 
+- Fix image preview in TinyMCE editor when in modals.
+  [Gagaro]
+
 
 5.0rc3 (2015-09-21)
 -------------------
diff --git a/Products/CMFPlone/patterns/__init__.py b/Products/CMFPlone/patterns/__init__.py
index 3305358..c4a0ad5 100644
--- a/Products/CMFPlone/patterns/__init__.py
+++ b/Products/CMFPlone/patterns/__init__.py
@@ -248,7 +248,7 @@ def tinymce(self):
             'tiny': generator.get_tiny_config(),
             # This is for loading the languages on tinymce
             'loadingBaseUrl': '%s/++plone++static/components/tinymce-builded/js/tinymce' % generator.portal_url,  # noqa
-            'prependToUrl': 'resolveuid/',
+            'prependToUrl': '{0}/resolveuid/'.format(generator.portal_url),
             'linkAttribute': 'UID',
             'prependToScalePart': '/@@images/image/',
             'folderTypes': folder_types,


Repository: Products.CMFPlone


Branch: refs/heads/master
Date: 2015-09-28T13:58:23+02:00
Author: Jens W. Klein (jensens) <jk@kleinundpartner.at>
Commit: https://github.com/plone/Products.CMFPlone/commit/a67ef1b232df1d07a353e9497cdcf2459bdeaade

Merge pull request #1088 from plone/fix-tinymce-image

fix: image preview in TinyMCE editor when in modals

Files changed:
M CHANGES.rst
M Products/CMFPlone/patterns/__init__.py

diff --git a/CHANGES.rst b/CHANGES.rst
index 960ff40..424ab44 100644
--- a/CHANGES.rst
+++ b/CHANGES.rst
@@ -54,6 +54,9 @@ Changelog
   `#1041`_.
   [maurits]
 
+- Fix image preview in TinyMCE editor when in modals.
+  [Gagaro]
+
 
 5.0rc3 (2015-09-21)
 -------------------
diff --git a/Products/CMFPlone/patterns/__init__.py b/Products/CMFPlone/patterns/__init__.py
index 3305358..c4a0ad5 100644
--- a/Products/CMFPlone/patterns/__init__.py
+++ b/Products/CMFPlone/patterns/__init__.py
@@ -248,7 +248,7 @@ def tinymce(self):
             'tiny': generator.get_tiny_config(),
             # This is for loading the languages on tinymce
             'loadingBaseUrl': '%s/++plone++static/components/tinymce-builded/js/tinymce' % generator.portal_url,  # noqa
-            'prependToUrl': 'resolveuid/',
+            'prependToUrl': '{0}/resolveuid/'.format(generator.portal_url),
             'linkAttribute': 'UID',
             'prependToScalePart': '/@@images/image/',
             'folderTypes': folder_types,


