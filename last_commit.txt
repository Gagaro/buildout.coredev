Repository: plone.app.contenttypes


Branch: refs/heads/master
Date: 2015-09-13T13:54:06+02:00
Author: Philip Bauer (pbauer) <bauer@starzel.de>
Commit: https://github.com/plone/plone.app.contenttypes/commit/2c2131310172adc4623c17641494e006fc9f7988

Prevent negative ints and zero when limiting collection-results

Files changed:
M CHANGES.rst
M plone/app/contenttypes/behaviors/collection.py

diff --git a/CHANGES.rst b/CHANGES.rst
index b8d7689..9e00fc0 100644
--- a/CHANGES.rst
+++ b/CHANGES.rst
@@ -4,7 +4,8 @@ Changelog
 1.2.2 (unreleased)
 ------------------
 
-- Nothing changed yet.
+- Prevent negative ints and zero when limiting collection-results.
+  [pbauer]
 
 
 1.2.1 (2015-09-12)
diff --git a/plone/app/contenttypes/behaviors/collection.py b/plone/app/contenttypes/behaviors/collection.py
index a1ce539..d63b39d 100644
--- a/plone/app/contenttypes/behaviors/collection.py
+++ b/plone/app/contenttypes/behaviors/collection.py
@@ -67,6 +67,7 @@ class ICollection(model.Schema):
         description=_(u'Limit Search Results'),
         required=False,
         default=1000,
+        min=1,
     )
 
     item_count = schema.Int(
@@ -74,6 +75,7 @@ class ICollection(model.Schema):
         description=_(u'Number of items that will show up in one batch.'),
         required=False,
         default=30,
+        min=1,
     )
 
     customViewFields = schema.List(


