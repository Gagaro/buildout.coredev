Repository: plone.app.form
Branch: refs/heads/2.2.x
Date: 2015-04-27T16:17:22+02:00
Author: Gil Forcada (gforcada) <gforcada@gnome.org>
Commit: https://github.com/plone/plone.app.form/commit/ba1e08766dad6c213e70ac604fbe5f66e43448fc

Fix locales names

Files changed:
M plone/app/form/widgets/datecomponents.txt

diff --git a/plone/app/form/widgets/datecomponents.txt b/plone/app/form/widgets/datecomponents.txt
index 0499260..db02579 100644
--- a/plone/app/form/widgets/datecomponents.txt
+++ b/plone/app/form/widgets/datecomponents.txt
@@ -165,12 +165,12 @@ The EN_us locale will not suffer of the issue while other (DE_de or IT_it) do.
   >>> import locale
   >>> default_locale = locale.getlocale()
   >>> testdate = DateTime.DateTime('2015/04/17 09:00:00')
-  >>> locale.setlocale(locale.LC_ALL, "EN_us")
-  'EN_us'
+  >>> locale.setlocale(locale.LC_ALL, "en_US")
+  'en_US'
   >>> view.result(testdate, use_ampm=True)['ampm']
   [{'selected': None, 'id': '--', 'value': 'AM'}, {'selected': 1, 'id': 'AM', 'value': 'AM'}, {'selected': None, 'id': 'PM', 'value': 'PM'}]
-  >>> locale.setlocale(locale.LC_ALL, "IT_it")
-  'IT_it'
+  >>> locale.setlocale(locale.LC_ALL, "it_IT")
+  'it_IT'
   >>> view.result(testdate, use_ampm=True)['ampm']
   [{'selected': None, 'id': '--', 'value': 'AM'}, {'selected': 1, 'id': 'AM', 'value': 'AM'}, {'selected': None, 'id': 'PM', 'value': 'PM'}]  
   >>> dummy = locale.setlocale(locale.LC_ALL, default_locale)


