Repository: plone.app.contenttypes


Branch: refs/heads/master
Date: 2015-09-12T03:04:04+02:00
Author: Maurits van Rees (mauritsvanrees) <maurits@vanrees.org>
Commit: https://github.com/plone/plone.app.contenttypes/commit/74522d373eac040d9b1d04febf6c4b93b97291ae

Use setuptools 18.2 in bootstrap.

We are installing this version with pip and pinning it in the buildout,
so we should use it while bootstrapping as well.
Otherwise when running 'bin/buildout -N' this fails with a VersionConflict:
it has 18.3.1 in bin/buildout and and the script is called in non-newest mode,
so it cannot update itself.
Alternatively, simply run bin/buildout without '-N',
seems fine.
Again, alternatively, remove the setuptools pinning. 18.3 had a problem, but 18.3.1 is fine again.

Files changed:
M .travis.yml

diff --git a/.travis.yml b/.travis.yml
index 57b1aea..b5eb81e 100644
--- a/.travis.yml
+++ b/.travis.yml
@@ -18,7 +18,7 @@ before_install:
   - echo "eggs-directory = $HOME/buildout-cache/eggs" >> $HOME/.buildout/default.cfg
 install:
   - pip install -U setuptools==18.2
-  - python bootstrap-buildout.py -c travis.cfg
+  - python bootstrap-buildout.py --setuptools-version=18.2 -c travis.cfg
   - bin/buildout -Nc travis.cfg
 before_script:
   - "export DISPLAY=:99.0"


