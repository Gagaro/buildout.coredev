Repository: mockup


Branch: refs/heads/master
Date: 2015-10-05T16:51:02-05:00
Author: vangheem (vangheem) <vangheem@gmail.com>
Commit: https://github.com/plone/mockup/commit/22617225d4b3be293de124d7d1755da080ef2f9d

use history.pushState instead of setting the hash to prevent page scrolling on tab changes

Files changed:
M mockup/patterns/autotoc/pattern.js

diff --git a/mockup/patterns/autotoc/pattern.js b/mockup/patterns/autotoc/pattern.js
index 9997f8d..0acf0a4 100644
--- a/mockup/patterns/autotoc/pattern.js
+++ b/mockup/patterns/autotoc/pattern.js
@@ -155,7 +155,9 @@ define([
             }
             $(this).trigger('clicked');
             if(!options.skipHash){
-              window.location.hash = $el.attr('id');
+              if(window.history && window.history.pushState){
+                window.history.pushState({}, '', '#' + $el.attr('id'));
+              }
             }
           });
       });


