Repository: plone.app.upgrade
Branch: refs/heads/master
Date: 2015-03-05T07:13:54+01:00
Author: Tom Gross (tomgross) <itconsense@gmail.com>
Commit: https://github.com/plone/plone.app.upgrade/commit/3663cd3ec4f4163619b982ce38e5d7b08b6a3de4

remove traces of PloneTestCase

Conflicts:
	plone/app/upgrade/tests/base.py

Files changed:
M plone/app/upgrade/tests/base.py
M setup.py

diff --git a/plone/app/upgrade/tests/base.py b/plone/app/upgrade/tests/base.py
index 5359e35..c17c50f 100644
--- a/plone/app/upgrade/tests/base.py
+++ b/plone/app/upgrade/tests/base.py
@@ -10,9 +10,7 @@
 from zope.site.hooks import setSite
 
 from Testing.ZopeTestCase.sandbox import Sandboxed
-from Products.PloneTestCase.PloneTestCase import PloneTestCase
-from Products.PloneTestCase.layer import PloneSiteLayer
-from Products.PloneTestCase.setup import setupPloneSite
+from plone.app.testing.bbb import PloneTestCase
 
 from Products.CMFCore.interfaces import IActionCategory
 from Products.CMFCore.interfaces import IActionInfo
@@ -22,7 +20,7 @@
 
 from Products.Five import zcml
 
-setupPloneSite(products=["plone.app.folder"])
+
 
 class MigrationTest(PloneTestCase):
 
@@ -112,21 +110,10 @@ def removeSkinLayer(self, layer, skin='Plone Default'):
             skins.addSkinSelection(skin, ','.join(path))
 
 
-class FunctionalUpgradeLayer(PloneSiteLayer):
-
-    @classmethod
-    def setUp(cls):
-        pass
-
-    @classmethod
-    def tearDown(cls):
-        pass
-
 
-class FunctionalUpgradeTestCase(Sandboxed, PloneTestCase, WarningInterceptor):
+class FunctionalUpgradeTestCase(PloneTestCase, WarningInterceptor):
 
     _setup_fixture = 0
-    layer = FunctionalUpgradeLayer
     site_id = 'test'
 
     def afterSetUp(self):
diff --git a/setup.py b/setup.py
index 9c38656..a88acf9 100644
--- a/setup.py
+++ b/setup.py
@@ -29,13 +29,13 @@
             'mock',
             'Products.CMFPlacefulWorkflow',
             'Products.CMFQuickInstallerTool',
-            'Products.PloneTestCase',
             'plone.contentrules',
             'plone.app.i18n',
             'plone.app.iterate',
             'plone.app.openid',
             'plone.app.redirector',
             'plone.app.viewletmanager',
+            'plone.app.testing',
             'plone.app.theming',
         ]
       ),


