Repository: mockup
Branch: refs/heads/master
Date: 2015-06-04T22:21:41-05:00
Author: vangheem (vangheem) <vangheem@gmail.com>
Commit: https://github.com/plone/mockup/commit/ac6de71cd849c82b8b76397769d5017eb5b8c3f5

use autotoc tab style for resource registry

Files changed:
M CHANGES.rst
M mockup/patterns/resourceregistry/js/less.js
M mockup/patterns/resourceregistry/js/overrides.js
M mockup/patterns/resourceregistry/js/patternoptions.js
M mockup/patterns/resourceregistry/js/registry.js
M mockup/patterns/resourceregistry/pattern.js
M mockup/patterns/resourceregistry/pattern.resourceregistry.less

diff --git a/CHANGES.rst b/CHANGES.rst
index c5a1de6..94bc851 100644
--- a/CHANGES.rst
+++ b/CHANGES.rst
@@ -4,6 +4,9 @@ Changelog
 2.0.5 (unreleased)
 ------------------
 
+- use autotoc tab style for resource registry
+  [vangheem]
+
 - be able to add new file to resource registry overrides
   [vangheem]
 
diff --git a/mockup/patterns/resourceregistry/js/less.js b/mockup/patterns/resourceregistry/js/less.js
index be906f8..1f2a3e3 100644
--- a/mockup/patterns/resourceregistry/js/less.js
+++ b/mockup/patterns/resourceregistry/js/less.js
@@ -11,7 +11,7 @@ define([
     tagName: 'div',
     className: 'tab-pane lessvariables',
     template: _.template(
-      '<div class="clearfix">' +
+      '<div class="buttons-container">' +
         '<div class="btn-group pull-right">' +
           '<button class="plone-btn plone-btn-default add-variable"><%- _t("Add variable") %></button>' +
           '<button class="plone-btn plone-btn-primary save"><%- _t("Save") %></button>' +
diff --git a/mockup/patterns/resourceregistry/js/overrides.js b/mockup/patterns/resourceregistry/js/overrides.js
index f0fe6da..b794d94 100644
--- a/mockup/patterns/resourceregistry/js/overrides.js
+++ b/mockup/patterns/resourceregistry/js/overrides.js
@@ -17,7 +17,7 @@ define([
     newFile: false,
 
     template: _.template(
-      '<div class="clearfix">' +
+      '<div class="buttons-container">' +
         '<div class="btn-group pull-right">' +
           '<button class="plone-btn plone-btn-primary add-file"><%- _t("Add file") %></button> ' +
         '</div>' +
diff --git a/mockup/patterns/resourceregistry/js/patternoptions.js b/mockup/patterns/resourceregistry/js/patternoptions.js
index d5321bd..e4228e6 100644
--- a/mockup/patterns/resourceregistry/js/patternoptions.js
+++ b/mockup/patterns/resourceregistry/js/patternoptions.js
@@ -11,7 +11,7 @@ define([
     tagName: 'div',
     className: 'tab-pane patternoptions',
     template: _.template(
-      '<div class="clearfix">' +
+      '<div class="buttons-container">' +
         '<div class="btn-group pull-right">' +
           '<button class="plone-btn plone-btn-default add-pattern"><%- _t("Add pattern") %></button>' +
           '<button class="plone-btn plone-btn-primary save"><%- _t("Save") %></button>' +
diff --git a/mockup/patterns/resourceregistry/js/registry.js b/mockup/patterns/resourceregistry/js/registry.js
index 6138fe4..f1c623d 100644
--- a/mockup/patterns/resourceregistry/js/registry.js
+++ b/mockup/patterns/resourceregistry/js/registry.js
@@ -342,7 +342,7 @@ define([
 
   var RegistryView = BaseResourcesPane.extend({
     template: _.template(
-      '<div class="clearfix">' +
+      '<div class="buttons-container">' +
         '<div class="plone-btn-group pull-right">' +
           '<button class="plone-btn plone-btn-primary save"><%- _t("Save") %></button>' +
           '<button class="plone-btn plone-btn-default cancel"><%- _t("Cancel") %></button>' +
diff --git a/mockup/patterns/resourceregistry/pattern.js b/mockup/patterns/resourceregistry/pattern.js
index 6489cf8..4d2f293 100644
--- a/mockup/patterns/resourceregistry/pattern.js
+++ b/mockup/patterns/resourceregistry/pattern.js
@@ -106,11 +106,13 @@ define([
     tagName: 'div',
     activeTab: 'registry',
     template: _.template('' +
-      '<ul class="main-tabs nav nav-tabs" role="tablist">' +
-        '<li class="registry-btn"><a href="#"><%- _t("Registry") %></a></li>' +
-        '<li class="overrides-btn"><a href="#"><%- _t("Overrides") %></a></li>' +
-        '<li class="lessvariables-btn"><a href="#"><%- _t("Less Variables") %></a></li>' +
-        '<li class="patternoptions-btn"><a href="#"><%- _t("Pattern Options") %></a></li>' +
+      '<div class="autotabs">' +
+        '<ul class="main-tabs autotoc-nav" role="tablist">' +
+          '<li class="registry-btn"><a href="#"><%- _t("Registry") %></a></li>' +
+          '<li class="overrides-btn"><a href="#"><%- _t("Overrides") %></a></li>' +
+          '<li class="lessvariables-btn"><a href="#"><%- _t("Less Variables") %></a></li>' +
+          '<li class="patternoptions-btn"><a href="#"><%- _t("Pattern Options") %></a></li>' +
+        '</ul>' +
       '</div>' +
       '<div class="tab-content" />'
     ),
@@ -126,9 +128,9 @@ define([
         e.preventDefault();
         self.activeTab = $(e.target).parent()[0].className.replace('-btn', '');
       }
-      self.$('.main-tabs > li').removeClass('active');
+      self.$('.main-tabs > li a').removeClass('active');
       self.$content.find('.tab-pane').removeClass('active');
-      self.tabs[self.activeTab].btn.addClass('active');
+      self.tabs[self.activeTab].btn.find('a').addClass('active');
       self.tabs[self.activeTab].content.addClass('active');
     },
     initialize: function(options) {
diff --git a/mockup/patterns/resourceregistry/pattern.resourceregistry.less b/mockup/patterns/resourceregistry/pattern.resourceregistry.less
index 2264443..9c3b691 100644
--- a/mockup/patterns/resourceregistry/pattern.resourceregistry.less
+++ b/mockup/patterns/resourceregistry/pattern.resourceregistry.less
@@ -32,6 +32,10 @@
         display: block;
       }
     }
+    .tab-content{
+        padding: 0 10px;
+        background-color:white;
+    }
 
     .form-group:extend(.form-group all){}
     .help-block:extend(.help-block all){}
@@ -113,4 +117,21 @@
             display: none;
         }
     }
+
+    .buttons-container{
+        position: relative;
+        top: -45px;
+        right: 10px;
+    }
+
+    .autotabs{
+        margin-bottom:0;
+        border-bottom: 0;
+        border-bottom-right-radius: 0;
+        border-bottom-left-radius: 0;
+
+        .autotoc-nav{
+            margin: -6px -12px -6px;
+        }
+    }
 }


