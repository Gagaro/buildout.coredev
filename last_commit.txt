Repository: plonetheme.barceloneta


Branch: refs/heads/master
Date: 2015-09-16T16:44:57+02:00
Author: Philip Bauer (pbauer) <bauer@starzel.de>
Commit: https://github.com/plone/plonetheme.barceloneta/commit/a074eb3579fe8803dfd59c772d844e8fca13e22f

include hero-element from a view @@hero

Files changed:
M plonetheme/barceloneta/theme/index.html
M plonetheme/barceloneta/theme/rules.xml

diff --git a/plonetheme/barceloneta/theme/index.html b/plonetheme/barceloneta/theme/index.html
index eeefb9a..313f387 100644
--- a/plonetheme/barceloneta/theme/index.html
+++ b/plonetheme/barceloneta/theme/index.html
@@ -33,15 +33,6 @@
         <div id="mainnavigation">
         </div>
       </div>
-      <div class="principal" role="complementary">
-          <div class="container">
-              <div class="gigantic">
-                <h1>Welcome!</h1>
-                <p>Plone 5 rocks!</p>
-                <p><a href="http://plone.com" class="context" role="button" target="_blank">Learn more</a></p>
-              </div>
-          </div>
-      </div>
       <div id="above-content-wrapper">
           <div id="above-content">
           </div>
diff --git a/plonetheme/barceloneta/theme/rules.xml b/plonetheme/barceloneta/theme/rules.xml
index b3d486e..b2a4fa8 100644
--- a/plonetheme/barceloneta/theme/rules.xml
+++ b/plonetheme/barceloneta/theme/rules.xml
@@ -32,8 +32,8 @@
   <!-- move global nav -->
   <replace css:theme-children="#mainnavigation" css:content-children="#portal-mainnavigation" method="raw" />
 
-  <!-- hero unit on homepage only -->
-  <drop css:theme="div.principal" css:if-not-content="body.template-document_view.section-front-page" />
+  <!-- include view @@hero on homepage only -->
+  <after css:theme="#mainnavigation-wrapper" css:content=".principal" href="/@@hero" css:if-content="body.template-document_view.section-front-page" />
 
   <!-- full-width breadcrumb -->
   <replace css:content="#viewlet-above-content" css:theme="#above-content" />


Repository: plonetheme.barceloneta


Branch: refs/heads/master
Date: 2015-09-16T16:48:26+02:00
Author: Philip Bauer (pbauer) <bauer@starzel.de>
Commit: https://github.com/plone/plonetheme.barceloneta/commit/49b8626e2d6230ce540fb72a5f2c4f605f44d41d

Merge pull request #45 from plone/hero

include hero-element from a view @@hero

Files changed:
M plonetheme/barceloneta/theme/index.html
M plonetheme/barceloneta/theme/rules.xml

diff --git a/plonetheme/barceloneta/theme/index.html b/plonetheme/barceloneta/theme/index.html
index eeefb9a..313f387 100644
--- a/plonetheme/barceloneta/theme/index.html
+++ b/plonetheme/barceloneta/theme/index.html
@@ -33,15 +33,6 @@
         <div id="mainnavigation">
         </div>
       </div>
-      <div class="principal" role="complementary">
-          <div class="container">
-              <div class="gigantic">
-                <h1>Welcome!</h1>
-                <p>Plone 5 rocks!</p>
-                <p><a href="http://plone.com" class="context" role="button" target="_blank">Learn more</a></p>
-              </div>
-          </div>
-      </div>
       <div id="above-content-wrapper">
           <div id="above-content">
           </div>
diff --git a/plonetheme/barceloneta/theme/rules.xml b/plonetheme/barceloneta/theme/rules.xml
index b3d486e..b2a4fa8 100644
--- a/plonetheme/barceloneta/theme/rules.xml
+++ b/plonetheme/barceloneta/theme/rules.xml
@@ -32,8 +32,8 @@
   <!-- move global nav -->
   <replace css:theme-children="#mainnavigation" css:content-children="#portal-mainnavigation" method="raw" />
 
-  <!-- hero unit on homepage only -->
-  <drop css:theme="div.principal" css:if-not-content="body.template-document_view.section-front-page" />
+  <!-- include view @@hero on homepage only -->
+  <after css:theme="#mainnavigation-wrapper" css:content=".principal" href="/@@hero" css:if-content="body.template-document_view.section-front-page" />
 
   <!-- full-width breadcrumb -->
   <replace css:content="#viewlet-above-content" css:theme="#above-content" />


