Repository: plone.app.contenttypes


Branch: refs/heads/master
Date: 2015-09-18T14:38:08+02:00
Author: Victor Fernandez de Alba (sneridagh) <sneridagh@gmail.com>
Commit: https://github.com/plone/plone.app.contenttypes/commit/1267080b0ddd91fa2937a79fa2c2d6fe7ff0afab

Unify the listing DocumentByLine tag from span to div as used in the main DocumentByline

Files changed:
M plone/app/contenttypes/browser/templates/listing.pt

diff --git a/plone/app/contenttypes/browser/templates/listing.pt b/plone/app/contenttypes/browser/templates/listing.pt
index b21f554..24ffd73 100644
--- a/plone/app/contenttypes/browser/templates/listing.pt
+++ b/plone/app/contenttypes/browser/templates/listing.pt
@@ -52,7 +52,7 @@
                     </span>
 
                     <metal:block metal:define-macro="document_byline">
-                      <span class="documentByLine">
+                      <div class="documentByLine">
                         <tal:event condition="item_is_event">
                           <tal:date tal:replace="structure python:view.formatted_date(obj)"/>
                           <span tal:condition="item/location" i18n:translate="label_event_byline_location">&mdash;
@@ -92,7 +92,7 @@
                             </tal:comment>
                           </metal:description>
                         </tal:byline>
-                      </span>
+                      </div>
                     </metal:block>
                   </header>
                   <p class="description discreet"


Repository: plone.app.contenttypes


Branch: refs/heads/master
Date: 2015-09-18T14:38:23+02:00
Author: Victor Fernandez de Alba (sneridagh) <sneridagh@gmail.com>
Commit: https://github.com/plone/plone.app.contenttypes/commit/9de3ddbf22efbb9df04be30f98efcdcf570fc863

Improve the style of the summary_view

Files changed:
M plone/app/contenttypes/browser/templates/listing_summary.pt

diff --git a/plone/app/contenttypes/browser/templates/listing_summary.pt b/plone/app/contenttypes/browser/templates/listing_summary.pt
index 96c011c..611519c 100644
--- a/plone/app/contenttypes/browser/templates/listing_summary.pt
+++ b/plone/app/contenttypes/browser/templates/listing_summary.pt
@@ -26,26 +26,28 @@
 
           <div metal:use-macro="context/@@listing_view/macros/document_byline"></div>
 
-          <p class="tileBody" tal:condition="item_description">
-            <span class="description" tal:content="item_description">
-              description
-            </span>
-          </p>
-
-          <div class="tileImage" tal:condition="item_has_image">
+          <div class="tileImage"
+               tal:condition="item_has_image"
+               tal:attributes="class python: 'tileImage' if item_description else 'tileImageNoFloat'">
             <a tal:attributes="href item_link">
               <img tal:define="scales obj/@@images;
                                scale python:scales.scale('image', 'thumb')"
-                  tal:replace="structure python:scale and scale.tag(css_class='tileImage') or None" />
+                  tal:replace="structure python:scale and scale.tag() or None" />
             </a>
           </div>
 
-          <p class="tileFooter">
+          <div class="tileBody" tal:condition="item_description">
+            <span class="description" tal:content="item_description">
+              description
+            </span>
+          </div>
+
+          <div class="tileFooter">
             <a tal:attributes="href item_link"
                 i18n:translate="read_more">
               Read More&hellip;
             </a>
-          </p>
+          </div>
 
           <div class="visualClear"><!-- --></div>
 


