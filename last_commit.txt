Repository: mockup
Branch: refs/heads/master
Date: 2015-01-02T16:09:20-03:00
Author: Franco Pellegrini (frapell) <frapell@gmail.com>
Commit: https://github.com/plone/mockup/commit/7be8e860f2dbbc7c437849642078d173f4ceec38

Init vars could already be boolean. Also, always pull the value from the options

Files changed:
M mockup/patterns/markspeciallinks/pattern.js

diff --git a/mockup/patterns/markspeciallinks/pattern.js b/mockup/patterns/markspeciallinks/pattern.js
index e6db336..73f8eff 100644
--- a/mockup/patterns/markspeciallinks/pattern.js
+++ b/mockup/patterns/markspeciallinks/pattern.js
@@ -95,8 +95,8 @@ define([
 
       // first make external links open in a new window, afterwards do the
       // normal plone link wrapping in only the content area
-      var elonw = false,
-          msl = true,
+      var elonw,
+          msl,
           url,
           protocols,
           contentarea,
@@ -104,10 +104,14 @@ define([
 
       if (typeof self.options.external_links_open_new_window === 'string') {
           elonw = self.options.external_links_open_new_window.toLowerCase() === 'true';
+      } else if (typeof self.options.external_links_open_new_window === 'boolean') {
+          elonw = self.options.external_links_open_new_window;
       }
 
       if (typeof self.options.mark_special_links === 'string') {
           msl = self.options.mark_special_links.toLowerCase() === 'true';
+      } else if (typeof self.options.mark_special_links === 'boolean') {
+          msl = self.options.mark_special_links;
       }
 
       url = window.location.protocol + '//' + window.location.host;


