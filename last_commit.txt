Repository: plone.protect


Branch: refs/heads/master
Date: 2015-07-20T13:51:12-05:00
Author: vangheem (vangheem) <vangheem@gmail.com>
Commit: https://github.com/plone/plone.protect/commit/0809a742818c9602645a21079bed4c76ec704cb3

return if not valid reqeust object

Files changed:
M plone/protect/auto.py

diff --git a/plone/protect/auto.py b/plone/protect/auto.py
index ca065cd..f139893 100644
--- a/plone/protect/auto.py
+++ b/plone/protect/auto.py
@@ -40,6 +40,7 @@ def safeWrite(obj, request=None):
         request = getRequest()
     if request is None:
         LOGGER.debug('could not mark object as a safe write')
+        return
     if SAFE_WRITE_KEY not in request.environ:
         request.environ[SAFE_WRITE_KEY] = []
     try:


