Repository: plone.app.contentmenu


Branch: refs/heads/2.0.x
Date: 2015-08-13T22:49:01+02:00
Author: Maurits van Rees (mauritsvanrees) <maurits@vanrees.org>
Commit: https://github.com/plone/plone.app.contentmenu/commit/3afb80b249a2e5e7fe0c6fadeb797831f697c8c8

Revert "Moved txt to rst."

This reverts commit 27d985fcd39018683a0ea30e2e54dcf3b7ad775e.

Will restore later.

Files changed:
A CHANGES.txt
A README.txt
M MANIFEST.in
M setup.py
D CHANGES.rst
D README.rst

diff --git a/CHANGES.rst b/CHANGES.rst
deleted file mode 100644
index 249bce2..0000000
--- a/CHANGES.rst
+++ /dev/null
@@ -1,291 +0,0 @@
-Changelog
-=========
-
-2.0.10 (unreleased)
--------------------
-
-- Avoid DeprecationWarning for Products.CMFDynamicViewFTI.interface.
-  [maurits]
-
-
-2.0.9 (2014-01-27)
-------------------
-
-- Don't break if there's no portal_actionicons tool.
-  [davisagli]
-
-- Ported tests to plone.app.testing
-  [tomgross]
-
-
-2.0.8 (2013-03-05)
-------------------
-
-
-2.0.7 (2012-12-09)
-------------------
-
-- add prefix to id tag for display menu dropdown items, fixes #11927 and #10894
-  [maartenkling]
-
-2.0.6 (2012-07-02)
-------------------
-
-- Use zope.browsermenu and remove Zope 2.12 BBB code.
-  [hannosch]
-
-2.0.5 (2012-02-07)
-------------------
-
-- Restore the workflow menu on the folder contents page as it is the
-  only way to change the state of the folder when it has a default
-  page.  Improves the fix to http://dev.plone.org/plone/ticket/8908.
-  [rossp]
-
-2.0.4 - 2011-07-04
-------------------
-
-- Set height/width of contentmenu icons through browser menu code.
-  [thomasdesvenain]
-
-2.0.3 - 2011-05-12
-------------------
-
-- We need permission to see Placeful policy in workflow menu.
-  [thomasdesvenain]
-
-2.0.2 - 2011-01-03
-------------------
-
-- Depend on ``Products.CMFPlone`` instead of ``Plone``.
-  [elro]
-
-- Add test coverage for factory expression context when a front-page object is
-  used for a folder.  Fix in plone.app.content.
-  [rossp]
-
-- Fix the addContext in the FactoriesSubMenuItem to make it possible to add
-  content to a folderish object that set as the default view on its parent folder.
-  This closes http://dev.plone.org/plone/ticket/10953.
-  [WouterVH]
-
-
-2.0.1 - 2010-07-18
-------------------
-
-- Update license to GPL version 2 only.
-  [hannosch]
-
-
-2.0 - 2010-07-01
-----------------
-
-- Adding "deactivated" class to menus by default, so they won't flicker on load.
-  This fixes http://dev.plone.org/plone/ticket/10470.
-  [limi]
-
-
-2.0b3 - 2010-06-13
-------------------
-
-- Added optional compatibility with zope.browsermenu.
-  [hannosch]
-
-
-2.0b2 - 2010-02-17
-------------------
-
-- Show "add new" menu when there are one or more addable types. Showing a link
-  when only one type was addable caused conflicts with the dropdown JavaScript.
-  Closes http://dev.plone.org/plone/ticket/10193.
-  [esteele, davisagli]
-
-- Query the types tool instead of the action tools to find add actions
-  in FactoriesSubMenuItem. This fixes a discrepancy in action URLs.
-  http://dev.plone.org/plone/ticket/10207
-  [wichert]
-
-
-2.0b1 - 2010-01-24
-------------------
-
-- Removed the checking for hideChildren when a single item is present, this
-  makes the styling consistent again. The menu is really a one-item menu, and we
-  put it in the header as a shortcut that you can click directly. This fixes
-  http://dev.plone.org/plone/ticket/9735
-  [limi]
-
-
-2.0a2 - 2009-12-27
-------------------
-
-- Adjust factory menu to use the new getIconExprObject method.
-  [hannosch]
-
-- Removed no longer required zope.site dependency.
-  [hannosch]
-
-- Hide the actions, display and workflow menus on the folder contents page.
-  This closes http://dev.plone.org/plone/ticket/8908.
-  [hannosch]
-
-- Avoid a bogus getToolByName indirection via getSite().
-  [hannosch]
-
-- Noted missing zope.publisher dependency and prefer absolute imports.
-  [hannosch]
-
-- Mark selected display always with 'actionMenuSelected' class and
-  stop using bullet points. References
-  http://dev.plone.org/plone/ticket/9894
-  [dukebody]
-
-
-2.0a1 - 2009-11-14
-------------------
-
-- Specified package dependencies and assorted cleanups.
-  [hannosch]
-
-- Avoid a deprecation warning for calling the ``actions`` method from the
-  context_state state view without passing in an action category.
-  [hannosch]
-
-- Updated action and icon handling in the actions menu to take advantage of the
-  icon being stored on the action itself.
-  [hannosch]
-
-- Added support for the new add_view_expr property available on FTIs. This can be
-  used to construct a URL for add views.
-  [optilude]
-
-
-1.1.7 - 2009-03-07
-------------------
-
-- Made a test independent of an internal sort order.
-  [hannosch]
-
-- Escape the title of the defaultpage in the DisplayMenu. This fixes a potential
-  xss attack and http://dev.plone.org/plone/ticket/8377.
-  [csenger]
-
-- Added the prefix "folder-" to the CSS id of the folder part of the view
-  contentmenu. This closes http://dev.plone.org/plone/ticket/8375.
-  [realefab]
-
-
-1.1.6 - 2008-10-07
-------------------
-
-- Fix on factories menu, showing constrain options only when there are types to
-  constrain. This closes http://dev.plone.org/plone/ticket/8213.
-  [igbun]
-
-- Fix non XML syntax compliant ids in contentmenus. This closes
-  http://dev.plone.org/plone/ticket/8195
-  [garbas,calvinhp]
-
-
-1.1.5 - 2008-08-18
-------------------
-
-- Add a span with a "noMenuAction" class around disable menus, allowing them
-  to be styled.
-  [wichert]
-
-
-1.1.3 - 2008-07-07
-------------------
-
-- Adjusted tests to reflect new behavior introduced by the last change.
-  [hannosch]
-
-- Do not show the display menu if it is disabled (i.e. there is an index_html
-  item in the folder). The previous behavior was confusing for users: the
-  description with the hint to remove the index_html object was never shown
-  and users only got a unusable menu item. The new behavior makes the display
-  menu consistent with other parts of the Plone UI.
-  [wichert]
-
-- Add an actionMenuSelected class to selected menu items so they can be
-  styled (same class as used in Plone 2.5). Do not remove the <span>
-  tag around the &bull; for selected items so it can be removed when
-  proper CSS styling is used.
-  [wichert]
-
-
-1.0.7 - 2008-03-09
-------------------
-
-- Correct the content menu html: the icons in menus should have an empty
-  alt-attribute since the alternative text if no image can be seen is the label
-  of the menu item itself. Move the description to the title attribute so it
-  still shows up as tooltip.
-  [wichert]
-
-- Fixed an issue with non ISelectableBrowserDefault aware content.
-  This closes http://dev.plone.org/plone/ticket/7226.
-  [deo]
-
-
-1.0.6 - 2008-01-06
-------------------
-
-- Fixed display menu to show the default page title correctly when the
-  default-page is not a contained content item with DC metadata fields.
-  Thanks to George Lee for finding this.
-  [optilude]
-
-
-1.0.5 - 2008-01-02
-------------------
-
-- Fixed display menu to show the default page title when not currently
-  viewing it as well as the display of markup contained in translations.
-  This fixes http://dev.plone.org/plone/ticket/7281.
-  [witsch]
-
-- Removed loop that does nothing in plone.app.contentmenu.menu, in
-  WorkflowMenu.getMenuItems().
-  [dreamcatcher]
-
-1.0.3 - 2007-11-09
-------------------
-
-- Fixed another translation problem in the factory menu when only one type
-  was shown. This closes http://dev.plone.org/plone/ticket/7023.
-  [hannosch]
-
-- Fixed more translation problems with the display menu.
-  This closes http://dev.plone.org/plone/ticket/6838 again and
-  http://dev.plone.org/plone/ticket/7115 as well.
-  [hannosch]
-
-- Fixed display menu to properly show content item titles with non-ascii chars.
-  This closes http://dev.plone.org/plone/ticket/6838.
-  [hannosch]
-
-- Do not show the add item menu anymore on normal content, but just on
-  folderish and default pages. This closes
-  http://dev.plone.org/plone/ticket/6744.
-  [hannosch]
-
-- Fixed variable name in the label_item_selected message id. This closes
-  http://dev.plone.org/plone/ticket/6584.
-  [hannosch]
-
-- Normalized typeIds on the factories menu, as these are used as CSS ids
-  and would otherwise fail W3C validation for types with a space in the
-  name. This closes http://dev.plone.org/plone/ticket/6259.
-  [hannosch]
-
-- Set kssIgnore class on workflow actions that define their own screens.
-  [ldr]
-
-
-1.0b1 - 2007-03-05
-------------------
-
-- Initial package structure.
-  [zopeskel]
diff --git a/CHANGES.txt b/CHANGES.txt
new file mode 100644
index 0000000..249bce2
--- /dev/null
+++ b/CHANGES.txt
@@ -0,0 +1,291 @@
+Changelog
+=========
+
+2.0.10 (unreleased)
+-------------------
+
+- Avoid DeprecationWarning for Products.CMFDynamicViewFTI.interface.
+  [maurits]
+
+
+2.0.9 (2014-01-27)
+------------------
+
+- Don't break if there's no portal_actionicons tool.
+  [davisagli]
+
+- Ported tests to plone.app.testing
+  [tomgross]
+
+
+2.0.8 (2013-03-05)
+------------------
+
+
+2.0.7 (2012-12-09)
+------------------
+
+- add prefix to id tag for display menu dropdown items, fixes #11927 and #10894
+  [maartenkling]
+
+2.0.6 (2012-07-02)
+------------------
+
+- Use zope.browsermenu and remove Zope 2.12 BBB code.
+  [hannosch]
+
+2.0.5 (2012-02-07)
+------------------
+
+- Restore the workflow menu on the folder contents page as it is the
+  only way to change the state of the folder when it has a default
+  page.  Improves the fix to http://dev.plone.org/plone/ticket/8908.
+  [rossp]
+
+2.0.4 - 2011-07-04
+------------------
+
+- Set height/width of contentmenu icons through browser menu code.
+  [thomasdesvenain]
+
+2.0.3 - 2011-05-12
+------------------
+
+- We need permission to see Placeful policy in workflow menu.
+  [thomasdesvenain]
+
+2.0.2 - 2011-01-03
+------------------
+
+- Depend on ``Products.CMFPlone`` instead of ``Plone``.
+  [elro]
+
+- Add test coverage for factory expression context when a front-page object is
+  used for a folder.  Fix in plone.app.content.
+  [rossp]
+
+- Fix the addContext in the FactoriesSubMenuItem to make it possible to add
+  content to a folderish object that set as the default view on its parent folder.
+  This closes http://dev.plone.org/plone/ticket/10953.
+  [WouterVH]
+
+
+2.0.1 - 2010-07-18
+------------------
+
+- Update license to GPL version 2 only.
+  [hannosch]
+
+
+2.0 - 2010-07-01
+----------------
+
+- Adding "deactivated" class to menus by default, so they won't flicker on load.
+  This fixes http://dev.plone.org/plone/ticket/10470.
+  [limi]
+
+
+2.0b3 - 2010-06-13
+------------------
+
+- Added optional compatibility with zope.browsermenu.
+  [hannosch]
+
+
+2.0b2 - 2010-02-17
+------------------
+
+- Show "add new" menu when there are one or more addable types. Showing a link
+  when only one type was addable caused conflicts with the dropdown JavaScript.
+  Closes http://dev.plone.org/plone/ticket/10193.
+  [esteele, davisagli]
+
+- Query the types tool instead of the action tools to find add actions
+  in FactoriesSubMenuItem. This fixes a discrepancy in action URLs.
+  http://dev.plone.org/plone/ticket/10207
+  [wichert]
+
+
+2.0b1 - 2010-01-24
+------------------
+
+- Removed the checking for hideChildren when a single item is present, this
+  makes the styling consistent again. The menu is really a one-item menu, and we
+  put it in the header as a shortcut that you can click directly. This fixes
+  http://dev.plone.org/plone/ticket/9735
+  [limi]
+
+
+2.0a2 - 2009-12-27
+------------------
+
+- Adjust factory menu to use the new getIconExprObject method.
+  [hannosch]
+
+- Removed no longer required zope.site dependency.
+  [hannosch]
+
+- Hide the actions, display and workflow menus on the folder contents page.
+  This closes http://dev.plone.org/plone/ticket/8908.
+  [hannosch]
+
+- Avoid a bogus getToolByName indirection via getSite().
+  [hannosch]
+
+- Noted missing zope.publisher dependency and prefer absolute imports.
+  [hannosch]
+
+- Mark selected display always with 'actionMenuSelected' class and
+  stop using bullet points. References
+  http://dev.plone.org/plone/ticket/9894
+  [dukebody]
+
+
+2.0a1 - 2009-11-14
+------------------
+
+- Specified package dependencies and assorted cleanups.
+  [hannosch]
+
+- Avoid a deprecation warning for calling the ``actions`` method from the
+  context_state state view without passing in an action category.
+  [hannosch]
+
+- Updated action and icon handling in the actions menu to take advantage of the
+  icon being stored on the action itself.
+  [hannosch]
+
+- Added support for the new add_view_expr property available on FTIs. This can be
+  used to construct a URL for add views.
+  [optilude]
+
+
+1.1.7 - 2009-03-07
+------------------
+
+- Made a test independent of an internal sort order.
+  [hannosch]
+
+- Escape the title of the defaultpage in the DisplayMenu. This fixes a potential
+  xss attack and http://dev.plone.org/plone/ticket/8377.
+  [csenger]
+
+- Added the prefix "folder-" to the CSS id of the folder part of the view
+  contentmenu. This closes http://dev.plone.org/plone/ticket/8375.
+  [realefab]
+
+
+1.1.6 - 2008-10-07
+------------------
+
+- Fix on factories menu, showing constrain options only when there are types to
+  constrain. This closes http://dev.plone.org/plone/ticket/8213.
+  [igbun]
+
+- Fix non XML syntax compliant ids in contentmenus. This closes
+  http://dev.plone.org/plone/ticket/8195
+  [garbas,calvinhp]
+
+
+1.1.5 - 2008-08-18
+------------------
+
+- Add a span with a "noMenuAction" class around disable menus, allowing them
+  to be styled.
+  [wichert]
+
+
+1.1.3 - 2008-07-07
+------------------
+
+- Adjusted tests to reflect new behavior introduced by the last change.
+  [hannosch]
+
+- Do not show the display menu if it is disabled (i.e. there is an index_html
+  item in the folder). The previous behavior was confusing for users: the
+  description with the hint to remove the index_html object was never shown
+  and users only got a unusable menu item. The new behavior makes the display
+  menu consistent with other parts of the Plone UI.
+  [wichert]
+
+- Add an actionMenuSelected class to selected menu items so they can be
+  styled (same class as used in Plone 2.5). Do not remove the <span>
+  tag around the &bull; for selected items so it can be removed when
+  proper CSS styling is used.
+  [wichert]
+
+
+1.0.7 - 2008-03-09
+------------------
+
+- Correct the content menu html: the icons in menus should have an empty
+  alt-attribute since the alternative text if no image can be seen is the label
+  of the menu item itself. Move the description to the title attribute so it
+  still shows up as tooltip.
+  [wichert]
+
+- Fixed an issue with non ISelectableBrowserDefault aware content.
+  This closes http://dev.plone.org/plone/ticket/7226.
+  [deo]
+
+
+1.0.6 - 2008-01-06
+------------------
+
+- Fixed display menu to show the default page title correctly when the
+  default-page is not a contained content item with DC metadata fields.
+  Thanks to George Lee for finding this.
+  [optilude]
+
+
+1.0.5 - 2008-01-02
+------------------
+
+- Fixed display menu to show the default page title when not currently
+  viewing it as well as the display of markup contained in translations.
+  This fixes http://dev.plone.org/plone/ticket/7281.
+  [witsch]
+
+- Removed loop that does nothing in plone.app.contentmenu.menu, in
+  WorkflowMenu.getMenuItems().
+  [dreamcatcher]
+
+1.0.3 - 2007-11-09
+------------------
+
+- Fixed another translation problem in the factory menu when only one type
+  was shown. This closes http://dev.plone.org/plone/ticket/7023.
+  [hannosch]
+
+- Fixed more translation problems with the display menu.
+  This closes http://dev.plone.org/plone/ticket/6838 again and
+  http://dev.plone.org/plone/ticket/7115 as well.
+  [hannosch]
+
+- Fixed display menu to properly show content item titles with non-ascii chars.
+  This closes http://dev.plone.org/plone/ticket/6838.
+  [hannosch]
+
+- Do not show the add item menu anymore on normal content, but just on
+  folderish and default pages. This closes
+  http://dev.plone.org/plone/ticket/6744.
+  [hannosch]
+
+- Fixed variable name in the label_item_selected message id. This closes
+  http://dev.plone.org/plone/ticket/6584.
+  [hannosch]
+
+- Normalized typeIds on the factories menu, as these are used as CSS ids
+  and would otherwise fail W3C validation for types with a space in the
+  name. This closes http://dev.plone.org/plone/ticket/6259.
+  [hannosch]
+
+- Set kssIgnore class on workflow actions that define their own screens.
+  [ldr]
+
+
+1.0b1 - 2007-03-05
+------------------
+
+- Initial package structure.
+  [zopeskel]
diff --git a/MANIFEST.in b/MANIFEST.in
index 0f92c3e..c3e8313 100644
--- a/MANIFEST.in
+++ b/MANIFEST.in
@@ -1,4 +1,4 @@
-include *rst
+include *
 
 recursive-include docs *
 recursive-include plone *
diff --git a/README.rst b/README.rst
deleted file mode 100644
index 0409600..0000000
--- a/README.rst
+++ /dev/null
@@ -1,6 +0,0 @@
-Introduction
-============
-
-plone.app.contentmenu contains the logic that powers Plone's content menu
-(the green one with the drop-down menus).
-
diff --git a/README.txt b/README.txt
new file mode 100644
index 0000000..0409600
--- /dev/null
+++ b/README.txt
@@ -0,0 +1,6 @@
+Introduction
+============
+
+plone.app.contentmenu contains the logic that powers Plone's content menu
+(the green one with the drop-down menus).
+
diff --git a/setup.py b/setup.py
index 3ccf184..40a7dbc 100644
--- a/setup.py
+++ b/setup.py
@@ -1,26 +1,20 @@
 from setuptools import setup, find_packages
 
 version = '2.0.10.dev0'
-long_description = open("README.rst").read()
-long_description += "\n"
-long_description += open("CHANGES.rst").read()
 
 setup(name='plone.app.contentmenu',
       version=version,
       description="Plone's content menu implementation",
-      long_description=long_description,
+      long_description=open("README.txt").read() + "\n" +
+                       open("CHANGES.txt").read(),
       classifiers=[
           "Environment :: Web Environment",
           "Framework :: Plone",
-          "Framework :: Plone :: 4.2",
-          "Framework :: Plone :: 4.3",
           "Framework :: Zope2",
           "License :: OSI Approved :: GNU General Public License (GPL)",
           "Operating System :: OS Independent",
           "Programming Language :: Python",
-          "Programming Language :: Python :: 2.6",
-          "Programming Language :: Python :: 2.7",
-      ],
+        ],
       keywords='plone contentmenu menu',
       author='Plone Foundation',
       author_email='plone-developers@lists.sourceforge.net',
@@ -31,26 +25,26 @@
       include_package_data=True,
       zip_safe=False,
       extras_require=dict(
-          test=[
-              'plone.app.testing',
+        test=[
+          'plone.app.testing',
           ]
-          ),
+        ),
       install_requires=[
-          'setuptools',
-          'plone.locking',
-          'plone.memoize',
-          'plone.app.content >=2.0a3',
-          'zope.browsermenu',
-          'zope.component',
-          'zope.contentprovider',
-          'zope.interface',
-          'zope.i18n',
-          'zope.i18nmessageid',
-          'zope.publisher',
-          'Acquisition',
-          'Products.CMFCore',
-          'Products.CMFDynamicViewFTI',
-          'Products.CMFPlone',
-          'Zope2',
+        'setuptools',
+        'plone.locking',
+        'plone.memoize',
+        'plone.app.content >=2.0a3',
+        'zope.browsermenu',
+        'zope.component',
+        'zope.contentprovider',
+        'zope.interface',
+        'zope.i18n',
+        'zope.i18nmessageid',
+        'zope.publisher',
+        'Acquisition',
+        'Products.CMFCore',
+        'Products.CMFDynamicViewFTI',
+        'Products.CMFPlone',
+        'Zope2',
       ],
       )


Repository: plone.app.contentmenu


Branch: refs/heads/2.0.x
Date: 2015-08-13T22:49:23+02:00
Author: Maurits van Rees (mauritsvanrees) <maurits@vanrees.org>
Commit: https://github.com/plone/plone.app.contentmenu/commit/00c0493f64b95cb641aebb649679e6e7c57bfc7c

Revert "Avoid DeprecationWarning for Products.CMFDynamicViewFTI.interface."

This reverts commit 94dea7e5633ae13dad9fcf2b792343fae68f8efe.

Will restore later.

Files changed:
M CHANGES.txt
M plone/app/contentmenu/menu.py

diff --git a/CHANGES.txt b/CHANGES.txt
index 249bce2..91fb2e8 100644
--- a/CHANGES.txt
+++ b/CHANGES.txt
@@ -4,8 +4,7 @@ Changelog
 2.0.10 (unreleased)
 -------------------
 
-- Avoid DeprecationWarning for Products.CMFDynamicViewFTI.interface.
-  [maurits]
+- Nothing changed yet.
 
 
 2.0.9 (2014-01-27)
diff --git a/plone/app/contentmenu/menu.py b/plone/app/contentmenu/menu.py
index c1f672c..0cc9794 100644
--- a/plone/app/contentmenu/menu.py
+++ b/plone/app/contentmenu/menu.py
@@ -10,7 +10,7 @@
 
 from Acquisition import aq_base
 from Products.CMFCore.utils import getToolByName, _checkPermission
-from Products.CMFDynamicViewFTI.interfaces import ISelectableBrowserDefault
+from Products.CMFDynamicViewFTI.interface import ISelectableBrowserDefault
 from Products.CMFPlone import utils
 from Products.CMFPlone.interfaces.structure import INonStructuralFolder
 from Products.CMFPlone.interfaces.constrains import IConstrainTypes


Repository: plone.app.contentmenu


Branch: refs/heads/2.0.x
Date: 2015-08-13T22:51:37+02:00
Author: Maurits van Rees (mauritsvanrees) <maurits@vanrees.org>
Commit: https://github.com/plone/plone.app.contentmenu/commit/aff823f760cc7d9ce5257b7e0a1a29150980d608

Remove test changes targeted at Plone 5.

This restores what was released as 2.0.10 on 2014-01-28.
This somehow never made it back into version control.
Code is taken from the official zip file on PyPI.

Files changed:
M CHANGES.txt
M plone/app/contentmenu/tests.py
M setup.py

diff --git a/CHANGES.txt b/CHANGES.txt
index 91fb2e8..14342c1 100644
--- a/CHANGES.txt
+++ b/CHANGES.txt
@@ -1,10 +1,11 @@
 Changelog
 =========
 
-2.0.10 (unreleased)
+2.0.10 (2014-01-28)
 -------------------
 
-- Nothing changed yet.
+- Remove test changes targeted at Plone 5.
+  [esteele]
 
 
 2.0.9 (2014-01-27)
@@ -13,9 +14,6 @@ Changelog
 - Don't break if there's no portal_actionicons tool.
   [davisagli]
 
-- Ported tests to plone.app.testing
-  [tomgross]
-
 
 2.0.8 (2013-03-05)
 ------------------
diff --git a/plone/app/contentmenu/tests.py b/plone/app/contentmenu/tests.py
index 407796f..808005d 100644
--- a/plone/app/contentmenu/tests.py
+++ b/plone/app/contentmenu/tests.py
@@ -1,6 +1,8 @@
 import unittest
 
-from plone.app.testing.bbb import PloneTestCase
+from Testing.ZopeTestCase.placeless import PlacelessSetup
+from Products.PloneTestCase import PloneTestCase as ptc
+ptc.setupPloneSite()
 
 from plone.locking.interfaces import ILockable
 from zope.browsermenu.interfaces import IBrowserMenu
@@ -20,7 +22,7 @@
 from plone.app.contentmenu.interfaces import IWorkflowMenu
 
 
-class TestActionsMenu(PloneTestCase):
+class TestActionsMenu(ptc.PloneTestCase):
 
     def afterSetUp(self):
         self.menu = getUtility(
@@ -39,7 +41,7 @@ def testActionsMenuFindsActions(self):
         self.failUnless('plone-contentmenu-actions-copy' in [a['extra']['id'] for a in actions])
 
 
-class TestDisplayMenu(PloneTestCase):
+class TestDisplayMenu(ptc.PloneTestCase):
 
     def afterSetUp(self):
         self.menu = getUtility(
@@ -193,7 +195,7 @@ def testDefaultPageTemplateTitle(self):
                           changeAction['title'].mapping['contentitem'])
 
 
-class TestFactoriesMenu(PloneTestCase):
+class TestFactoriesMenu(ptc.PloneTestCase):
 
     def afterSetUp(self):
         self.folder.invokeFactory('Document', 'doc1')
@@ -330,7 +332,7 @@ def testImgConditionalOnTypeIcon(self):
         self.failIf(item['icon'])
 
 
-class TestWorkflowMenu(PloneTestCase):
+class TestWorkflowMenu(ptc.PloneTestCase):
 
     def afterSetUp(self):
         self.folder.invokeFactory('Document', 'doc1')
@@ -401,7 +403,7 @@ def testPolicyIncludedIfCMFPWIsInstalled(self):
         self.failUnless(url in [a['action'] for a in actions])
 
 
-class TestContentMenu(PloneTestCase):
+class TestContentMenu(ptc.PloneTestCase):
 
     def afterSetUp(self):
         self.menu = getUtility(
@@ -602,7 +604,7 @@ def testWorkflowMenuWithNoWorkflowNotIncluded(self):
                     [a['extra']['id'] for a in actions])
 
 
-class TestDisplayViewsMenu(unittest.TestCase):
+class TestDisplayViewsMenu(PlacelessSetup, unittest.TestCase):
 
     def setUp(self):
         # BBB for Zope 2.12
diff --git a/setup.py b/setup.py
index 40a7dbc..76efbe0 100644
--- a/setup.py
+++ b/setup.py
@@ -1,6 +1,6 @@
 from setuptools import setup, find_packages
 
-version = '2.0.10.dev0'
+version = '2.0.10'
 
 setup(name='plone.app.contentmenu',
       version=version,
@@ -26,7 +26,7 @@
       zip_safe=False,
       extras_require=dict(
         test=[
-          'plone.app.testing',
+          'Products.PloneTestCase',
           ]
         ),
       install_requires=[


Repository: plone.app.contentmenu


Branch: refs/heads/2.0.x
Date: 2015-08-13T22:53:39+02:00
Author: Maurits van Rees (mauritsvanrees) <maurits@vanrees.org>
Commit: https://github.com/plone/plone.app.contentmenu/commit/8d7ae824de81c08f984d457cbf74849e707fd58a

Back to development: 2.0.11

[ci skip]

Files changed:
M CHANGES.txt
M setup.py

diff --git a/CHANGES.txt b/CHANGES.txt
index 14342c1..deb3785 100644
--- a/CHANGES.txt
+++ b/CHANGES.txt
@@ -1,6 +1,12 @@
 Changelog
 =========
 
+2.0.11 (unreleased)
+-------------------
+
+- Nothing changed yet.
+
+
 2.0.10 (2014-01-28)
 -------------------
 
diff --git a/setup.py b/setup.py
index 76efbe0..53ffdab 100644
--- a/setup.py
+++ b/setup.py
@@ -1,6 +1,6 @@
 from setuptools import setup, find_packages
 
-version = '2.0.10'
+version = '2.0.11.dev0'
 
 setup(name='plone.app.contentmenu',
       version=version,


