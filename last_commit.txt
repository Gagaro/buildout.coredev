Repository: plone.api


Branch: refs/heads/master
Date: 2015-09-08T18:10:59+02:00
Author: Maurits van Rees (mauritsvanrees) <maurits@vanrees.org>
Commit: https://github.com/plone/plone.api/commit/9e02086b2b0e87cfcbd0c49bfc9671d8e21ec0f7

Removed empty 'exclude' line from MANIFEST.in.

Installing worked, but gave a warning:

warning: manifest_maker: MANIFEST.in, line 18: 'exclude' expects &lt;pattern1&gt; &lt;pattern2&gt; ...

Files changed:
M MANIFEST.in

diff --git a/MANIFEST.in b/MANIFEST.in
index 36de4ab..9c94769 100644
--- a/MANIFEST.in
+++ b/MANIFEST.in
@@ -15,4 +15,3 @@ exclude Makefile
 exclude plone-4.2.x.cfg
 exclude plone-4.3.x.cfg
 exclude plone-5.0.x.cfg
-exclude 


Repository: plone.api


Branch: refs/heads/master
Date: 2015-09-08T18:16:13+02:00
Author: Maurits van Rees (mauritsvanrees) <maurits@vanrees.org>
Commit: https://github.com/plone/plone.api/commit/8b2e62e83a13ae18eb9ef459b4fd96011f2b2a65

MANIFEST.in: do not include non-existing docs/README.rst

Files changed:
M MANIFEST.in

diff --git a/MANIFEST.in b/MANIFEST.in
index 9c94769..7f30635 100644
--- a/MANIFEST.in
+++ b/MANIFEST.in
@@ -1,5 +1,4 @@
 include *.rst
-include docs/README.rst
 include docs/CHANGES.rst
 include docs/LICENSE.txt
 include docs/LICENSE.GPL


Repository: plone.api


Branch: refs/heads/master
Date: 2015-09-08T18:22:36+02:00
Author: Maurits van Rees (mauritsvanrees) <maurits@vanrees.org>
Commit: https://github.com/plone/plone.api/commit/6542e1736b259358fa15ae87016dbd194015e901

Prune docs from the distribution.

Apparently we do not want this (not used by the package), so let's make it explicit.
Now check-manifest does not complain.
Note that three files from the docs/ dir are still explicitly included,
which works just fine.

Files changed:
M MANIFEST.in

diff --git a/MANIFEST.in b/MANIFEST.in
index 7f30635..3dccd77 100644
--- a/MANIFEST.in
+++ b/MANIFEST.in
@@ -1,4 +1,5 @@
 include *.rst
+prune docs
 include docs/CHANGES.rst
 include docs/LICENSE.txt
 include docs/LICENSE.GPL


Repository: plone.api


Branch: refs/heads/master
Date: 2015-09-08T18:25:01+02:00
Author: Maurits van Rees (mauritsvanrees) <maurits@vanrees.org>
Commit: https://github.com/plone/plone.api/commit/f6d07297d249214f547032cfab0be1c9cc9294c8

Fixed long description of package to be valid restructured text.

Then it displays nicely on PyPI.

Problem was that the license section was immediately after the
changelog, causing a parse error.

Files changed:
M docs/CHANGES.rst
M setup.py

diff --git a/docs/CHANGES.rst b/docs/CHANGES.rst
index 00f980e..a5ca510 100644
--- a/docs/CHANGES.rst
+++ b/docs/CHANGES.rst
@@ -4,7 +4,9 @@ Changelog
 1.4.5 (unreleased)
 ------------------
 
-- Nothing changed yet.
+- Fixed long description of package to be valid restructured text,
+  displaying nicely on PyPI.
+  [maurits]
 
 
 1.4.4 (2015-09-08)
diff --git a/setup.py b/setup.py
index 3d1bcad..f32c60a 100644
--- a/setup.py
+++ b/setup.py
@@ -9,8 +9,8 @@ def read(*rnames):
     return open(os.path.join(os.path.dirname(__file__), *rnames)).read()
 
 long_description = \
-    read('README.rst') + \
-    read('docs', 'CHANGES.rst') + \
+    read('README.rst') + '\n\n' + \
+    read('docs', 'CHANGES.rst') + '\n\n' + \
     read('docs', 'LICENSE.txt')
 
 version = '1.4.5.dev0'


Repository: plone.api


Branch: refs/heads/master
Date: 2015-09-08T18:34:50+02:00
Author: Maurits van Rees (mauritsvanrees) <maurits@vanrees.org>
Commit: https://github.com/plone/plone.api/commit/3a5f6d07d274df21ea0a0112e5659d1a224f03f1

Improved setup.py: url, keywords, classifiers.

Files changed:
M setup.py

diff --git a/setup.py b/setup.py
index f32c60a..5a6063a 100644
--- a/setup.py
+++ b/setup.py
@@ -28,6 +28,8 @@ def read(*rnames):
     namespace_packages=['plone'],
     include_package_data=True,
     zip_safe=False,
+    url='https://github.com/plone/plone.api',
+    keywords='plone api code conventions',
     install_requires=[
         'Products.statusmessages',
         'decorator',
@@ -64,10 +66,13 @@ def read(*rnames):
         'Framework :: Plone',
         'Framework :: Plone :: 4.2',
         'Framework :: Plone :: 4.3',
+        'Framework :: Plone :: 5.0',
         'Intended Audience :: Developers',
         'License :: OSI Approved :: GNU General Public License v2 (GPLv2)',
         'Operating System :: OS Independent',
         'Programming Language :: Python',
+        'Programming Language :: Python :: 2.6',
+        'Programming Language :: Python :: 2.7',
     ],
     platforms='Any',
 )


